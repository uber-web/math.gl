{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/internals/redefine.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/has.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/shared.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/uid.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/fails.js","webpack:///../node_modules/probe.gl/dist/esm/env/is-electron.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/react-table/es/utils.js","webpack:///./node_modules/react-table/es/lifecycle.js","webpack:///./node_modules/react-table/es/methods.js","webpack:///./node_modules/react-table/es/pagination.js","webpack:///./node_modules/react-table/es/defaultProps.js","webpack:///./node_modules/react-table/es/index.js","webpack:///./node_modules/react-table/es/propTypes.js","webpack:///./node_modules/@probe.gl/react-bench/dist/esm/components/bench-results.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///../node_modules/probe.gl/dist/esm/utils/autobind.js","webpack:///../node_modules/probe.gl/dist/esm/utils/globals.js","webpack:///../node_modules/probe.gl/dist/esm/utils/hi-res-timestamp.js","webpack:///../node_modules/probe.gl/dist/esm/utils/assert.js","webpack:///../node_modules/probe.gl/dist/esm/utils/local-storage.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/format-utils.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/stat-utils.js","webpack:///../node_modules/probe.gl/dist/esm/utils/formatters.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/bench-loggers.js","webpack:///../node_modules/@probe.gl/bench/dist/esm/bench.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///../modules/core/test/lib/javascript.bench.js","webpack:///../modules/core/src/lib/assert.js","webpack:///../modules/core/src/lib/common.js","webpack:///../modules/core/src/classes/base/math-array.js","webpack:///../modules/core/src/lib/validators.js","webpack:///../modules/core/src/classes/base/vector.js","webpack:///../node_modules/gl-matrix/esm/common.js","webpack:///../node_modules/gl-matrix/esm/vec3.js","webpack:///../modules/core/src/lib/gl-matrix-extras.js","webpack:///../modules/core/src/classes/vector3.js","webpack:///../modules/core/test/lib/common.bench.js","webpack:///../node_modules/gl-matrix/esm/vec2.js","webpack:///../modules/core/src/classes/vector2.js","webpack:///../modules/core/test/classes/vector2.bench.js","webpack:///../modules/core/test/classes/vector3.bench.js","webpack:///../modules/core/src/classes/vector4.js","webpack:///../modules/core/test/classes/vector4.bench.js","webpack:///../modules/core/src/classes/base/matrix.js","webpack:///../node_modules/gl-matrix/esm/mat4.js","webpack:///../node_modules/gl-matrix/esm/vec4.js","webpack:///../modules/core/src/classes/matrix4.js","webpack:///../modules/core/test/classes/matrix4.bench.js","webpack:///../modules/core/test/bench.js","webpack:///../modules/geospatial/src/constants.js","webpack:///../modules/geospatial/src/type-utils.js","webpack:///../modules/core/src/lib/math-utils.js","webpack:///../modules/geospatial/src/ellipsoid/helpers/scale-to-geodetic-surface.js","webpack:///../modules/geospatial/src/ellipsoid/helpers/ellipsoid-transform.js","webpack:///../modules/geospatial/src/ellipsoid/ellipsoid.js","webpack:///../modules/geospatial/test/ellipsoid/ellipsoid.bench.js","webpack:///../modules/geospatial/test/bench.js","webpack:///../modules/culling/src/constants.js","webpack:///../modules/culling/src/lib/bounding-volumes/bounding-sphere.js","webpack:///../modules/culling/src/lib/bounding-volumes/axis-aligned-bounding-box.js","webpack:///../node_modules/gl-matrix/esm/mat3.js","webpack:///../modules/core/src/classes/matrix3.js","webpack:///../node_modules/gl-matrix/esm/quat.js","webpack:///../modules/culling/src/lib/plane.js","webpack:///../modules/culling/src/lib/bounding-volumes/oriented-bounding-box.js","webpack:///../modules/culling/src/lib/culling-volume.js","webpack:///../modules/culling/src/lib/perspective-off-center-frustum.js","webpack:///../modules/culling/src/lib/algorithms/bounding-sphere-from-points.js","webpack:///../modules/culling/src/lib/algorithms/compute-eigen-decomposition.js","webpack:///../modules/culling/src/lib/algorithms/bounding-box-from-points.js","webpack:///../modules/culling/test/bench.js","webpack:///../modules/polygon/src/polygon-utils.js","webpack:///../modules/polygon/src/polygon.js","webpack:///../modules/polygon/src/earcut.js","webpack:///../modules/polygon/test/bench.js","webpack:///../modules/polygon/test/utils.js","webpack:///../test/bench/modules.bench.js","webpack:///../examples/benchmarks/app.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/global.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/classnames/index.js","webpack:///../node_modules/probe.gl/dist/esm/env/globals.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/to-length.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/export.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/is-object.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/path.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/set-global.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/an-object.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.math.hypot.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///../node_modules/probe.gl/dist/esm/env/is-browser.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-get-own-property-names.js"],"names":["global","createNonEnumerableProperty","has","setGlobal","inspectSource","InternalStateModule","getInternalState","get","enforceInternalState","enforce","TEMPLATE","String","split","module","exports","O","key","value","options","unsafe","simple","enumerable","noTargetGet","source","join","Function","prototype","this","WeakMap","test","toInteger","max","Math","min","index","length","integer","hasOwnProperty","it","call","bitmap","configurable","writable","undefined","TypeError","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","Object","NASHORN_BUG","1","f","V","descriptor","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","keys","defineProperty","i","IS_PURE","store","push","version","mode","copyright","fails","classof","DESCRIPTORS","createPropertyDescriptor","object","isObject","document","EXISTS","createElement","set","NATIVE_WEAK_MAP","objectHas","sharedKey","hiddenKeys","wmget","wmhas","wmset","metadata","STATE","getterFor","TYPE","state","type","id","postfix","random","toString","propertyIsEnumerableModule","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","P","error","exec","isElectron","mockUserAgent","window","process","versions","Boolean","electron","realUserAgent","navigator","userAgent","indexOf","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","input","PREFERRED_STRING","fn","val","valueOf","_possibleConstructorReturn","self","assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_extends","assign","arguments","_objectWithoutProperties","obj","path","def","pathObj","makePathArray","reduce","current","pathPart","e","keyPart","cursor","shift","takeRight","arr","n","start","slice","last","orderBy","funcs","dirs","indexKey","sort","rowA","rowB","comp","desc","sortInt","range","remove","a","b","filter","splice","clone","JSON","parse","stringify","getFirstDefined","sum","makeTemplateComponent","compClass","displayName","Error","cmp","_ref","children","className","rest","groupBy","xs","rv","x","resKey","isArray","splitProps","_ref2","style","compactObject","newObj","map","isSortingDesc","d","asc","normalizeComponent","Comp","props","fallback","asPx","Number","isNaN","Array","flattenDeep","newArr","replace","_createClass","defineProperties","Constructor","protoProps","staticProps","_slicedToArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","_defineProperty","_toConsumableArray","arr2","from","instance","ReferenceError","_Component","ReactTablePagination","_this","getSafePage","bind","changePage","applyPage","page","subClass","superClass","create","constructor","prevProps","prevState","setState","pages","onPageChange","preventDefault","_this2","onKeyPress","which","keyCode","onBlur","onChange","inputType","pageJumpText","_this3","_props","showPageSizeOptions","pageSizeOptions","pageSize","showPageJump","canPrevious","canNext","onPageSizeChange","PreviousComponent","NextComponent","renderPageJump","renderCurrentPage","renderTotalPagesCount","renderPageSizeOptions","onClick","disabled","previousText","pageText","getPageJumpProperties","ofText","rowsSelectorText","rowsText","nextText","defaultProps","option","emptyObj","data","resolveData","loading","showPagination","showPaginationTop","showPaginationBottom","defaultPage","defaultPageSize","collapseOnSortingChange","collapseOnPageChange","collapseOnDataChange","freezeWhenExpanded","sortable","multiSort","resizable","filterable","defaultSortDesc","defaultSorted","defaultFiltered","defaultResized","defaultExpanded","defaultFilterMethod","row","column","pivotId","startsWith","defaultSortMethod","toLowerCase","onSortedChange","onFilteredChange","onResizedChange","onExpandedChange","pivotBy","pivotValKey","pivotIDKey","subRowsKey","aggregatedKey","nestingLevelKey","originalKey","groupedByPivotKey","onFetchData","getProps","getTableProps","getTheadGroupProps","getTheadGroupTrProps","getTheadGroupThProps","getTheadProps","getTheadTrProps","getTheadThProps","getTheadFilterProps","getTheadFilterTrProps","getTheadFilterThProps","getTbodyProps","getTrGroupProps","getTrProps","getTdProps","getTfootProps","getTfootTrProps","getTfootTdProps","getPaginationProps","getLoadingProps","getNoDataProps","getResizerProps","Cell","Header","Footer","Aggregated","Pivot","PivotValue","Expander","Filter","Placeholder","show","minWidth","minResizeWidth","aggregate","headerClassName","headerStyle","getHeaderProps","footerClassName","footerStyle","getFooterProps","filterMethod","filterAll","sortMethod","expanderDefaults","width","pivotDefaults","loadingText","noDataText","TableComponent","role","TheadComponent","TbodyComponent","TrGroupComponent","TrComponent","_ref3","ThComponent","_ref4","toggleSort","tabIndex","TdComponent","_ref5","TfootComponent","FilterComponent","_ref6","_onChange","placeholder","event","ExpanderComponent","_ref7","isExpanded","PivotValueComponent","_ref8","subRows","AggregatedComponent","_ref9","previewValues","PivotComponent","PaginationComponent","LoadingComponent","_ref10","NoDataComponent","ResizerComponent","PadRowComponent","any","bool","array","number","func","string","arrayOf","shape","oneOfType","element","elementType","node","_Methods","ReactTable","getResolvedState","getDataModel","getSortedData","fireFetchData","getPropOrState","getStateOrProp","filterData","sortData","getMinRows","sortColumn","filterColumn","resizeColumnStart","resizeColumnEnd","resizeColumnMoving","resolvedState","manual","sorted","filtered","resized","expanded","SubComponent","resolvedData","allVisibleColumns","headerGroups","hasHeaderGroups","sortedData","currentlyResizing","startRow","endRow","pageRows","minRows","padRows","hasColumnFooter","some","hasFilters","_recurseRowsViewIndex3","recurseRowsViewIndex","rows","rowWithViewIndex","_viewIndex","newPath","concat","_recurseRowsViewIndex","_recurseRowsViewIndex2","_recurseRowsViewIndex4","rowMinWidth","resizedColumn","find","rowIndex","finalState","rootProps","tableProps","tBodyProps","loadingProps","noDataProps","makeHeaderGroup","resizedValue","col","flex","columns","maxWidth","theadGroupThProps","columnHeaderProps","classes","styles","flexStyles","makeHeader","resizedCol","theadThProps","isResizable","resizer","onMouseDown","onTouchStart","isSortable","shiftKey","makeFilter","theadFilterThProps","ResolvedFilterComponent","isFilterable","makePadColumn","tdProps","columnProps","makePadRow","trGroupProps","trProps","makeColumnFooter","tFootTdProps","columnFooterProps","makePagination","isTop","paginationProps","makeTable","theadGroupProps","theadGroupTrProps","theadProps","theadTrProps","theadFilterProps","theadFilterTrProps","makePageRow","rowInfo","original","viewIndex","level","nestingPath","aggregated","groupedByPivot","i2","cellInfo","pivoted","expander","useOnExpanderClick","isBranch","isPreview","resolvedCell","ResolvedAggregatedComponent","ResolvedExpanderComponent","ResolvedPivotValueComponent","DefaultResolvedPivotComponent","ResolvedPivotComponent","expandable","resolvedOnExpanderClick","newExpanded","setStateWithData","interactionProps","tFootProps","tFootTrProps","_Base","_class","apply","newState","dataChanged","_newState$pivotBy","forEach","columnsWithExpander","expanderColumn","col2","allDecoratedColumns","decorateAndAddToAll","parentColumn","decoratedColumn","dcol","accessor","accessorString","console","warn","makeDecoratedColumn","visibleColumns","pivotIndex","visibleSubColumns","findIndex","pivot","pivotColumns","pivotID","found","PivotParentColumn","prev","PivotGroupHeader","pivotColumnGroup","unshift","currentSpan","addHeader","accessRow","_row","aggregatingColumns","aggregationValues","values","groupRecursively","groupedRows","entries","rowGroup","_extends2","sortMethodsByColumnID","currentState","filteredData","filteredSoFar","nextFilter","_this4","orderByMethod","newPageSize","_getResolvedState","currentRow","newPage","floor","additive","_getResolvedState2","skipNextSort","firstSortDirection","secondSortDirection","newSorted","_existingIndex","existingIndex","existing","newFiltering","isTouch","_this5","stopPropagation","parentWidth","parentElement","getBoundingClientRect","pageX","changedTouches","trapEvents","startX","addEventListener","_props2","_getResolvedState4","currentColumn","c","newResized","newWidth","removeEventListener","Base","_classCallCheck","defaultState","dataModel","calculateNewResolvedState","oldState","defaultName","charAt","toUpperCase","optionName","newResolvedState","frozen","showFilters","ceil","cb","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","getPercent","score","logScore","log10","Star","fontSize","color","BarCell","percent","_ref$stars","stars","_ref$children","height","backgroundColor","borderRadius","transition","fill","_","PerformanceBarCell","_inherits","BenchResults","Derived","_super","result","Super","NewTarget","log","display","formattedValue","_renderTable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","Promise","then","_asyncToGenerator","args","_createForOfIteratorHelper","minLen","_arrayLikeToArray","name","_unsupportedIterableToArray","F","s","normalCompletion","didErr","step","_e2","len","autobind","_step","predefined","proto","propNames","getOwnPropertyNames","_iterator","_loop","isBrowser","__VERSION__","getHiResTimestamp","timestamp","performance","now","hrtime","timeParts","assert","condition","message","getStorage","storage","setItem","removeItem","LocalStorage","defaultSettings","config","_loadConfiguration","configuration","updateConfiguration","serialized","serializedConfiguration","getItem","formatSI","precision","_splitIntoBaseAndExpo","splitIntoBaseAndExponent","base","exponent","multipleOf3","remaining","digits","pow","toPrecision","getSISuffix","SI_SUFFIXES","0","2","3","4","5","6","mean","numbers","cv","_mean","sqrt","std","rightPad","padLength","repeat","LOG_ENTRY","logResultsAsMarkdownTable","entry","itersPerSecond","time","toFixed","logResultsAsTree","unit","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","getOwnPropertyDescriptors","noop","Bench","_ref$time","_ref$delay","delay","_ref$minIterations","minIterations","markdown","probe","opts","tests","results","table","seal","_run","func1","func2","mark","_callee","timeStart","onBenchmarkComplete","elapsed","wrap","_context","runTests","logEntry","onSuiteComplete","stop","group","priority","_add","async","iterations","round","localStorage","saved","getConfiguration","updateTable","delta","initFunc","initialize","testFunc","multiplier","addDelay","timeout","setTimeout","runCalibrationTests","runBenchTestIterations","_x","_runTests","_callee2","_ref4$onBenchmarkComp","_context2","t0","t1","runTest","_x2","_runTest","_callee3","_ref5$silent","silent","iterationsPerSecond","_context3","runBenchTestAsync","sent","_x3","_runBenchTestAsync","_callee4","totalTime","totalIterations","_throughput","_yield$runBenchTestPa","_yield$runBenchTestFo","_context4","runBenchTestParallelIterationsAsync","runBenchTestForMinimumTimeAsync","abrupt","_x4","_x5","_runBenchTestForMinimumTimeAsync","_callee5","minTime","elapsedMillis","_context5","runBenchTestIterationsAsync","_x6","_x7","_runBenchTestParallelIterationsAsync","_callee6","testArgs","promises","context","_context6","all","_x8","_x9","_runBenchTestIterationsAsync","_callee7","_context7","Parent","Class","_cache","Map","Wrapper","IDENTITY","ClassNoConstructor","ClassWithConstructor","ClassWithConstructorXYZ","y","z","w","ClassWithConstructor04","ArrayExtenderNoConstructor","ArrayExtenderEmptyConstructor","ArrayExtender","XYZVector","XYZVectorLogicalOr","XYZVectorBitwiseOr","RADIANS_TO_DEGREES","PI","DEGREES_TO_RADIANS","configure","formatValue","EPSILON","parseFloat","ArrayBuffer","isView","DataView","toRadians","degrees","radians","toDegrees","equals","epsilon","oldEpsilon","isFinite","abs","debug","printTypes","printDegrees","printRowMajor","MathArray","copy","arrayOrObject","fromObject","fromArray","offset","ELEMENTS","check","to","toArray","toObject","toTarget","toFloat32Array","Float32Array","formatString","exactEquals","negate","lerp","t","ai","vector","clamp","minVector","maxVector","add","vectors","subtract","scale","multiply","sub","setScalar","addScalar","subScalar","multiplyScalar","scalar","divideScalar","clampScalar","multiplyByScalar","validate","valid","checkNumber","checkVector","v","callerName","validateVector","deprecated","method","Vector","lengthSquared","magnitude","magnitudeSquared","distance","mathArray","distanceSquared","dist","dot","product","normalize","divide","lengthSq","distanceTo","distanceToSquared","getComponent","setComponent","addVectors","subVectors","multiplyVectors","addScaledVector","ARRAY_TYPE","out","hypot","fromValues","ax","ay","az","bx","by","bz","transformMat4","m","transformMat3","transformQuat","q","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","vec","vec2_transformMat4AsVector","vec3_transformMat4AsVector","vec4_transformMat3","ORIGIN","constants","Vector3","ZERO","freeze","angle","mag","cosine","acos","cross","vec3","rotateX","rad","r","origin","cos","sin","rotateY","rotateZ","transform","matrix4","transformAsPoint","transformAsVector","transformByMatrix3","matrix3","transformByMatrix2","matrix2","transformByQuaternion","quaternion","classicArray","float32Array","float64Array","Float64Array","vector3","Vector2","horizontalAngle","atan2","verticalAngle","vec2","transformByMatrix2x3","matrix2x3","vector2","objectVector","arrayVector","Vector4","vec4","applyMatrix4","vector4","Matrix","RANK","getElementIndex","getElement","setElement","getColumn","columnIndex","firstIndex","setColumn","columnVector","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","getScaling","mat","m11","m12","m13","m21","m22","m23","m31","m32","m33","eye","center","up","x0","x1","x2","y0","y1","y2","z0","z1","z2","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","INDICES","COL0ROW0","COL0ROW1","COL0ROW2","COL0ROW3","COL1ROW0","COL1ROW1","COL1ROW2","COL1ROW3","COL2ROW0","COL2ROW1","COL2ROW2","COL2ROW3","COL3ROW0","COL3ROW1","COL3ROW2","COL3ROW3","Matrix4","identity","m00","m10","m20","m30","m01","m02","m03","setRowMajor","toRowMajor","fromQuaternion","xx","yx","yy","zx","zy","zz","wx","wy","wz","mat4","frustum","left","right","bottom","top","near","far","Infinity","_computeInfinitePerspectiveOffCenter","rl","tb","nf","column0Row0","column1Row1","column2Row0","column2Row1","column3Row2","lookAt","ortho","lr","bt","orthographic","fovy","aspect","focalDistance","halfY","tan","perspective","fov","determinant","getScale","getTranslation","getRotation","scaleResult","inverseScale0","inverseScale1","inverseScale2","getRotationMatrix3","transpose","invert","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","multiplyLeft","multiplyRight","rotateXYZ","rx","ry","rz","rotateAxis","axis","b12","b20","b21","b22","factor","translate","makeRotationX","makeTranslation","transformPoint","transformVector","transformDirection","mathglVector4","dirVector4","pointVector4","coreBench","suite","addReferenceBenchmarks","commonBench","javascriptBench","matrix4Bench","vector2Bench","vector3Bench","vector4Bench","scratchVector","fromCartographic","cartographic","longitude","latitude","fromCartographicToRadians","_cartographicRadians","toCartographic","toCartographicFromRadians","scaleToGeodeticSurfaceIntersection","scaleToGeodeticSurfaceGradient","scratchOrigin","VECTOR_PRODUCT_LOCAL_FRAME","south","north","west","east","down","degeneratePositionLocalFrame","scratchAxisVectors","scratchVector1","scratchVector2","scratchVector3","localFrameToFixedFrame","ellipsoid","firstAxis","secondAxis","thirdAxis","cartesianOrigin","firstAxisVector","secondAxisVector","thirdAxisVector","thirdAxisInferred","equalsEpsilon","sign","geodeticSurfaceNormal","wgs84","scratchNormal","scratchK","scratchPosition","scratchHeight","scratchCartesian","Ellipsoid","radii","radiiSquared","radiiToTheFourth","oneOverRadii","oneOverRadiiSquared","minimumRadius","maximumRadius","centerToleranceSquared","_MathUtils","squaredXOverSquaredZ","cartographicToCartesian","normal","k","geodeticSurfaceNormalCartographic","gamma","cartesianToCartographic","cartesian","point","scaleToGeodeticSurface","h","asin","eastNorthUpToFixedFrame","geocentricSurfaceNormal","cartographicVectorRadians","cosLatitude","positionX","positionY","positionZ","oneOverRadiiX","oneOverRadiiY","oneOverRadiiZ","squaredNorm","ratio","intersection","oneOverRadiiSquaredX","oneOverRadiiSquaredY","oneOverRadiiSquaredZ","gradient","xMultiplier","yMultiplier","zMultiplier","lambda","correction","xMultiplier2","yMultiplier2","zMultiplier2","scaleToGeocentricSurface","beta","transformPositionToScaledSpace","position","transformPositionFromScaledSpace","getSurfaceNormalIntersectionWithZAxis","buffer","WGS84","spaceCartesian","spaceCartographic","resultVector","resultMatrix","geospatialBench","ellipsoidBench","INTERSECTION","OUTSIDE","INTERSECTING","INSIDE","BoundingSphere","radius","fromCenterRadius","fromCornerPoints","corner","oppositeCorner","union","boundingSphere","leftCenter","leftRadius","rightCenter","rightRadius","toRightCenter","centerSeparation","halfDistanceBetweenTangentPoints","expand","distanceSquaredTo","intersectPlane","plane","distanceToPlane","Matrix3","mat3","rotate","transformVector2","transformVector3","setAxisAngle","omega","cosom","sinom","scale0","scale1","aw","bw","fromMat3","fRoot","fTrace","j","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","Plane","fromNormalDistance","fromPointNormal","fromCoefficients","getPointDistance","projectPointOntoPlane","pointDistance","scaledNormal","WINDING","modifyPolygonWindingDirection","points","direction","getPolygonSignedArea","getPolygonWindingDirection","end","size","numPoints","numSwaps","tmp","reversePolygon","dim","area","modifyPolygonWindingDirectionPoints","getPolygonSignedAreaPoints","getPolygonWindingDirectionPoints","reverse","Polygon","isFlatArray","isClosed","getSignedArea","getArea","getWindingDirection","forEachSegment","visitor","endPointIndex","forEachSegmentInPolygon","i1","forEachSegmentInPolygonPoints","modifyWindingDirection","earcut","holeIndices","areas","invSize","maxX","maxY","minX","minY","hasHoles","outerLen","outerNode","linkedList","triangles","list","queue","steiner","getLeftmost","compareX","eliminateHole","filterPoints","eliminateHoles","earcutLinked","clockwise","insertNode","removeNode","again","ear","pass","zOrder","prevZ","nextZ","numMerges","pSize","qSize","tail","inSize","sortLinked","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","minZ","maxZ","intersects","locallyInside","isValidDiagonal","splitPolygon","hole","hx","hy","mx","my","tanMin","sectorContainsSector","findHoleBridge","leftmost","cx","cy","px","py","intersectsPolygon","inside","middleInside","p1","p2","q1","q2","o1","o2","o3","o4","onSegment","num","a2","Node","an","bp","polygonSmall","polygonMedium","polygonMediumNested","flatData","addZ","nestedData","item","toNested","winding","nextWinding","addBenchmarks","cullingBench","polygonBench","App","_logResult","componentDidMount","calibrate","run","parseSIPrefix","formattedError","forceUpdate","render","PureComponent","renderToDOM","container","names","globalThis","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","anObject","hasOwn","classNames","argType","inner","default","globals","window_","global_","process_","argument","replacement","isForced","feature","detection","POLYFILL","NATIVE","redefine","copyConstructorProperties","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","IndexedObject","requireObjectCoercible","aFunction","variable","namespace","nativeDefineProperty","Attributes","functionToString","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","iter","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","$","$hypot","NaN","value1","value2","div","aLen","larg","browser","shared","uid","internalObjectKeys"],"mappings":"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","file":"component---examples-benchmarks-app-js-2bee793105aa74cd5e1d.js","sourcesContent":["var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","module.exports = {};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function isElectron(mockUserAgent) {\n  if (typeof window !== 'undefined' && _typeof(window.process) === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  if (typeof process !== 'undefined' && _typeof(process.versions) === 'object' && Boolean(process.versions.electron)) {\n    return true;\n  }\n\n  var realUserAgent = (typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  var userAgent = mockUserAgent || realUserAgent;\n\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n\n  return false;\n}","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport * as ReactIs from 'react-is'; //\n\nexport default {\n  get: get,\n  set: set,\n  takeRight: takeRight,\n  last: last,\n  orderBy: orderBy,\n  range: range,\n  remove: remove,\n  clone: clone,\n  getFirstDefined: getFirstDefined,\n  sum: sum,\n  makeTemplateComponent: makeTemplateComponent,\n  groupBy: groupBy,\n  isArray: isArray,\n  splitProps: splitProps,\n  compactObject: compactObject,\n  isSortingDesc: isSortingDesc,\n  normalizeComponent: normalizeComponent,\n  asPx: asPx\n};\n\nfunction get(obj, path, def) {\n  if (!path) {\n    return obj;\n  }\n\n  var pathObj = makePathArray(path);\n  var val = void 0;\n\n  try {\n    val = pathObj.reduce(function (current, pathPart) {\n      return current[pathPart];\n    }, obj);\n  } catch (e) {// continue regardless of error\n  }\n\n  return typeof val !== 'undefined' ? val : def;\n}\n\nfunction set() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var path = arguments[1];\n  var value = arguments[2];\n  var keys = makePathArray(path);\n  var keyPart = void 0;\n  var cursor = obj;\n\n  while ((keyPart = keys.shift()) && keys.length) {\n    if (!cursor[keyPart]) {\n      cursor[keyPart] = {};\n    }\n\n    cursor = cursor[keyPart];\n  }\n\n  cursor[keyPart] = value;\n  return obj;\n}\n\nfunction takeRight(arr, n) {\n  var start = n > arr.length ? 0 : arr.length - n;\n  return arr.slice(start);\n}\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nfunction range(n) {\n  var arr = [];\n\n  for (var i = 0; i < n; i += 1) {\n    arr.push(n);\n  }\n\n  return arr;\n}\n\nfunction orderBy(arr, funcs, dirs, indexKey) {\n  return arr.sort(function (rowA, rowB) {\n    for (var i = 0; i < funcs.length; i += 1) {\n      var comp = funcs[i];\n      var desc = dirs[i] === false || dirs[i] === 'desc';\n      var sortInt = comp(rowA, rowB);\n\n      if (sortInt) {\n        return desc ? -sortInt : sortInt;\n      }\n    } // Use the row index for tie breakers\n\n\n    return dirs[0] ? rowA[indexKey] - rowB[indexKey] : rowB[indexKey] - rowA[indexKey];\n  });\n}\n\nfunction remove(a, b) {\n  return a.filter(function (o, i) {\n    var r = b(o);\n\n    if (r) {\n      a.splice(i, 1);\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction clone(a) {\n  try {\n    return JSON.parse(JSON.stringify(a, function (key, value) {\n      if (typeof value === 'function') {\n        return value.toString();\n      }\n\n      return value;\n    }));\n  } catch (e) {\n    return a;\n  }\n}\n\nfunction getFirstDefined() {\n  for (var i = 0; i < arguments.length; i += 1) {\n    if (typeof (arguments.length <= i ? undefined : arguments[i]) !== 'undefined') {\n      return arguments.length <= i ? undefined : arguments[i];\n    }\n  }\n}\n\nfunction sum(arr) {\n  return arr.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n}\n\nfunction makeTemplateComponent(compClass, displayName) {\n  if (!displayName) {\n    throw new Error('No displayName found for template component:', compClass);\n  }\n\n  var cmp = function cmp(_ref) {\n    var children = _ref.children,\n        className = _ref.className,\n        rest = _objectWithoutProperties(_ref, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames(compClass, className)\n    }, rest), children);\n  };\n\n  cmp.displayName = displayName;\n  return cmp;\n}\n\nfunction groupBy(xs, key) {\n  return xs.reduce(function (rv, x, i) {\n    var resKey = typeof key === 'function' ? key(x, i) : x[key];\n    rv[resKey] = isArray(rv[resKey]) ? rv[resKey] : [];\n    rv[resKey].push(x);\n    return rv;\n  }, {});\n}\n\nfunction asPx(value) {\n  value = Number(value);\n  return Number.isNaN(value) ? null : value + 'px';\n}\n\nfunction isArray(a) {\n  return Array.isArray(a);\n} // ########################################################################\n// Non-exported Helpers\n// ########################################################################\n\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj).join('.').replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n}\n\nfunction flattenDeep(arr) {\n  var newArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n\n  return newArr;\n}\n\nfunction splitProps(_ref2) {\n  var className = _ref2.className,\n      style = _ref2.style,\n      rest = _objectWithoutProperties(_ref2, ['className', 'style']);\n\n  return {\n    className: className,\n    style: style,\n    rest: rest || {}\n  };\n}\n\nfunction compactObject(obj) {\n  var newObj = {};\n\n  if (obj) {\n    Object.keys(obj).map(function (key) {\n      if (Object.prototype.hasOwnProperty.call(obj, key) && obj[key] !== undefined && typeof obj[key] !== 'undefined') {\n        newObj[key] = obj[key];\n      }\n\n      return true;\n    });\n  }\n\n  return newObj;\n}\n\nfunction isSortingDesc(d) {\n  return !!(d.sort === 'desc' || d.desc === true || d.asc === false);\n}\n\nfunction normalizeComponent(Comp, props) {\n  var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Comp;\n\n  if (ReactIs.isElement(Comp) || typeof Comp === 'string') {\n    return Comp;\n  } else if (ReactIs.isValidElementType(Comp)) {\n    return React.createElement(Comp, props);\n  }\n\n  return fallback;\n}","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nexport default (function (Base) {\n  return function (_Base) {\n    _inherits(_class, _Base);\n\n    function _class(props) {\n      _classCallCheck(this, _class);\n\n      var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n      var defaultState = {\n        page: props.defaultPage,\n        pageSize: props.defaultPageSize,\n        sorted: props.defaultSorted,\n        expanded: props.defaultExpanded,\n        filtered: props.defaultFiltered,\n        resized: props.defaultResized,\n        currentlyResizing: false,\n        skipNextSort: false\n      };\n\n      var resolvedState = _this.getResolvedState(props, defaultState);\n\n      var dataModel = _this.getDataModel(resolvedState, true);\n\n      _this.state = _this.calculateNewResolvedState(dataModel);\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.fireFetchData();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps, prevState) {\n        var oldState = this.getResolvedState(prevProps, prevState);\n        var newState = this.getResolvedState(this.props, this.state); // Do a deep compare of new and old `defaultOption` and\n        // if they are different reset `option = defaultOption`\n\n        var defaultableOptions = ['sorted', 'filtered', 'resized', 'expanded'];\n        defaultableOptions.forEach(function (x) {\n          var defaultName = 'default' + (x.charAt(0).toUpperCase() + x.slice(1));\n\n          if (JSON.stringify(oldState[defaultName]) !== JSON.stringify(newState[defaultName])) {\n            newState[x] = newState[defaultName];\n          }\n        }); // If they change these table options, we need to reset defaults\n        // or else we could get into a state where the user has changed the UI\n        // and then disabled the ability to change it back.\n        // e.g. If `filterable` has changed, set `filtered = defaultFiltered`\n\n        var resettableOptions = ['sortable', 'filterable', 'resizable'];\n        resettableOptions.forEach(function (x) {\n          if (oldState[x] !== newState[x]) {\n            var baseName = x.replace('able', '');\n            var optionName = baseName + 'ed';\n            var defaultName = 'default' + (optionName.charAt(0).toUpperCase() + optionName.slice(1));\n            newState[optionName] = newState[defaultName];\n          }\n        }); // Props that trigger a data update\n\n        if (oldState.data !== newState.data || oldState.columns !== newState.columns || oldState.pivotBy !== newState.pivotBy || oldState.sorted !== newState.sorted || oldState.filtered !== newState.filtered) {\n          this.setStateWithData(this.getDataModel(newState, oldState.data !== newState.data));\n        }\n      }\n    }, {\n      key: 'calculateNewResolvedState',\n      value: function calculateNewResolvedState(dataModel) {\n        var oldState = this.getResolvedState();\n        var newResolvedState = this.getResolvedState({}, dataModel);\n        var freezeWhenExpanded = newResolvedState.freezeWhenExpanded; // Default to unfrozen state\n\n        newResolvedState.frozen = false; // If freezeWhenExpanded is set, check for frozen conditions\n\n        if (freezeWhenExpanded) {\n          // if any rows are expanded, freeze the existing data and sorting\n          var keys = Object.keys(newResolvedState.expanded);\n\n          for (var i = 0; i < keys.length; i += 1) {\n            if (newResolvedState.expanded[keys[i]]) {\n              newResolvedState.frozen = true;\n              break;\n            }\n          }\n        } // If the data isn't frozen and either the data or\n        // sorting model has changed, update the data\n\n\n        if (oldState.frozen && !newResolvedState.frozen || oldState.sorted !== newResolvedState.sorted || oldState.filtered !== newResolvedState.filtered || oldState.showFilters !== newResolvedState.showFilters || !newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData) {\n          // Handle collapseOnsortedChange & collapseOnDataChange\n          if (oldState.sorted !== newResolvedState.sorted && this.props.collapseOnSortingChange || oldState.filtered !== newResolvedState.filtered || oldState.showFilters !== newResolvedState.showFilters || oldState.sortedData && !newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData && this.props.collapseOnDataChange) {\n            newResolvedState.expanded = {};\n          }\n\n          Object.assign(newResolvedState, this.getSortedData(newResolvedState));\n        } // Set page to 0 if filters change\n\n\n        if (oldState.filtered !== newResolvedState.filtered) {\n          newResolvedState.page = 0;\n        } // Calculate pageSize all the time\n\n\n        if (newResolvedState.sortedData) {\n          newResolvedState.pages = newResolvedState.manual ? newResolvedState.pages : Math.ceil(newResolvedState.sortedData.length / newResolvedState.pageSize);\n          newResolvedState.page = newResolvedState.manual ? newResolvedState.page : Math.max(newResolvedState.page >= newResolvedState.pages ? newResolvedState.pages - 1 : newResolvedState.page, 0);\n        }\n\n        return newResolvedState;\n      }\n    }, {\n      key: 'setStateWithData',\n      value: function setStateWithData(dataModel, cb) {\n        var _this2 = this;\n\n        var oldState = this.getResolvedState();\n        var newResolvedState = this.calculateNewResolvedState(dataModel);\n        return this.setState(newResolvedState, function () {\n          if (cb) {\n            cb();\n          }\n\n          if (oldState.page !== newResolvedState.page || oldState.pageSize !== newResolvedState.pageSize || oldState.sorted !== newResolvedState.sorted || oldState.filtered !== newResolvedState.filtered) {\n            _this2.fireFetchData();\n          }\n        });\n      }\n    }]);\n\n    return _class;\n  }(Base);\n});","var _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport _ from './utils';\nexport default (function (Base) {\n  return function (_Base) {\n    _inherits(_class, _Base);\n\n    function _class() {\n      _classCallCheck(this, _class);\n\n      return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n    }\n\n    _createClass(_class, [{\n      key: 'getResolvedState',\n      value: function getResolvedState(props, state) {\n        var resolvedState = _extends({}, _.compactObject(this.state), _.compactObject(this.props), _.compactObject(state), _.compactObject(props));\n\n        return resolvedState;\n      }\n    }, {\n      key: 'getDataModel',\n      value: function getDataModel(newState, dataChanged) {\n        var _this2 = this;\n\n        var columns = newState.columns,\n            _newState$pivotBy = newState.pivotBy,\n            pivotBy = _newState$pivotBy === undefined ? [] : _newState$pivotBy,\n            data = newState.data,\n            resolveData = newState.resolveData,\n            pivotIDKey = newState.pivotIDKey,\n            pivotValKey = newState.pivotValKey,\n            subRowsKey = newState.subRowsKey,\n            aggregatedKey = newState.aggregatedKey,\n            nestingLevelKey = newState.nestingLevelKey,\n            originalKey = newState.originalKey,\n            indexKey = newState.indexKey,\n            groupedByPivotKey = newState.groupedByPivotKey,\n            SubComponent = newState.SubComponent; // Determine Header Groups\n\n        var hasHeaderGroups = false;\n        columns.forEach(function (column) {\n          if (column.columns) {\n            hasHeaderGroups = true;\n          }\n        });\n        var columnsWithExpander = [].concat(_toConsumableArray(columns));\n        var expanderColumn = columns.find(function (col) {\n          return col.expander || col.columns && col.columns.some(function (col2) {\n            return col2.expander;\n          });\n        }); // The actual expander might be in the columns field of a group column\n\n        if (expanderColumn && !expanderColumn.expander) {\n          expanderColumn = expanderColumn.columns.find(function (col) {\n            return col.expander;\n          });\n        } // If we have SubComponent's we need to make sure we have an expander column\n\n\n        if (SubComponent && !expanderColumn) {\n          expanderColumn = {\n            expander: true\n          };\n          columnsWithExpander = [expanderColumn].concat(_toConsumableArray(columnsWithExpander));\n        }\n\n        var makeDecoratedColumn = function makeDecoratedColumn(column, parentColumn) {\n          var dcol = void 0;\n\n          if (column.expander) {\n            dcol = _extends({}, _this2.props.column, _this2.props.expanderDefaults, column);\n          } else {\n            dcol = _extends({}, _this2.props.column, column);\n          } // Ensure minWidth is not greater than maxWidth if set\n\n\n          if (dcol.maxWidth < dcol.minWidth) {\n            dcol.minWidth = dcol.maxWidth;\n          }\n\n          if (parentColumn) {\n            dcol.parentColumn = parentColumn;\n          } // First check for string accessor\n\n\n          if (typeof dcol.accessor === 'string') {\n            dcol.id = dcol.id || dcol.accessor;\n            var accessorString = dcol.accessor;\n\n            dcol.accessor = function (row) {\n              return _.get(row, accessorString);\n            };\n\n            return dcol;\n          } // Fall back to functional accessor (but require an ID)\n\n\n          if (dcol.accessor && !dcol.id) {\n            console.warn(dcol);\n            throw new Error('A column id is required if using a non-string accessor for column above.');\n          } // Fall back to an undefined accessor\n\n\n          if (!dcol.accessor) {\n            dcol.accessor = function () {\n              return undefined;\n            };\n          }\n\n          return dcol;\n        };\n\n        var allDecoratedColumns = []; // Decorate the columns\n\n        var decorateAndAddToAll = function decorateAndAddToAll(column, parentColumn) {\n          var decoratedColumn = makeDecoratedColumn(column, parentColumn);\n          allDecoratedColumns.push(decoratedColumn);\n          return decoratedColumn;\n        };\n\n        var decoratedColumns = columnsWithExpander.map(function (column) {\n          if (column.columns) {\n            return _extends({}, column, {\n              columns: column.columns.map(function (d) {\n                return decorateAndAddToAll(d, column);\n              })\n            });\n          }\n\n          return decorateAndAddToAll(column);\n        }); // Build the visible columns, headers and flat column list\n\n        var visibleColumns = decoratedColumns.slice();\n        var allVisibleColumns = [];\n        visibleColumns = visibleColumns.map(function (column) {\n          if (column.columns) {\n            var visibleSubColumns = column.columns.filter(function (d) {\n              return pivotBy.indexOf(d.id) > -1 ? false : _.getFirstDefined(d.show, true);\n            });\n            return _extends({}, column, {\n              columns: visibleSubColumns\n            });\n          }\n\n          return column;\n        });\n        visibleColumns = visibleColumns.filter(function (column) {\n          return column.columns ? column.columns.length : pivotBy.indexOf(column.id) > -1 ? false : _.getFirstDefined(column.show, true);\n        }); // Find any custom pivot location\n\n        var pivotIndex = visibleColumns.findIndex(function (col) {\n          return col.pivot;\n        }); // Handle Pivot Columns\n\n        if (pivotBy.length) {\n          // Retrieve the pivot columns in the correct pivot order\n          var pivotColumns = [];\n          pivotBy.forEach(function (pivotID) {\n            var found = allDecoratedColumns.find(function (d) {\n              return d.id === pivotID;\n            });\n\n            if (found) {\n              pivotColumns.push(found);\n            }\n          });\n          var PivotParentColumn = pivotColumns.reduce(function (prev, current) {\n            return prev && prev === current.parentColumn && current.parentColumn;\n          }, pivotColumns[0].parentColumn);\n          var PivotGroupHeader = hasHeaderGroups && PivotParentColumn.Header;\n\n          PivotGroupHeader = PivotGroupHeader || function () {\n            return React.createElement('strong', null, 'Pivoted');\n          };\n\n          var pivotColumnGroup = {\n            Header: PivotGroupHeader,\n            columns: pivotColumns.map(function (col) {\n              return _extends({}, _this2.props.pivotDefaults, col, {\n                pivoted: true\n              });\n            }) // Place the pivotColumns back into the visibleColumns\n\n          };\n\n          if (pivotIndex >= 0) {\n            pivotColumnGroup = _extends({}, visibleColumns[pivotIndex], pivotColumnGroup);\n            visibleColumns.splice(pivotIndex, 1, pivotColumnGroup);\n          } else {\n            visibleColumns.unshift(pivotColumnGroup);\n          }\n        } // Build Header Groups\n\n\n        var headerGroups = [];\n        var currentSpan = []; // A convenience function to add a header and reset the currentSpan\n\n        var addHeader = function addHeader(columns, column) {\n          headerGroups.push(_extends({}, _this2.props.column, column, {\n            columns: columns\n          }));\n          currentSpan = [];\n        }; // Build flast list of allVisibleColumns and HeaderGroups\n\n\n        visibleColumns.forEach(function (column) {\n          if (column.columns) {\n            allVisibleColumns = allVisibleColumns.concat(column.columns);\n\n            if (currentSpan.length > 0) {\n              addHeader(currentSpan);\n            }\n\n            addHeader(column.columns, column);\n            return;\n          }\n\n          allVisibleColumns.push(column);\n          currentSpan.push(column);\n        });\n\n        if (hasHeaderGroups && currentSpan.length > 0) {\n          addHeader(currentSpan);\n        } // Access the data\n\n\n        var accessRow = function accessRow(d, i) {\n          var _row;\n\n          var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n          var row = (_row = {}, _defineProperty(_row, originalKey, d), _defineProperty(_row, indexKey, i), _defineProperty(_row, subRowsKey, d[subRowsKey]), _defineProperty(_row, nestingLevelKey, level), _row);\n          allDecoratedColumns.forEach(function (column) {\n            if (column.expander) return;\n            row[column.id] = column.accessor(d);\n          });\n\n          if (row[subRowsKey]) {\n            row[subRowsKey] = row[subRowsKey].map(function (d, i) {\n              return accessRow(d, i, level + 1);\n            });\n          }\n\n          return row;\n        }; // // If the data hasn't changed, just use the cached data\n\n\n        var resolvedData = this.resolvedData; // If the data has changed, run the data resolver and cache the result\n\n        if (!this.resolvedData || dataChanged) {\n          resolvedData = resolveData(data);\n          this.resolvedData = resolvedData;\n        } // Use the resolved data\n\n\n        resolvedData = resolvedData.map(function (d, i) {\n          return accessRow(d, i);\n        }); // TODO: Make it possible to fabricate nested rows without pivoting\n\n        var aggregatingColumns = allVisibleColumns.filter(function (d) {\n          return !d.expander && d.aggregate;\n        }); // If pivoting, recursively group the data\n\n        var aggregate = function aggregate(rows) {\n          var aggregationValues = {};\n          aggregatingColumns.forEach(function (column) {\n            var values = rows.map(function (d) {\n              return d[column.id];\n            });\n            aggregationValues[column.id] = column.aggregate(values, rows);\n          });\n          return aggregationValues;\n        };\n\n        if (pivotBy.length) {\n          var groupRecursively = function groupRecursively(rows, keys) {\n            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0; // This is the last level, just return the rows\n\n            if (i === keys.length) {\n              return rows;\n            } // Group the rows together for this level\n\n\n            var groupedRows = Object.entries(_.groupBy(rows, keys[i])).map(function (_ref) {\n              var _ref3;\n\n              var _ref2 = _slicedToArray(_ref, 2),\n                  key = _ref2[0],\n                  value = _ref2[1];\n\n              return _ref3 = {}, _defineProperty(_ref3, pivotIDKey, keys[i]), _defineProperty(_ref3, pivotValKey, key), _defineProperty(_ref3, keys[i], key), _defineProperty(_ref3, subRowsKey, value), _defineProperty(_ref3, nestingLevelKey, i), _defineProperty(_ref3, groupedByPivotKey, true), _ref3;\n            }); // Recurse into the subRows\n\n            groupedRows = groupedRows.map(function (rowGroup) {\n              var _extends2;\n\n              var subRows = groupRecursively(rowGroup[subRowsKey], keys, i + 1);\n              return _extends({}, rowGroup, (_extends2 = {}, _defineProperty(_extends2, subRowsKey, subRows), _defineProperty(_extends2, aggregatedKey, true), _extends2), aggregate(subRows));\n            });\n            return groupedRows;\n          };\n\n          resolvedData = groupRecursively(resolvedData, pivotBy);\n        }\n\n        return _extends({}, newState, {\n          resolvedData: resolvedData,\n          allVisibleColumns: allVisibleColumns,\n          headerGroups: headerGroups,\n          allDecoratedColumns: allDecoratedColumns,\n          hasHeaderGroups: hasHeaderGroups\n        });\n      }\n    }, {\n      key: 'getSortedData',\n      value: function getSortedData(resolvedState) {\n        var manual = resolvedState.manual,\n            sorted = resolvedState.sorted,\n            filtered = resolvedState.filtered,\n            defaultFilterMethod = resolvedState.defaultFilterMethod,\n            resolvedData = resolvedState.resolvedData,\n            allDecoratedColumns = resolvedState.allDecoratedColumns;\n        var sortMethodsByColumnID = {};\n        allDecoratedColumns.filter(function (col) {\n          return col.sortMethod;\n        }).forEach(function (col) {\n          sortMethodsByColumnID[col.id] = col.sortMethod;\n        }); // Resolve the data from either manual data or sorted data\n\n        return {\n          sortedData: manual ? resolvedData : this.sortData(this.filterData(resolvedData, filtered, defaultFilterMethod, allDecoratedColumns), sorted, sortMethodsByColumnID)\n        };\n      }\n    }, {\n      key: 'fireFetchData',\n      value: function fireFetchData() {\n        // determine the current state, preferring certain state values over props\n        var currentState = _extends({}, this.getResolvedState(), {\n          page: this.getStateOrProp('page'),\n          pageSize: this.getStateOrProp('pageSize'),\n          filtered: this.getStateOrProp('filtered')\n        });\n\n        this.props.onFetchData(currentState, this);\n      }\n    }, {\n      key: 'getPropOrState',\n      value: function getPropOrState(key) {\n        return _.getFirstDefined(this.props[key], this.state[key]);\n      }\n    }, {\n      key: 'getStateOrProp',\n      value: function getStateOrProp(key) {\n        return _.getFirstDefined(this.state[key], this.props[key]);\n      }\n    }, {\n      key: 'filterData',\n      value: function filterData(data, filtered, defaultFilterMethod, allVisibleColumns) {\n        var _this3 = this;\n\n        var filteredData = data;\n\n        if (filtered.length) {\n          filteredData = filtered.reduce(function (filteredSoFar, nextFilter) {\n            var column = allVisibleColumns.find(function (x) {\n              return x.id === nextFilter.id;\n            }); // Don't filter hidden columns or columns that have had their filters disabled\n\n            if (!column || column.filterable === false) {\n              return filteredSoFar;\n            }\n\n            var filterMethod = column.filterMethod || defaultFilterMethod; // If 'filterAll' is set to true, pass the entire dataset to the filter method\n\n            if (column.filterAll) {\n              return filterMethod(nextFilter, filteredSoFar, column);\n            }\n\n            return filteredSoFar.filter(function (row) {\n              return filterMethod(nextFilter, row, column);\n            });\n          }, filteredData); // Apply the filter to the subrows if we are pivoting, and then\n          // filter any rows without subcolumns because it would be strange to show\n\n          filteredData = filteredData.map(function (row) {\n            if (!row[_this3.props.subRowsKey]) {\n              return row;\n            }\n\n            return _extends({}, row, _defineProperty({}, _this3.props.subRowsKey, _this3.filterData(row[_this3.props.subRowsKey], filtered, defaultFilterMethod, allVisibleColumns)));\n          }).filter(function (row) {\n            if (!row[_this3.props.subRowsKey]) {\n              return true;\n            }\n\n            return row[_this3.props.subRowsKey].length > 0;\n          });\n        }\n\n        return filteredData;\n      }\n    }, {\n      key: 'sortData',\n      value: function sortData(data, sorted) {\n        var _this4 = this;\n\n        var sortMethodsByColumnID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!sorted.length) {\n          return data;\n        }\n\n        var sortedData = (this.props.orderByMethod || _.orderBy)(data, sorted.map(function (sort) {\n          // Support custom sorting methods for each column\n          if (sortMethodsByColumnID[sort.id]) {\n            return function (a, b) {\n              return sortMethodsByColumnID[sort.id](a[sort.id], b[sort.id], sort.desc);\n            };\n          }\n\n          return function (a, b) {\n            return _this4.props.defaultSortMethod(a[sort.id], b[sort.id], sort.desc);\n          };\n        }), sorted.map(function (d) {\n          return !d.desc;\n        }), this.props.indexKey);\n\n        sortedData.forEach(function (row) {\n          if (!row[_this4.props.subRowsKey]) {\n            return;\n          }\n\n          row[_this4.props.subRowsKey] = _this4.sortData(row[_this4.props.subRowsKey], sorted, sortMethodsByColumnID);\n        });\n        return sortedData;\n      }\n    }, {\n      key: 'getMinRows',\n      value: function getMinRows() {\n        return _.getFirstDefined(this.props.minRows, this.getStateOrProp('pageSize'));\n      } // User actions\n\n    }, {\n      key: 'onPageChange',\n      value: function onPageChange(page) {\n        var _props = this.props,\n            onPageChange = _props.onPageChange,\n            collapseOnPageChange = _props.collapseOnPageChange;\n        var newState = {\n          page: page\n        };\n\n        if (collapseOnPageChange) {\n          newState.expanded = {};\n        }\n\n        this.setStateWithData(newState, function () {\n          return onPageChange && onPageChange(page);\n        });\n      }\n    }, {\n      key: 'onPageSizeChange',\n      value: function onPageSizeChange(newPageSize) {\n        var onPageSizeChange = this.props.onPageSizeChange;\n\n        var _getResolvedState = this.getResolvedState(),\n            pageSize = _getResolvedState.pageSize,\n            page = _getResolvedState.page; // Normalize the page to display\n\n\n        var currentRow = pageSize * page;\n        var newPage = Math.floor(currentRow / newPageSize);\n        this.setStateWithData({\n          pageSize: newPageSize,\n          page: newPage\n        }, function () {\n          return onPageSizeChange && onPageSizeChange(newPageSize, newPage);\n        });\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(column, additive) {\n        var _getResolvedState2 = this.getResolvedState(),\n            sorted = _getResolvedState2.sorted,\n            skipNextSort = _getResolvedState2.skipNextSort,\n            defaultSortDesc = _getResolvedState2.defaultSortDesc;\n\n        var firstSortDirection = Object.prototype.hasOwnProperty.call(column, 'defaultSortDesc') ? column.defaultSortDesc : defaultSortDesc;\n        var secondSortDirection = !firstSortDirection; // we can't stop event propagation from the column resize move handlers\n        // attached to the document because of react's synthetic events\n        // so we have to prevent the sort function from actually sorting\n        // if we click on the column resize element within a header.\n\n        if (skipNextSort) {\n          this.setStateWithData({\n            skipNextSort: false\n          });\n          return;\n        }\n\n        var onSortedChange = this.props.onSortedChange;\n\n        var newSorted = _.clone(sorted || []).map(function (d) {\n          d.desc = _.isSortingDesc(d);\n          return d;\n        });\n\n        if (!_.isArray(column)) {\n          // Single-Sort\n          var existingIndex = newSorted.findIndex(function (d) {\n            return d.id === column.id;\n          });\n\n          if (existingIndex > -1) {\n            var existing = newSorted[existingIndex];\n\n            if (existing.desc === secondSortDirection) {\n              if (additive) {\n                newSorted.splice(existingIndex, 1);\n              } else {\n                existing.desc = firstSortDirection;\n                newSorted = [existing];\n              }\n            } else {\n              existing.desc = secondSortDirection;\n\n              if (!additive) {\n                newSorted = [existing];\n              }\n            }\n          } else if (additive) {\n            newSorted.push({\n              id: column.id,\n              desc: firstSortDirection\n            });\n          } else {\n            newSorted = [{\n              id: column.id,\n              desc: firstSortDirection\n            }];\n          }\n        } else {\n          // Multi-Sort\n          var _existingIndex = newSorted.findIndex(function (d) {\n            return d.id === column[0].id;\n          }); // Existing Sorted Column\n\n\n          if (_existingIndex > -1) {\n            var _existing = newSorted[_existingIndex];\n\n            if (_existing.desc === secondSortDirection) {\n              if (additive) {\n                newSorted.splice(_existingIndex, column.length);\n              } else {\n                column.forEach(function (d, i) {\n                  newSorted[_existingIndex + i].desc = firstSortDirection;\n                });\n              }\n            } else {\n              column.forEach(function (d, i) {\n                newSorted[_existingIndex + i].desc = secondSortDirection;\n              });\n            }\n\n            if (!additive) {\n              newSorted = newSorted.slice(_existingIndex, column.length);\n            } // New Sort Column\n\n          } else if (additive) {\n            newSorted = newSorted.concat(column.map(function (d) {\n              return {\n                id: d.id,\n                desc: firstSortDirection\n              };\n            }));\n          } else {\n            newSorted = column.map(function (d) {\n              return {\n                id: d.id,\n                desc: firstSortDirection\n              };\n            });\n          }\n        }\n\n        this.setStateWithData({\n          page: !sorted.length && newSorted.length || !additive ? 0 : this.state.page,\n          sorted: newSorted\n        }, function () {\n          return onSortedChange && onSortedChange(newSorted, column, additive);\n        });\n      }\n    }, {\n      key: 'filterColumn',\n      value: function filterColumn(column, value) {\n        var _getResolvedState3 = this.getResolvedState(),\n            filtered = _getResolvedState3.filtered;\n\n        var onFilteredChange = this.props.onFilteredChange; // Remove old filter first if it exists\n\n        var newFiltering = (filtered || []).filter(function (x) {\n          return x.id !== column.id;\n        });\n\n        if (value !== '') {\n          newFiltering.push({\n            id: column.id,\n            value: value\n          });\n        }\n\n        this.setStateWithData({\n          filtered: newFiltering\n        }, function () {\n          return onFilteredChange && onFilteredChange(newFiltering, column, value);\n        });\n      }\n    }, {\n      key: 'resizeColumnStart',\n      value: function resizeColumnStart(event, column, isTouch) {\n        var _this5 = this;\n\n        event.stopPropagation();\n        var parentWidth = event.target.parentElement.getBoundingClientRect().width;\n        var pageX = void 0;\n\n        if (isTouch) {\n          pageX = event.changedTouches[0].pageX;\n        } else {\n          pageX = event.pageX;\n        }\n\n        this.trapEvents = true;\n        this.setStateWithData({\n          currentlyResizing: {\n            id: column.id,\n            startX: pageX,\n            parentWidth: parentWidth\n          }\n        }, function () {\n          if (isTouch) {\n            document.addEventListener('touchmove', _this5.resizeColumnMoving);\n            document.addEventListener('touchcancel', _this5.resizeColumnEnd);\n            document.addEventListener('touchend', _this5.resizeColumnEnd);\n          } else {\n            document.addEventListener('mousemove', _this5.resizeColumnMoving);\n            document.addEventListener('mouseup', _this5.resizeColumnEnd);\n            document.addEventListener('mouseleave', _this5.resizeColumnEnd);\n          }\n        });\n      }\n    }, {\n      key: 'resizeColumnMoving',\n      value: function resizeColumnMoving(event) {\n        event.stopPropagation();\n        var _props2 = this.props,\n            onResizedChange = _props2.onResizedChange,\n            column = _props2.column;\n\n        var _getResolvedState4 = this.getResolvedState(),\n            resized = _getResolvedState4.resized,\n            currentlyResizing = _getResolvedState4.currentlyResizing,\n            columns = _getResolvedState4.columns;\n\n        var currentColumn = columns.find(function (c) {\n          return c.accessor === currentlyResizing.id || c.id === currentlyResizing.id;\n        });\n        var minResizeWidth = currentColumn && currentColumn.minResizeWidth != null ? currentColumn.minResizeWidth : column.minResizeWidth; // Delete old value\n\n        var newResized = resized.filter(function (x) {\n          return x.id !== currentlyResizing.id;\n        });\n        var pageX = void 0;\n\n        if (event.type === 'touchmove') {\n          pageX = event.changedTouches[0].pageX;\n        } else if (event.type === 'mousemove') {\n          pageX = event.pageX;\n        }\n\n        var newWidth = Math.max(currentlyResizing.parentWidth + pageX - currentlyResizing.startX, minResizeWidth);\n        newResized.push({\n          id: currentlyResizing.id,\n          value: newWidth\n        });\n        this.setStateWithData({\n          resized: newResized\n        }, function () {\n          return onResizedChange && onResizedChange(newResized, event);\n        });\n      }\n    }, {\n      key: 'resizeColumnEnd',\n      value: function resizeColumnEnd(event) {\n        event.stopPropagation();\n        var isTouch = event.type === 'touchend' || event.type === 'touchcancel';\n\n        if (isTouch) {\n          document.removeEventListener('touchmove', this.resizeColumnMoving);\n          document.removeEventListener('touchcancel', this.resizeColumnEnd);\n          document.removeEventListener('touchend', this.resizeColumnEnd);\n        } // If its a touch event clear the mouse one's as well because sometimes\n        // the mouseDown event gets called as well, but the mouseUp event doesn't\n\n\n        document.removeEventListener('mousemove', this.resizeColumnMoving);\n        document.removeEventListener('mouseup', this.resizeColumnEnd);\n        document.removeEventListener('mouseleave', this.resizeColumnEnd); // The touch events don't propagate up to the sorting's onMouseDown event so\n        // no need to prevent it from happening or else the first click after a touch\n        // event resize will not sort the column.\n\n        if (!isTouch) {\n          this.setStateWithData({\n            skipNextSort: true,\n            currentlyResizing: false\n          });\n        }\n      }\n    }]);\n\n    return _class;\n  }(Base);\n});","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\n\nvar defaultButton = function defaultButton(props) {\n  return React.createElement('button', _extends({\n    type: 'button'\n  }, props, {\n    className: '-btn'\n  }), props.children);\n};\n\nvar ReactTablePagination = function (_Component) {\n  _inherits(ReactTablePagination, _Component);\n\n  function ReactTablePagination(props) {\n    _classCallCheck(this, ReactTablePagination);\n\n    var _this = _possibleConstructorReturn(this, (ReactTablePagination.__proto__ || Object.getPrototypeOf(ReactTablePagination)).call(this, props));\n\n    _this.getSafePage = _this.getSafePage.bind(_this);\n    _this.changePage = _this.changePage.bind(_this);\n    _this.applyPage = _this.applyPage.bind(_this);\n    _this.state = {\n      page: props.page\n    };\n    return _this;\n  }\n\n  _createClass(ReactTablePagination, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.page !== this.props.page && prevState.page !== this.state.page) {\n        // this is probably safe because we only update when old/new state.page are different\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          page: this.props.page\n        });\n      }\n    }\n  }, {\n    key: 'getSafePage',\n    value: function getSafePage(page) {\n      if (Number.isNaN(page)) {\n        page = this.props.page;\n      }\n\n      return Math.min(Math.max(page, 0), this.props.pages - 1);\n    }\n  }, {\n    key: 'changePage',\n    value: function changePage(page) {\n      page = this.getSafePage(page);\n      this.setState({\n        page: page\n      });\n\n      if (this.props.page !== page) {\n        this.props.onPageChange(page);\n      }\n    }\n  }, {\n    key: 'applyPage',\n    value: function applyPage(e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      var page = this.state.page;\n      this.changePage(page === '' ? this.props.page : page);\n    }\n  }, {\n    key: 'getPageJumpProperties',\n    value: function getPageJumpProperties() {\n      var _this2 = this;\n\n      return {\n        onKeyPress: function onKeyPress(e) {\n          if (e.which === 13 || e.keyCode === 13) {\n            _this2.applyPage();\n          }\n        },\n        onBlur: this.applyPage,\n        value: this.state.page === '' ? '' : this.state.page + 1,\n        onChange: function onChange(e) {\n          var val = e.target.value;\n          var page = val - 1;\n\n          if (val === '') {\n            return _this2.setState({\n              page: val\n            });\n          }\n\n          _this2.setState({\n            page: _this2.getSafePage(page)\n          });\n        },\n        inputType: this.state.page === '' ? 'text' : 'number',\n        pageJumpText: this.props.pageJumpText\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          pages = _props.pages,\n          page = _props.page,\n          showPageSizeOptions = _props.showPageSizeOptions,\n          pageSizeOptions = _props.pageSizeOptions,\n          pageSize = _props.pageSize,\n          showPageJump = _props.showPageJump,\n          canPrevious = _props.canPrevious,\n          canNext = _props.canNext,\n          onPageSizeChange = _props.onPageSizeChange,\n          className = _props.className,\n          PreviousComponent = _props.PreviousComponent,\n          NextComponent = _props.NextComponent,\n          renderPageJump = _props.renderPageJump,\n          renderCurrentPage = _props.renderCurrentPage,\n          renderTotalPagesCount = _props.renderTotalPagesCount,\n          renderPageSizeOptions = _props.renderPageSizeOptions;\n      return React.createElement('div', {\n        className: classnames(className, '-pagination'),\n        style: this.props.style\n      }, React.createElement('div', {\n        className: '-previous'\n      }, React.createElement(PreviousComponent, {\n        onClick: function onClick() {\n          if (!canPrevious) return;\n\n          _this3.changePage(page - 1);\n        },\n        disabled: !canPrevious\n      }, this.props.previousText)), React.createElement('div', {\n        className: '-center'\n      }, React.createElement('span', {\n        className: '-pageInfo'\n      }, this.props.pageText, ' ', showPageJump ? renderPageJump(this.getPageJumpProperties()) : renderCurrentPage(page), ' ', this.props.ofText, ' ', renderTotalPagesCount(pages)), showPageSizeOptions && renderPageSizeOptions({\n        pageSize: pageSize,\n        rowsSelectorText: this.props.rowsSelectorText,\n        pageSizeOptions: pageSizeOptions,\n        onPageSizeChange: onPageSizeChange,\n        rowsText: this.props.rowsText\n      })), React.createElement('div', {\n        className: '-next'\n      }, React.createElement(NextComponent, {\n        onClick: function onClick() {\n          if (!canNext) return;\n\n          _this3.changePage(page + 1);\n        },\n        disabled: !canNext\n      }, this.props.nextText)));\n    }\n  }]);\n\n  return ReactTablePagination;\n}(Component);\n\nReactTablePagination.defaultProps = {\n  PreviousComponent: defaultButton,\n  NextComponent: defaultButton,\n  renderPageJump: function renderPageJump(_ref) {\n    var onChange = _ref.onChange,\n        value = _ref.value,\n        onBlur = _ref.onBlur,\n        onKeyPress = _ref.onKeyPress,\n        inputType = _ref.inputType,\n        pageJumpText = _ref.pageJumpText;\n    return React.createElement('div', {\n      className: '-pageJump'\n    }, React.createElement('input', {\n      'aria-label': pageJumpText,\n      type: inputType,\n      onChange: onChange,\n      value: value,\n      onBlur: onBlur,\n      onKeyPress: onKeyPress\n    }));\n  },\n  renderCurrentPage: function renderCurrentPage(page) {\n    return React.createElement('span', {\n      className: '-currentPage'\n    }, page + 1);\n  },\n  renderTotalPagesCount: function renderTotalPagesCount(pages) {\n    return React.createElement('span', {\n      className: '-totalPages'\n    }, pages || 1);\n  },\n  renderPageSizeOptions: function renderPageSizeOptions(_ref2) {\n    var pageSize = _ref2.pageSize,\n        pageSizeOptions = _ref2.pageSizeOptions,\n        rowsSelectorText = _ref2.rowsSelectorText,\n        onPageSizeChange = _ref2.onPageSizeChange,\n        rowsText = _ref2.rowsText;\n    return React.createElement('span', {\n      className: 'select-wrap -pageSizeOptions'\n    }, React.createElement('select', {\n      'aria-label': rowsSelectorText,\n      onChange: function onChange(e) {\n        return onPageSizeChange(Number(e.target.value));\n      },\n      value: pageSize\n    }, pageSizeOptions.map(function (option, i) {\n      return (// eslint-disable-next-line react/no-array-index-key\n        React.createElement('option', {\n          key: i,\n          value: option\n        }, option + ' ' + rowsText)\n      );\n    })));\n  }\n};\nexport default ReactTablePagination;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport classnames from 'classnames'; //\n\nimport _ from './utils';\nimport Pagination from './pagination';\n\nvar emptyObj = function emptyObj() {\n  return {};\n};\n\nexport default {\n  // General\n  data: [],\n  resolveData: function resolveData(data) {\n    return data;\n  },\n  loading: false,\n  showPagination: true,\n  showPaginationTop: false,\n  showPaginationBottom: true,\n  showPageSizeOptions: true,\n  pageSizeOptions: [5, 10, 20, 25, 50, 100],\n  defaultPage: 0,\n  defaultPageSize: 20,\n  showPageJump: true,\n  collapseOnSortingChange: true,\n  collapseOnPageChange: true,\n  collapseOnDataChange: true,\n  freezeWhenExpanded: false,\n  sortable: true,\n  multiSort: true,\n  resizable: true,\n  filterable: false,\n  defaultSortDesc: false,\n  defaultSorted: [],\n  defaultFiltered: [],\n  defaultResized: [],\n  defaultExpanded: {},\n  // eslint-disable-next-line no-unused-vars\n  defaultFilterMethod: function defaultFilterMethod(filter, row, column) {\n    var id = filter.pivotId || filter.id;\n    return row[id] !== undefined ? String(row[id]).startsWith(filter.value) : true;\n  },\n  // eslint-disable-next-line no-unused-vars\n  defaultSortMethod: function defaultSortMethod(a, b, desc) {\n    // force null and undefined to the bottom\n    a = a === null || a === undefined ? '' : a;\n    b = b === null || b === undefined ? '' : b; // force any string values to lowercase\n\n    a = typeof a === 'string' ? a.toLowerCase() : a;\n    b = typeof b === 'string' ? b.toLowerCase() : b; // Return either 1 or -1 to indicate a sort priority\n\n    if (a > b) {\n      return 1;\n    }\n\n    if (a < b) {\n      return -1;\n    } // returning 0, undefined or any falsey value will use subsequent sorts or\n    // the index as a tiebreaker\n\n\n    return 0;\n  },\n  // Controlled State Props\n  // page: undefined,\n  // pageSize: undefined,\n  // sorted: [],\n  // filtered: [],\n  // resized: [],\n  // expanded: {},\n  // Controlled State Callbacks\n  onPageChange: undefined,\n  onPageSizeChange: undefined,\n  onSortedChange: undefined,\n  onFilteredChange: undefined,\n  onResizedChange: undefined,\n  onExpandedChange: undefined,\n  // Pivoting\n  pivotBy: undefined,\n  // Key Constants\n  pivotValKey: '_pivotVal',\n  pivotIDKey: '_pivotID',\n  subRowsKey: '_subRows',\n  aggregatedKey: '_aggregated',\n  nestingLevelKey: '_nestingLevel',\n  originalKey: '_original',\n  indexKey: '_index',\n  groupedByPivotKey: '_groupedByPivot',\n  // Server-side Callbacks\n  onFetchData: function onFetchData() {\n    return null;\n  },\n  // Classes\n  className: '',\n  style: {},\n  // Component decorators\n  getProps: emptyObj,\n  getTableProps: emptyObj,\n  getTheadGroupProps: emptyObj,\n  getTheadGroupTrProps: emptyObj,\n  getTheadGroupThProps: emptyObj,\n  getTheadProps: emptyObj,\n  getTheadTrProps: emptyObj,\n  getTheadThProps: emptyObj,\n  getTheadFilterProps: emptyObj,\n  getTheadFilterTrProps: emptyObj,\n  getTheadFilterThProps: emptyObj,\n  getTbodyProps: emptyObj,\n  getTrGroupProps: emptyObj,\n  getTrProps: emptyObj,\n  getTdProps: emptyObj,\n  getTfootProps: emptyObj,\n  getTfootTrProps: emptyObj,\n  getTfootTdProps: emptyObj,\n  getPaginationProps: emptyObj,\n  getLoadingProps: emptyObj,\n  getNoDataProps: emptyObj,\n  getResizerProps: emptyObj,\n  // Global Column Defaults\n  column: {\n    // Renderers\n    Cell: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Aggregated: undefined,\n    Pivot: undefined,\n    PivotValue: undefined,\n    Expander: undefined,\n    Filter: undefined,\n    Placeholder: undefined,\n    // All Columns\n    sortable: undefined,\n    // use table default\n    resizable: undefined,\n    // use table default\n    filterable: undefined,\n    // use table default\n    show: true,\n    minWidth: 100,\n    minResizeWidth: 11,\n    // Cells only\n    className: '',\n    style: {},\n    getProps: emptyObj,\n    // Pivot only\n    aggregate: undefined,\n    // Headers only\n    headerClassName: '',\n    headerStyle: {},\n    getHeaderProps: emptyObj,\n    // Footers only\n    footerClassName: '',\n    footerStyle: {},\n    getFooterProps: emptyObj,\n    filterMethod: undefined,\n    filterAll: false,\n    sortMethod: undefined\n  },\n  // Global Expander Column Defaults\n  expanderDefaults: {\n    sortable: false,\n    resizable: false,\n    filterable: false,\n    width: 35\n  },\n  pivotDefaults: {// extend the defaults for pivoted columns here\n  },\n  // Text\n  previousText: 'Previous',\n  nextText: 'Next',\n  loadingText: 'Loading...',\n  noDataText: 'No rows found',\n  pageText: 'Page',\n  ofText: 'of',\n  rowsText: 'rows',\n  pageJumpText: 'jump to page',\n  rowsSelectorText: 'rows per page',\n  // Components\n  TableComponent: function TableComponent(_ref) {\n    var children = _ref.children,\n        className = _ref.className,\n        rest = _objectWithoutProperties(_ref, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-table', className),\n      role: 'grid' // tabIndex='0'\n\n    }, rest), children);\n  },\n  TheadComponent: _.makeTemplateComponent('rt-thead', 'Thead'),\n  TbodyComponent: _.makeTemplateComponent('rt-tbody', 'Tbody'),\n  TrGroupComponent: function TrGroupComponent(_ref2) {\n    var children = _ref2.children,\n        className = _ref2.className,\n        rest = _objectWithoutProperties(_ref2, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-tr-group', className),\n      role: 'rowgroup'\n    }, rest), children);\n  },\n  TrComponent: function TrComponent(_ref3) {\n    var children = _ref3.children,\n        className = _ref3.className,\n        rest = _objectWithoutProperties(_ref3, ['children', 'className']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-tr', className),\n      role: 'row'\n    }, rest), children);\n  },\n  ThComponent: function ThComponent(_ref4) {\n    var toggleSort = _ref4.toggleSort,\n        className = _ref4.className,\n        children = _ref4.children,\n        rest = _objectWithoutProperties(_ref4, ['toggleSort', 'className', 'children']);\n\n    return (// eslint-disable-next-line jsx-a11y/click-events-have-key-events\n      React.createElement('div', _extends({\n        className: classnames('rt-th', className),\n        onClick: function onClick(e) {\n          return toggleSort && toggleSort(e);\n        },\n        role: 'columnheader',\n        tabIndex: '-1' // Resolves eslint issues without implementing keyboard navigation incorrectly\n\n      }, rest), children)\n    );\n  },\n  TdComponent: function TdComponent(_ref5) {\n    var toggleSort = _ref5.toggleSort,\n        className = _ref5.className,\n        children = _ref5.children,\n        rest = _objectWithoutProperties(_ref5, ['toggleSort', 'className', 'children']);\n\n    return React.createElement('div', _extends({\n      className: classnames('rt-td', className),\n      role: 'gridcell'\n    }, rest), children);\n  },\n  TfootComponent: _.makeTemplateComponent('rt-tfoot', 'Tfoot'),\n  FilterComponent: function FilterComponent(_ref6) {\n    var filter = _ref6.filter,\n        _onChange = _ref6.onChange,\n        column = _ref6.column;\n    return React.createElement('input', {\n      type: 'text',\n      style: {\n        width: '100%'\n      },\n      placeholder: column.Placeholder,\n      value: filter ? filter.value : '',\n      onChange: function onChange(event) {\n        return _onChange(event.target.value);\n      }\n    });\n  },\n  ExpanderComponent: function ExpanderComponent(_ref7) {\n    var isExpanded = _ref7.isExpanded;\n    return React.createElement('div', {\n      className: classnames('rt-expander', isExpanded && '-open')\n    }, \"\\u2022\");\n  },\n  PivotValueComponent: function PivotValueComponent(_ref8) {\n    var subRows = _ref8.subRows,\n        value = _ref8.value;\n    return React.createElement('span', null, value, ' ', subRows && '(' + subRows.length + ')');\n  },\n  AggregatedComponent: function AggregatedComponent(_ref9) {\n    var subRows = _ref9.subRows,\n        column = _ref9.column;\n    var previewValues = subRows.filter(function (d) {\n      return typeof d[column.id] !== 'undefined';\n    }).map(function (row, i) {\n      return (// eslint-disable-next-line react/no-array-index-key\n        React.createElement('span', {\n          key: i\n        }, row[column.id], i < subRows.length - 1 ? ', ' : '')\n      );\n    });\n    return React.createElement('span', null, previewValues);\n  },\n  PivotComponent: undefined,\n  // this is a computed default generated using\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: Pagination,\n  PreviousComponent: undefined,\n  NextComponent: undefined,\n  LoadingComponent: function LoadingComponent(_ref10) {\n    var className = _ref10.className,\n        loading = _ref10.loading,\n        loadingText = _ref10.loadingText,\n        rest = _objectWithoutProperties(_ref10, ['className', 'loading', 'loadingText']);\n\n    return React.createElement('div', _extends({\n      className: classnames('-loading', {\n        '-active': loading\n      }, className)\n    }, rest), React.createElement('div', {\n      className: '-loading-inner'\n    }, loadingText));\n  },\n  NoDataComponent: _.makeTemplateComponent('rt-noData', 'NoData'),\n  ResizerComponent: _.makeTemplateComponent('rt-resizer', 'Resizer'),\n  PadRowComponent: function PadRowComponent() {\n    return React.createElement('span', null, '\\xA0');\n  }\n};","var _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport classnames from 'classnames'; //\n\nimport _ from './utils';\nimport Lifecycle from './lifecycle';\nimport Methods from './methods';\nimport defaultProps from './defaultProps';\nimport propTypes from './propTypes';\nexport var ReactTableDefaults = defaultProps;\n\nvar ReactTable = function (_Methods) {\n  _inherits(ReactTable, _Methods);\n\n  function ReactTable(props) {\n    _classCallCheck(this, ReactTable);\n\n    var _this = _possibleConstructorReturn(this, (ReactTable.__proto__ || Object.getPrototypeOf(ReactTable)).call(this, props));\n\n    _this.getResolvedState = _this.getResolvedState.bind(_this);\n    _this.getDataModel = _this.getDataModel.bind(_this);\n    _this.getSortedData = _this.getSortedData.bind(_this);\n    _this.fireFetchData = _this.fireFetchData.bind(_this);\n    _this.getPropOrState = _this.getPropOrState.bind(_this);\n    _this.getStateOrProp = _this.getStateOrProp.bind(_this);\n    _this.filterData = _this.filterData.bind(_this);\n    _this.sortData = _this.sortData.bind(_this);\n    _this.getMinRows = _this.getMinRows.bind(_this);\n    _this.onPageChange = _this.onPageChange.bind(_this);\n    _this.onPageSizeChange = _this.onPageSizeChange.bind(_this);\n    _this.sortColumn = _this.sortColumn.bind(_this);\n    _this.filterColumn = _this.filterColumn.bind(_this);\n    _this.resizeColumnStart = _this.resizeColumnStart.bind(_this);\n    _this.resizeColumnEnd = _this.resizeColumnEnd.bind(_this);\n    _this.resizeColumnMoving = _this.resizeColumnMoving.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTable, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var resolvedState = this.getResolvedState();\n      var children = resolvedState.children,\n          className = resolvedState.className,\n          style = resolvedState.style,\n          getProps = resolvedState.getProps,\n          getTableProps = resolvedState.getTableProps,\n          getTheadGroupProps = resolvedState.getTheadGroupProps,\n          getTheadGroupTrProps = resolvedState.getTheadGroupTrProps,\n          getTheadGroupThProps = resolvedState.getTheadGroupThProps,\n          getTheadProps = resolvedState.getTheadProps,\n          getTheadTrProps = resolvedState.getTheadTrProps,\n          getTheadThProps = resolvedState.getTheadThProps,\n          getTheadFilterProps = resolvedState.getTheadFilterProps,\n          getTheadFilterTrProps = resolvedState.getTheadFilterTrProps,\n          getTheadFilterThProps = resolvedState.getTheadFilterThProps,\n          getTbodyProps = resolvedState.getTbodyProps,\n          getTrGroupProps = resolvedState.getTrGroupProps,\n          getTrProps = resolvedState.getTrProps,\n          getTdProps = resolvedState.getTdProps,\n          getTfootProps = resolvedState.getTfootProps,\n          getTfootTrProps = resolvedState.getTfootTrProps,\n          getTfootTdProps = resolvedState.getTfootTdProps,\n          getPaginationProps = resolvedState.getPaginationProps,\n          getLoadingProps = resolvedState.getLoadingProps,\n          getNoDataProps = resolvedState.getNoDataProps,\n          getResizerProps = resolvedState.getResizerProps,\n          showPagination = resolvedState.showPagination,\n          showPaginationTop = resolvedState.showPaginationTop,\n          showPaginationBottom = resolvedState.showPaginationBottom,\n          manual = resolvedState.manual,\n          loadingText = resolvedState.loadingText,\n          noDataText = resolvedState.noDataText,\n          sortable = resolvedState.sortable,\n          multiSort = resolvedState.multiSort,\n          resizable = resolvedState.resizable,\n          filterable = resolvedState.filterable,\n          pivotIDKey = resolvedState.pivotIDKey,\n          pivotValKey = resolvedState.pivotValKey,\n          pivotBy = resolvedState.pivotBy,\n          subRowsKey = resolvedState.subRowsKey,\n          aggregatedKey = resolvedState.aggregatedKey,\n          originalKey = resolvedState.originalKey,\n          indexKey = resolvedState.indexKey,\n          groupedByPivotKey = resolvedState.groupedByPivotKey,\n          loading = resolvedState.loading,\n          pageSize = resolvedState.pageSize,\n          page = resolvedState.page,\n          sorted = resolvedState.sorted,\n          filtered = resolvedState.filtered,\n          resized = resolvedState.resized,\n          expanded = resolvedState.expanded,\n          pages = resolvedState.pages,\n          onExpandedChange = resolvedState.onExpandedChange,\n          TableComponent = resolvedState.TableComponent,\n          TheadComponent = resolvedState.TheadComponent,\n          TbodyComponent = resolvedState.TbodyComponent,\n          TrGroupComponent = resolvedState.TrGroupComponent,\n          TrComponent = resolvedState.TrComponent,\n          ThComponent = resolvedState.ThComponent,\n          TdComponent = resolvedState.TdComponent,\n          TfootComponent = resolvedState.TfootComponent,\n          PaginationComponent = resolvedState.PaginationComponent,\n          LoadingComponent = resolvedState.LoadingComponent,\n          SubComponent = resolvedState.SubComponent,\n          NoDataComponent = resolvedState.NoDataComponent,\n          ResizerComponent = resolvedState.ResizerComponent,\n          ExpanderComponent = resolvedState.ExpanderComponent,\n          PivotValueComponent = resolvedState.PivotValueComponent,\n          PivotComponent = resolvedState.PivotComponent,\n          AggregatedComponent = resolvedState.AggregatedComponent,\n          FilterComponent = resolvedState.FilterComponent,\n          PadRowComponent = resolvedState.PadRowComponent,\n          resolvedData = resolvedState.resolvedData,\n          allVisibleColumns = resolvedState.allVisibleColumns,\n          headerGroups = resolvedState.headerGroups,\n          hasHeaderGroups = resolvedState.hasHeaderGroups,\n          sortedData = resolvedState.sortedData,\n          currentlyResizing = resolvedState.currentlyResizing; // Pagination\n\n      var startRow = pageSize * page;\n      var endRow = startRow + pageSize;\n      var pageRows = manual ? resolvedData : sortedData.slice(startRow, endRow);\n      var minRows = this.getMinRows();\n\n      var padRows = _.range(Math.max(minRows - pageRows.length, 0));\n\n      var hasColumnFooter = allVisibleColumns.some(function (d) {\n        return d.Footer;\n      });\n      var hasFilters = filterable || allVisibleColumns.some(function (d) {\n        return d.filterable;\n      });\n\n      var recurseRowsViewIndex = function recurseRowsViewIndex(rows) {\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n        return [rows.map(function (row, i) {\n          index += 1;\n\n          var rowWithViewIndex = _extends({}, row, {\n            _viewIndex: index\n          });\n\n          var newPath = path.concat([i]);\n\n          if (rowWithViewIndex[subRowsKey] && _.get(expanded, newPath)) {\n            var _recurseRowsViewIndex = recurseRowsViewIndex(rowWithViewIndex[subRowsKey], newPath, index);\n\n            var _recurseRowsViewIndex2 = _slicedToArray(_recurseRowsViewIndex, 2);\n\n            rowWithViewIndex[subRowsKey] = _recurseRowsViewIndex2[0];\n            index = _recurseRowsViewIndex2[1];\n          }\n\n          return rowWithViewIndex;\n        }), index];\n      };\n\n      var _recurseRowsViewIndex3 = recurseRowsViewIndex(pageRows);\n\n      var _recurseRowsViewIndex4 = _slicedToArray(_recurseRowsViewIndex3, 1);\n\n      pageRows = _recurseRowsViewIndex4[0];\n      var canPrevious = page > 0;\n      var canNext = page + 1 < pages;\n\n      var rowMinWidth = _.sum(allVisibleColumns.map(function (d) {\n        var resizedColumn = resized.find(function (x) {\n          return x.id === d.id;\n        }) || {};\n        return _.getFirstDefined(resizedColumn.value, d.width, d.minWidth);\n      }));\n\n      var rowIndex = -1;\n\n      var finalState = _extends({}, resolvedState, {\n        startRow: startRow,\n        endRow: endRow,\n        pageRows: pageRows,\n        minRows: minRows,\n        padRows: padRows,\n        hasColumnFooter: hasColumnFooter,\n        canPrevious: canPrevious,\n        canNext: canNext,\n        rowMinWidth: rowMinWidth\n      });\n\n      var rootProps = _.splitProps(getProps(finalState, undefined, undefined, this));\n\n      var tableProps = _.splitProps(getTableProps(finalState, undefined, undefined, this));\n\n      var tBodyProps = _.splitProps(getTbodyProps(finalState, undefined, undefined, this));\n\n      var loadingProps = getLoadingProps(finalState, undefined, undefined, this);\n      var noDataProps = getNoDataProps(finalState, undefined, undefined, this); // Visual Components\n\n      var makeHeaderGroup = function makeHeaderGroup(column, i) {\n        var resizedValue = function resizedValue(col) {\n          return (resized.find(function (x) {\n            return x.id === col.id;\n          }) || {}).value;\n        };\n\n        var flex = _.sum(column.columns.map(function (col) {\n          return col.width || resizedValue(col) ? 0 : col.minWidth;\n        }));\n\n        var width = _.sum(column.columns.map(function (col) {\n          return _.getFirstDefined(resizedValue(col), col.width, col.minWidth);\n        }));\n\n        var maxWidth = _.sum(column.columns.map(function (col) {\n          return _.getFirstDefined(resizedValue(col), col.width, col.maxWidth);\n        }));\n\n        var theadGroupThProps = _.splitProps(getTheadGroupThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadGroupThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadGroupThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadGroupThProps.rest, columnHeaderProps.rest);\n\n        var flexStyles = {\n          flex: flex + ' 0 auto',\n          width: _.asPx(width),\n          maxWidth: _.asPx(maxWidth)\n        };\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes),\n          style: _extends({}, styles, flexStyles)\n        }, rest), _.normalizeComponent(column.Header, {\n          data: sortedData,\n          column: column\n        }));\n      };\n\n      var makeHeaderGroups = function makeHeaderGroups() {\n        var theadGroupProps = _.splitProps(getTheadGroupProps(finalState, undefined, undefined, _this2));\n\n        var theadGroupTrProps = _.splitProps(getTheadGroupTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-headerGroups', theadGroupProps.className),\n          style: _extends({}, theadGroupProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadGroupProps.rest), React.createElement(TrComponent, _extends({\n          className: theadGroupTrProps.className,\n          style: theadGroupTrProps.style\n        }, theadGroupTrProps.rest), headerGroups.map(makeHeaderGroup)));\n      };\n\n      var makeHeader = function makeHeader(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var sort = sorted.find(function (d) {\n          return d.id === column.id;\n        });\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var theadThProps = _.splitProps(getTheadThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadThProps.rest, columnHeaderProps.rest);\n\n        var isResizable = _.getFirstDefined(column.resizable, resizable, false);\n\n        var resizer = isResizable ? React.createElement(ResizerComponent, _extends({\n          onMouseDown: function onMouseDown(e) {\n            return _this2.resizeColumnStart(e, column, false);\n          },\n          onTouchStart: function onTouchStart(e) {\n            return _this2.resizeColumnStart(e, column, true);\n          }\n        }, getResizerProps('finalState', undefined, column, _this2))) : null;\n\n        var isSortable = _.getFirstDefined(column.sortable, sortable, false);\n\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, isResizable && 'rt-resizable-header', sort ? sort.desc ? '-sort-desc' : '-sort-asc' : '', isSortable && '-cursor-pointer', !show && '-hidden', pivotBy && pivotBy.slice(0, -1).includes(column.id) && 'rt-header-pivot'),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          }),\n          toggleSort: function toggleSort(e) {\n            if (isSortable) _this2.sortColumn(column, multiSort ? e.shiftKey : false);\n          }\n        }, rest), React.createElement('div', {\n          className: classnames(isResizable && 'rt-resizable-header-content')\n        }, _.normalizeComponent(column.Header, {\n          data: sortedData,\n          column: column\n        })), resizer);\n      };\n\n      var makeHeaders = function makeHeaders() {\n        var theadProps = _.splitProps(getTheadProps(finalState, undefined, undefined, _this2));\n\n        var theadTrProps = _.splitProps(getTheadTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-header', theadProps.className),\n          style: _extends({}, theadProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadProps.rest), React.createElement(TrComponent, _extends({\n          className: theadTrProps.className,\n          style: theadTrProps.style\n        }, theadTrProps.rest), allVisibleColumns.map(makeHeader)));\n      };\n\n      var makeFilter = function makeFilter(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var theadFilterThProps = _.splitProps(getTheadFilterThProps(finalState, undefined, column, _this2));\n\n        var columnHeaderProps = _.splitProps(column.getHeaderProps(finalState, undefined, column, _this2));\n\n        var classes = [column.headerClassName, theadFilterThProps.className, columnHeaderProps.className];\n\n        var styles = _extends({}, column.headerStyle, theadFilterThProps.style, columnHeaderProps.style);\n\n        var rest = _extends({}, theadFilterThProps.rest, columnHeaderProps.rest);\n\n        var filter = filtered.find(function (filter) {\n          return filter.id === column.id;\n        });\n        var ResolvedFilterComponent = column.Filter || FilterComponent;\n\n        var isFilterable = _.getFirstDefined(column.filterable, filterable, false);\n\n        return React.createElement(ThComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, rest), isFilterable ? _.normalizeComponent(ResolvedFilterComponent, {\n          column: column,\n          filter: filter,\n          onChange: function onChange(value) {\n            return _this2.filterColumn(column, value);\n          }\n        }, defaultProps.column.Filter) : null);\n      };\n\n      var makeFilters = function makeFilters() {\n        var theadFilterProps = _.splitProps(getTheadFilterProps(finalState, undefined, undefined, _this2));\n\n        var theadFilterTrProps = _.splitProps(getTheadFilterTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TheadComponent, _extends({\n          className: classnames('-filters', theadFilterProps.className),\n          style: _extends({}, theadFilterProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, theadFilterProps.rest), React.createElement(TrComponent, _extends({\n          className: theadFilterTrProps.className,\n          style: theadFilterTrProps.style\n        }, theadFilterTrProps.rest), allVisibleColumns.map(makeFilter)));\n      };\n\n      var makePageRow = function makePageRow(row, i) {\n        var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        var rowInfo = {\n          original: row[originalKey],\n          row: row,\n          index: row[indexKey],\n          viewIndex: rowIndex += 1,\n          pageSize: pageSize,\n          page: page,\n          level: path.length,\n          nestingPath: path.concat([i]),\n          aggregated: row[aggregatedKey],\n          groupedByPivot: row[groupedByPivotKey],\n          subRows: row[subRowsKey]\n        };\n\n        var isExpanded = _.get(expanded, rowInfo.nestingPath);\n\n        var trGroupProps = getTrGroupProps(finalState, rowInfo, undefined, _this2);\n\n        var trProps = _.splitProps(getTrProps(finalState, rowInfo, undefined, _this2));\n\n        return React.createElement(TrGroupComponent, _extends({\n          key: rowInfo.nestingPath.join('_')\n        }, trGroupProps), React.createElement(TrComponent, _extends({\n          className: classnames(trProps.className, row._viewIndex % 2 ? '-even' : '-odd'),\n          style: trProps.style\n        }, trProps.rest), allVisibleColumns.map(function (column, i2) {\n          var resizedCol = resized.find(function (x) {\n            return x.id === column.id;\n          }) || {};\n          var show = typeof column.show === 'function' ? column.show() : column.show;\n\n          var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n          var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n          var tdProps = _.splitProps(getTdProps(finalState, rowInfo, column, _this2));\n\n          var columnProps = _.splitProps(column.getProps(finalState, rowInfo, column, _this2));\n\n          var classes = [tdProps.className, column.className, columnProps.className];\n\n          var styles = _extends({}, tdProps.style, column.style, columnProps.style);\n\n          var cellInfo = _extends({}, rowInfo, {\n            isExpanded: isExpanded,\n            column: _extends({}, column),\n            value: rowInfo.row[column.id],\n            pivoted: column.pivoted,\n            expander: column.expander,\n            resized: resized,\n            show: show,\n            width: width,\n            maxWidth: maxWidth,\n            tdProps: tdProps,\n            columnProps: columnProps,\n            classes: classes,\n            styles: styles\n          });\n\n          var value = cellInfo.value;\n          var useOnExpanderClick = void 0;\n          var isBranch = void 0;\n          var isPreview = void 0;\n\n          var onExpanderClick = function onExpanderClick(e) {\n            var newExpanded = _.clone(expanded);\n\n            if (isExpanded) {\n              newExpanded = _.set(newExpanded, cellInfo.nestingPath, false);\n            } else {\n              newExpanded = _.set(newExpanded, cellInfo.nestingPath, {});\n            }\n\n            return _this2.setStateWithData({\n              expanded: newExpanded\n            }, function () {\n              return onExpandedChange && onExpandedChange(newExpanded, cellInfo.nestingPath, e, cellInfo);\n            });\n          }; // Default to a standard cell\n\n\n          var resolvedCell = _.normalizeComponent(column.Cell, cellInfo, value); // Resolve Renderers\n\n\n          var ResolvedAggregatedComponent = column.Aggregated || (!column.aggregate ? AggregatedComponent : column.Cell);\n          var ResolvedExpanderComponent = column.Expander || ExpanderComponent;\n          var ResolvedPivotValueComponent = column.PivotValue || PivotValueComponent;\n\n          var DefaultResolvedPivotComponent = PivotComponent || function (props) {\n            return React.createElement('div', null, React.createElement(ResolvedExpanderComponent, props), React.createElement(ResolvedPivotValueComponent, props));\n          };\n\n          var ResolvedPivotComponent = column.Pivot || DefaultResolvedPivotComponent; // Is this cell expandable?\n\n          if (cellInfo.pivoted || cellInfo.expander) {\n            // Make it expandable by defualt\n            cellInfo.expandable = true;\n            useOnExpanderClick = true; // If pivoted, has no subRows, and does not have a subComponent,\n            // do not make expandable\n\n            if (cellInfo.pivoted && !cellInfo.subRows && !SubComponent) {\n              cellInfo.expandable = false;\n            }\n          }\n\n          if (cellInfo.pivoted) {\n            // Is this column a branch?\n            isBranch = rowInfo.row[pivotIDKey] === column.id && cellInfo.subRows; // Should this column be blank?\n\n            isPreview = pivotBy.indexOf(column.id) > pivotBy.indexOf(rowInfo.row[pivotIDKey]) && cellInfo.subRows; // Pivot Cell Render Override\n\n            if (isBranch) {\n              // isPivot\n              resolvedCell = _.normalizeComponent(ResolvedPivotComponent, _extends({}, cellInfo, {\n                value: row[pivotValKey]\n              }), row[pivotValKey]);\n            } else if (isPreview) {\n              // Show the pivot preview\n              resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\n            } else {\n              resolvedCell = null;\n            }\n          } else if (cellInfo.aggregated) {\n            resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\n          }\n\n          if (cellInfo.expander) {\n            resolvedCell = _.normalizeComponent(ResolvedExpanderComponent, cellInfo, row[pivotValKey]);\n\n            if (pivotBy) {\n              if (cellInfo.groupedByPivot) {\n                resolvedCell = null;\n              }\n\n              if (!cellInfo.subRows && !SubComponent) {\n                resolvedCell = null;\n              }\n            }\n          }\n\n          var resolvedOnExpanderClick = useOnExpanderClick ? onExpanderClick : function () {}; // If there are multiple onClick events, make sure they don't\n          // override eachother. This should maybe be expanded to handle all\n          // function attributes\n\n          var interactionProps = {\n            onClick: resolvedOnExpanderClick\n          };\n\n          if (tdProps.rest.onClick) {\n            interactionProps.onClick = function (e) {\n              tdProps.rest.onClick(e, function () {\n                return resolvedOnExpanderClick(e);\n              });\n            };\n          }\n\n          if (columnProps.rest.onClick) {\n            interactionProps.onClick = function (e) {\n              columnProps.rest.onClick(e, function () {\n                return resolvedOnExpanderClick(e);\n              });\n            };\n          } // Return the cell\n\n\n          return React.createElement(TdComponent // eslint-disable-next-line react/no-array-index-key\n          , _extends({\n            key: i2 + '-' + column.id,\n            className: classnames(classes, !cellInfo.expandable && !show && 'hidden', cellInfo.expandable && 'rt-expandable', (isBranch || isPreview) && 'rt-pivot'),\n            style: _extends({}, styles, {\n              flex: width + ' 0 auto',\n              width: _.asPx(width),\n              maxWidth: _.asPx(maxWidth)\n            })\n          }, tdProps.rest, columnProps.rest, interactionProps), resolvedCell);\n        })), rowInfo.subRows && isExpanded && rowInfo.subRows.map(function (d, i) {\n          return makePageRow(d, i, rowInfo.nestingPath);\n        }), SubComponent && !rowInfo.subRows && isExpanded && SubComponent(rowInfo, function () {\n          var newExpanded = _.clone(expanded);\n\n          _.set(newExpanded, rowInfo.nestingPath, false);\n        }));\n      };\n\n      var makePadColumn = function makePadColumn(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var flex = width;\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var tdProps = _.splitProps(getTdProps(finalState, undefined, column, _this2));\n\n        var columnProps = _.splitProps(column.getProps(finalState, undefined, column, _this2));\n\n        var classes = [tdProps.className, column.className, columnProps.className];\n\n        var styles = _extends({}, tdProps.style, column.style, columnProps.style);\n\n        return React.createElement(TdComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, !show && 'hidden'),\n          style: _extends({}, styles, {\n            flex: flex + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, tdProps.rest), _.normalizeComponent(PadRowComponent));\n      };\n\n      var makePadRow = function makePadRow(row, i) {\n        var trGroupProps = getTrGroupProps(finalState, undefined, undefined, _this2);\n\n        var trProps = _.splitProps(getTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TrGroupComponent, _extends({\n          key: 'pad-' + i\n        }, trGroupProps), React.createElement(TrComponent, {\n          className: classnames('-padRow', (pageRows.length + i) % 2 ? '-even' : '-odd', trProps.className),\n          style: trProps.style || {}\n        }, allVisibleColumns.map(makePadColumn)));\n      };\n\n      var makeColumnFooter = function makeColumnFooter(column, i) {\n        var resizedCol = resized.find(function (x) {\n          return x.id === column.id;\n        }) || {};\n        var show = typeof column.show === 'function' ? column.show() : column.show;\n\n        var width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        var maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        var tFootTdProps = _.splitProps(getTfootTdProps(finalState, undefined, column, _this2));\n\n        var columnProps = _.splitProps(column.getProps(finalState, undefined, column, _this2));\n\n        var columnFooterProps = _.splitProps(column.getFooterProps(finalState, undefined, column, _this2));\n\n        var classes = [tFootTdProps.className, column.className, columnProps.className, columnFooterProps.className];\n\n        var styles = _extends({}, tFootTdProps.style, column.style, columnProps.style, columnFooterProps.style);\n\n        return React.createElement(TdComponent, _extends({\n          key: i + '-' + column.id,\n          className: classnames(classes, !show && 'hidden'),\n          style: _extends({}, styles, {\n            flex: width + ' 0 auto',\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          })\n        }, columnProps.rest, tFootTdProps.rest, columnFooterProps.rest), _.normalizeComponent(column.Footer, {\n          data: sortedData,\n          column: column\n        }));\n      };\n\n      var makeColumnFooters = function makeColumnFooters() {\n        var tFootProps = _.splitProps(getTfootProps(finalState, undefined, undefined, _this2));\n\n        var tFootTrProps = _.splitProps(getTfootTrProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(TfootComponent, _extends({\n          className: tFootProps.className,\n          style: _extends({}, tFootProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, tFootProps.rest), React.createElement(TrComponent, _extends({\n          className: classnames(tFootTrProps.className),\n          style: tFootTrProps.style\n        }, tFootTrProps.rest), allVisibleColumns.map(makeColumnFooter)));\n      };\n\n      var makePagination = function makePagination(isTop) {\n        var paginationProps = _.splitProps(getPaginationProps(finalState, undefined, undefined, _this2));\n\n        return React.createElement(PaginationComponent, _extends({}, resolvedState, {\n          pages: pages,\n          canPrevious: canPrevious,\n          canNext: canNext,\n          onPageChange: _this2.onPageChange,\n          onPageSizeChange: _this2.onPageSizeChange,\n          className: paginationProps.className,\n          style: paginationProps.style,\n          isTop: isTop\n        }, paginationProps.rest));\n      };\n\n      var makeTable = function makeTable() {\n        return React.createElement('div', _extends({\n          className: classnames('ReactTable', className, rootProps.className),\n          style: _extends({}, style, rootProps.style)\n        }, rootProps.rest), showPagination && showPaginationTop ? React.createElement('div', {\n          className: 'pagination-top'\n        }, makePagination(true)) : null, React.createElement(TableComponent, _extends({\n          className: classnames(tableProps.className, currentlyResizing ? 'rt-resizing' : ''),\n          style: tableProps.style\n        }, tableProps.rest), hasHeaderGroups ? makeHeaderGroups() : null, makeHeaders(), hasFilters ? makeFilters() : null, React.createElement(TbodyComponent, _extends({\n          className: classnames(tBodyProps.className),\n          style: _extends({}, tBodyProps.style, {\n            minWidth: rowMinWidth + 'px'\n          })\n        }, tBodyProps.rest), pageRows.map(function (d, i) {\n          return makePageRow(d, i);\n        }), padRows.map(makePadRow)), hasColumnFooter ? makeColumnFooters() : null), showPagination && showPaginationBottom ? React.createElement('div', {\n          className: 'pagination-bottom'\n        }, makePagination(false)) : null, !pageRows.length && React.createElement(NoDataComponent, noDataProps, _.normalizeComponent(noDataText)), React.createElement(LoadingComponent, _extends({\n          loading: loading,\n          loadingText: loadingText\n        }, loadingProps)));\n      }; // childProps are optionally passed to a function-as-a-child\n\n\n      return children ? children(finalState, makeTable, this) : makeTable();\n    }\n  }]);\n\n  return ReactTable;\n}(Methods(Lifecycle(Component)));\n\nReactTable.defaultProps = defaultProps;\nexport default ReactTable;","import PropTypes from 'prop-types';\nexport default {\n  // General\n  data: PropTypes.any,\n  loading: PropTypes.bool,\n  showPagination: PropTypes.bool,\n  showPaginationTop: PropTypes.bool,\n  showPaginationBottom: PropTypes.bool,\n  showPageSizeOptions: PropTypes.bool,\n  pageSizeOptions: PropTypes.array,\n  defaultPageSize: PropTypes.number,\n  showPageJump: PropTypes.bool,\n  collapseOnSortingChange: PropTypes.bool,\n  collapseOnPageChange: PropTypes.bool,\n  collapseOnDataChange: PropTypes.bool,\n  freezeWhenExpanded: PropTypes.bool,\n  sortable: PropTypes.bool,\n  resizable: PropTypes.bool,\n  filterable: PropTypes.bool,\n  defaultSortDesc: PropTypes.bool,\n  defaultSorted: PropTypes.array,\n  defaultFiltered: PropTypes.array,\n  defaultResized: PropTypes.array,\n  defaultExpanded: PropTypes.object,\n  defaultFilterMethod: PropTypes.func,\n  defaultSortMethod: PropTypes.func,\n  // Controlled State Callbacks\n  onPageChange: PropTypes.func,\n  onPageSizeChange: PropTypes.func,\n  onSortedChange: PropTypes.func,\n  onFilteredChange: PropTypes.func,\n  onResizedChange: PropTypes.func,\n  onExpandedChange: PropTypes.func,\n  // Pivoting\n  pivotBy: PropTypes.array,\n  // Key Constants\n  pivotValKey: PropTypes.string,\n  pivotIDKey: PropTypes.string,\n  subRowsKey: PropTypes.string,\n  aggregatedKey: PropTypes.string,\n  nestingLevelKey: PropTypes.string,\n  originalKey: PropTypes.string,\n  indexKey: PropTypes.string,\n  groupedByPivotKey: PropTypes.string,\n  // Server-side Callbacks\n  onFetchData: PropTypes.func,\n  // Classes\n  className: PropTypes.string,\n  style: PropTypes.object,\n  // Component decorators\n  getProps: PropTypes.func,\n  getTableProps: PropTypes.func,\n  getTheadGroupProps: PropTypes.func,\n  getTheadGroupTrProps: PropTypes.func,\n  getTheadGroupThProps: PropTypes.func,\n  getTheadProps: PropTypes.func,\n  getTheadTrProps: PropTypes.func,\n  getTheadThProps: PropTypes.func,\n  getTheadFilterProps: PropTypes.func,\n  getTheadFilterTrProps: PropTypes.func,\n  getTheadFilterThProps: PropTypes.func,\n  getTbodyProps: PropTypes.func,\n  getTrGroupProps: PropTypes.func,\n  getTrProps: PropTypes.func,\n  getTdProps: PropTypes.func,\n  getTfootProps: PropTypes.func,\n  getTfootTrProps: PropTypes.func,\n  getTfootTdProps: PropTypes.func,\n  getPaginationProps: PropTypes.func,\n  getLoadingProps: PropTypes.func,\n  getNoDataProps: PropTypes.func,\n  getResizerProps: PropTypes.func,\n  // Global Column Defaults\n  columns: PropTypes.arrayOf(PropTypes.shape({\n    // Renderers\n    Cell: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Header: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Footer: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Aggregated: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Pivot: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    PivotValue: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Expander: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.elementType]),\n    Filter: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    // All Columns\n    sortable: PropTypes.bool,\n    // use table default\n    resizable: PropTypes.bool,\n    // use table default\n    filterable: PropTypes.bool,\n    // use table default\n    show: PropTypes.bool,\n    minWidth: PropTypes.number,\n    minResizeWidth: PropTypes.number,\n    // Cells only\n    className: PropTypes.string,\n    style: PropTypes.object,\n    getProps: PropTypes.func,\n    // Pivot only\n    aggregate: PropTypes.func,\n    // Headers only\n    headerClassName: PropTypes.string,\n    headerStyle: PropTypes.object,\n    getHeaderProps: PropTypes.func,\n    // Footers only\n    footerClassName: PropTypes.string,\n    footerStyle: PropTypes.object,\n    getFooterProps: PropTypes.func,\n    filterMethod: PropTypes.func,\n    filterAll: PropTypes.bool,\n    sortMethod: PropTypes.func\n  })),\n  // Global Expander Column Defaults\n  expanderDefaults: PropTypes.shape({\n    sortable: PropTypes.bool,\n    resizable: PropTypes.bool,\n    filterable: PropTypes.bool,\n    width: PropTypes.number\n  }),\n  pivotDefaults: PropTypes.object,\n  // Text\n  previousText: PropTypes.node,\n  nextText: PropTypes.node,\n  loadingText: PropTypes.node,\n  noDataText: PropTypes.node,\n  pageText: PropTypes.node,\n  ofText: PropTypes.node,\n  rowsText: PropTypes.node,\n  pageJumpText: PropTypes.node,\n  rowsSelectorText: PropTypes.node,\n  // Components\n  TableComponent: PropTypes.elementType,\n  TheadComponent: PropTypes.elementType,\n  TbodyComponent: PropTypes.elementType,\n  TrGroupComponent: PropTypes.elementType,\n  TrComponent: PropTypes.elementType,\n  ThComponent: PropTypes.elementType,\n  TdComponent: PropTypes.elementType,\n  TfootComponent: PropTypes.elementType,\n  FilterComponent: PropTypes.elementType,\n  ExpanderComponent: PropTypes.elementType,\n  PivotValueComponent: PropTypes.elementType,\n  AggregatedComponent: PropTypes.elementType,\n  // this is a computed default generated using\n  PivotComponent: PropTypes.elementType,\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: PropTypes.elementType,\n  PreviousComponent: PropTypes.elementType,\n  NextComponent: PropTypes.elementType,\n  LoadingComponent: PropTypes.elementType,\n  NoDataComponent: PropTypes.elementType,\n  ResizerComponent: PropTypes.elementType,\n  PadRowComponent: PropTypes.elementType\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { Component } from 'react';\nimport ReactTable from 'react-table';\nimport '../react-table.css';\n\nfunction getPercent(score) {\n  var logScore = Math.min(Math.max(Math.log10(score) - 5, 0), 5);\n  var percent = Math.min(Math.max(logScore * 33.3333333, 5), 100);\n  return percent;\n}\n\nvar GREEN = '#85cc00';\nvar ORANGE = '#ffbf00';\nvar RED = '#ff2e00';\n\nfunction Star() {\n  return React.createElement(\"span\", {\n    style: {\n      fontSize: '100%',\n      color: 'yellow'\n    }\n  }, \"\\u2605\");\n}\n\nfunction BarCell(_ref) {\n  var color = _ref.color,\n      percent = _ref.percent,\n      _ref$stars = _ref.stars,\n      stars = _ref$stars === void 0 ? 0 : _ref$stars,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? [] : _ref$children;\n  return React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: '100%',\n      backgroundColor: '#dadada',\n      borderRadius: '2px'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      width: \"\".concat(percent, \"%\"),\n      height: '100%',\n      backgroundColor: color,\n      borderRadius: '2px',\n      transition: 'all .2s ease-out'\n    }\n  }, new Array(stars).fill(null).map(function (_, i) {\n    return React.createElement(Star, {\n      key: \"\".concat(i)\n    });\n  }), children));\n}\n\nfunction PerformanceBarCell(_ref2) {\n  var row = _ref2.row;\n  var score = row.score;\n  var percent = getPercent(score);\n  var stars = Math.floor((score || 0) / 5e7);\n  var color = GREEN;\n\n  if (percent < getPercent(1e7)) {\n    color = ORANGE;\n  }\n\n  if (percent < getPercent(1e6)) {\n    color = RED;\n  }\n\n  return percent ? React.createElement(BarCell, {\n    color: color,\n    percent: percent,\n    stars: stars\n  }) : null;\n}\n\nexport var BenchResults = function (_Component) {\n  _inherits(BenchResults, _Component);\n\n  var _super = _createSuper(BenchResults);\n\n  function BenchResults() {\n    _classCallCheck(this, BenchResults);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BenchResults, [{\n    key: \"_renderTable\",\n    value: function _renderTable() {\n      var log = this.props.log;\n      return React.createElement(\"div\", null, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          height: 22\n        }\n      }, React.createElement(BarCell, {\n        color: RED,\n        percent: 100\n      }, ' ', \"< 1M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: ORANGE,\n        percent: 100\n      }, \"1M - 10M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: GREEN,\n        percent: 100\n      }, \"> 10M iterations/s\"), React.createElement(\"div\", {\n        style: {\n          width: 20\n        }\n      }), React.createElement(BarCell, {\n        color: GREEN,\n        percent: 100\n      }, React.createElement(Star, null), \"50M iterations/s\")), React.createElement(ReactTable, {\n        data: log,\n        columns: [{\n          Header: 'Id',\n          accessor: 'id',\n          Cell: function Cell(_ref3) {\n            var row = _ref3.row;\n            return row.formattedValue ? row.id : React.createElement(\"h3\", null, row.id.replace(/@math\\.gl\\/[a-zA-Z]*: /, ''));\n          }\n        }, {\n          Header: 'iter/s',\n          accessor: 'formattedValue',\n          maxWidth: 85\n        }, {\n          Header: 'Score',\n          accessor: 'value',\n          id: 'score',\n          Cell: PerformanceBarCell,\n          maxWidth: 300\n        }],\n        showPagination: false,\n        manual: true,\n        className: \"-striped -highlight\"\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, this._renderTable());\n    }\n  }]);\n\n  return BenchResults;\n}(Component);","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nexport function autobind(obj) {\n  var predefined = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['constructor'];\n  var proto = Object.getPrototypeOf(obj);\n  var propNames = Object.getOwnPropertyNames(proto);\n\n  var _iterator = _createForOfIteratorHelper(propNames),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var key = _step.value;\n\n      if (typeof obj[key] === 'function') {\n        if (!predefined.find(function (name) {\n          return key === name;\n        })) {\n          obj[key] = obj[key].bind(obj);\n        }\n      }\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}","import checkIfBrowser from '../env/is-browser';\nexport { self, window, global, document, process, console } from '../env/globals';\nexport var VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'untranspiled source';\nexport var isBrowser = checkIfBrowser();","import { window, process, isBrowser } from './globals';\nexport default function getHiResTimestamp() {\n  var timestamp;\n\n  if (isBrowser && window.performance) {\n    timestamp = window.performance.now();\n  } else if (process.hrtime) {\n    var timeParts = process.hrtime();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction getStorage(type) {\n  try {\n    var storage = window[type];\n    var x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return storage;\n  } catch (e) {\n    return null;\n  }\n}\n\nvar LocalStorage = function () {\n  function LocalStorage(id, defaultSettings) {\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'sessionStorage';\n\n    _classCallCheck(this, LocalStorage);\n\n    this.storage = getStorage(type);\n    this.id = id;\n    this.config = {};\n    Object.assign(this.config, defaultSettings);\n\n    this._loadConfiguration();\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"getConfiguration\",\n    value: function getConfiguration() {\n      return this.config;\n    }\n  }, {\n    key: \"setConfiguration\",\n    value: function setConfiguration(configuration) {\n      this.config = {};\n      return this.updateConfiguration(configuration);\n    }\n  }, {\n    key: \"updateConfiguration\",\n    value: function updateConfiguration(configuration) {\n      Object.assign(this.config, configuration);\n\n      if (this.storage) {\n        var serialized = JSON.stringify(this.config);\n        this.storage.setItem(this.id, serialized);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_loadConfiguration\",\n    value: function _loadConfiguration() {\n      var configuration = {};\n\n      if (this.storage) {\n        var serializedConfiguration = this.storage.getItem(this.id);\n        configuration = serializedConfiguration ? JSON.parse(serializedConfiguration) : {};\n      }\n\n      Object.assign(this.config, configuration);\n      return this;\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nexport { LocalStorage as default };","export function formatSI(number) {\n  var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n\n  var _splitIntoBaseAndExpo = splitIntoBaseAndExponent(number),\n      base = _splitIntoBaseAndExpo.base,\n      exponent = _splitIntoBaseAndExpo.exponent;\n\n  var multipleOf3 = Math.floor(exponent / 3);\n  var remaining = exponent - multipleOf3 * 3;\n  var digits = base * Math.pow(10, remaining);\n  return \"\".concat(digits.toPrecision(precision)).concat(getSISuffix(multipleOf3));\n}\n\nfunction getSISuffix(multipleOf3) {\n  var SI_SUFFIXES = {\n    0: '',\n    1: 'K',\n    2: 'M',\n    3: 'G',\n    4: 'T',\n    5: 'P',\n    6: 'E',\n    '-1': 'm',\n    '-2': '',\n    '-3': 'n'\n  };\n  var key = String(multipleOf3);\n  return key in SI_SUFFIXES ? SI_SUFFIXES[key] : \"e\".concat(multipleOf3 * 3);\n}\n\nfunction splitIntoBaseAndExponent(number) {\n  var base = number;\n  var exponent = 0;\n\n  if (number !== 0) {\n    while (base >= 10 || base <= -10) {\n      base /= 10;\n      exponent++;\n    }\n\n    while (base < 1 && base > -1) {\n      base *= 10;\n      exponent--;\n    }\n  }\n\n  return {\n    base: base,\n    exponent: exponent\n  };\n}","export function mean(numbers) {\n  return numbers.reduce(function (sum, x) {\n    return sum + x;\n  }, 0) / numbers.length;\n}\nexport function std(numbers, _mean) {\n  if (numbers.length <= 1) {\n    return 0;\n  }\n\n  if (_mean === undefined) {\n    _mean = mean(numbers);\n  }\n\n  return Math.sqrt(numbers.reduce(function (d, x) {\n    return d + (x - _mean) * (x - _mean);\n  }, 0) / (numbers.length - 1));\n}\nexport function cv(numbers) {\n  var _mean = mean(numbers);\n\n  var _std = std(numbers, _mean);\n\n  return _std / _mean;\n}","export function formatTime(ms) {\n  var formatted;\n\n  if (ms < 10) {\n    formatted = \"\".concat(ms.toFixed(2), \"ms\");\n  } else if (ms < 100) {\n    formatted = \"\".concat(ms.toFixed(1), \"ms\");\n  } else if (ms < 1000) {\n    formatted = \"\".concat(ms.toFixed(0), \"ms\");\n  } else {\n    formatted = \"\".concat((ms / 1000).toFixed(2), \"s\");\n  }\n\n  return formatted;\n}\nexport function leftPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(' '.repeat(padLength)).concat(string);\n}\nexport function rightPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(string).concat(' '.repeat(padLength));\n}\nexport function formatValue(v) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var EPSILON = 1e-16;\n  var _opts$isInteger = opts.isInteger,\n      isInteger = _opts$isInteger === void 0 ? false : _opts$isInteger;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  var string = v.toPrecision(2);\n  var decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}\n\nfunction formatArrayValue(v, opts) {\n  var _opts$maxElts = opts.maxElts,\n      maxElts = _opts$maxElts === void 0 ? 16 : _opts$maxElts,\n      _opts$size = opts.size,\n      size = _opts$size === void 0 ? 1 : _opts$size;\n  var string = '[';\n\n  for (var i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  var terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatImage(image, message, scale) {\n  var maxWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 600;\n  var imageUrl = image.src.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n\n  if (image.width > maxWidth) {\n    scale = Math.min(scale, maxWidth / image.width);\n  }\n\n  var width = image.width * scale;\n  var height = image.height * scale;\n  var style = ['font-size:1px;', \"padding:\".concat(Math.floor(height / 2), \"px \").concat(Math.floor(width / 2), \"px;\"), \"line-height:\".concat(height, \"px;\"), \"background:url(\".concat(imageUrl, \");\"), \"background-size:\".concat(width, \"px \").concat(height, \"px;\"), 'color:transparent;'].join('');\n  return [\"\".concat(message, \" %c+\"), style];\n}","import { rightPad } from 'probe.gl';\nvar LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\nexport function logResultsAsMarkdownTable(_ref) {\n  var entry = _ref.entry,\n      id = _ref.id,\n      itersPerSecond = _ref.itersPerSecond,\n      error = _ref.error,\n      time = _ref.time;\n  var COL1 = 50;\n  var COL2 = 12;\n\n  switch (entry) {\n    case LOG_ENTRY.GROUP:\n      console.log('');\n      console.log(\"| \".concat(rightPad(id, COL1), \" | iterations/s | error |\"));\n      console.log(\"| \".concat(rightPad('---', COL1), \" | ---          | --- |\"));\n      break;\n\n    case LOG_ENTRY.TEST:\n      console.log(\"| \".concat(rightPad(id, COL1), \" | \").concat(rightPad(itersPerSecond, COL2), \" | \\xB1\").concat((error * 100).toFixed(2), \"% |\"));\n      break;\n\n    case LOG_ENTRY.COMPLETE:\n      console.log('');\n      console.log(\"Completed benchmark in \".concat(time, \"s\"));\n      break;\n\n    default:\n  }\n}\nexport function logResultsAsTree(_ref2) {\n  var entry = _ref2.entry,\n      id = _ref2.id,\n      itersPerSecond = _ref2.itersPerSecond,\n      error = _ref2.error,\n      time = _ref2.time,\n      unit = _ref2.unit;\n\n  switch (entry) {\n    case LOG_ENTRY.GROUP:\n      console.log('');\n      console.log(\"\".concat(id));\n      break;\n\n    case LOG_ENTRY.TEST:\n      console.log(\"\\u251C\\u2500 \".concat(id, \": \").concat(itersPerSecond, \" \").concat(unit, \"/s \\xB1\").concat((error * 100).toFixed(2), \"%\"));\n      break;\n\n    case LOG_ENTRY.COMPLETE:\n      console.log('');\n      console.log(\"Completed benchmark in \".concat(time, \"s\"));\n      break;\n\n    default:\n  }\n}\nexport function logResultsAsTreeWithElapsed(_ref3) {\n  var entry = _ref3.entry,\n      id = _ref3.id,\n      itersPerSecond = _ref3.itersPerSecond,\n      error = _ref3.error,\n      time = _ref3.time,\n      unit = _ref3.unit;\n\n  switch (entry) {\n    case LOG_ENTRY.TEST:\n      console.log(\"\\u251C\\u2500 \".concat(id, \": \").concat(itersPerSecond, \" \").concat(unit, \"/s \\xB1\").concat((error * 100).toFixed(2), \"% (\").concat(time.toFixed(2), \"s elapsed)\"));\n      break;\n\n    default:\n      logResultsAsTree({\n        entry: entry,\n        id: id,\n        itersPerSecond: itersPerSecond,\n        time: time\n      });\n  }\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { global, assert, autobind, LocalStorage, getHiResTimestamp } from 'probe.gl';\nimport { formatSI } from './format-utils';\nimport { mean, cv } from './stat-utils';\nimport { logResultsAsMarkdownTable, logResultsAsTree } from './bench-loggers';\n\nvar noop = function noop() {};\n\nvar TIME_THRESHOLD_MS = 80;\nvar TIME_COOLDOWN_MS = 5;\nvar MIN_ITERATIONS = 3;\nexport var LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\n\nvar Bench = function () {\n  function Bench() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref.id,\n        log = _ref.log,\n        _ref$time = _ref.time,\n        time = _ref$time === void 0 ? TIME_THRESHOLD_MS : _ref$time,\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? TIME_COOLDOWN_MS : _ref$delay,\n        _ref$minIterations = _ref.minIterations,\n        minIterations = _ref$minIterations === void 0 ? MIN_ITERATIONS : _ref$minIterations;\n\n    _classCallCheck(this, Bench);\n\n    if (!log) {\n      var markdown = global.probe && global.probe.markdown;\n      log = markdown ? logResultsAsMarkdownTable : logResultsAsTree;\n    }\n\n    this.id = id;\n    this.opts = {\n      log: log,\n      time: time,\n      delay: delay,\n      minIterations: minIterations\n    };\n    this.tests = {};\n    this.results = {};\n    this.table = {};\n    autobind(this);\n    Object.seal(this);\n  }\n\n  _createClass(Bench, [{\n    key: \"calibrate\",\n    value: function calibrate(id, func1, func2, opts) {\n      return this;\n    }\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run = _asyncToGenerator(_regeneratorRuntime.mark(function _callee() {\n        var timeStart, tests, onBenchmarkComplete, elapsed;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                timeStart = getHiResTimestamp();\n                tests = this.tests, onBenchmarkComplete = this.onBenchmarkComplete;\n                _context.next = 4;\n                return runTests({\n                  tests: tests,\n                  onBenchmarkComplete: onBenchmarkComplete\n                });\n\n              case 4:\n                elapsed = (getHiResTimestamp() - timeStart) / 1000;\n                logEntry(this, {\n                  entry: LOG_ENTRY.COMPLETE,\n                  time: elapsed,\n                  message: 'Complete'\n                });\n                this.onSuiteComplete();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function run() {\n        return _run.apply(this, arguments);\n      }\n\n      return run;\n    }()\n  }, {\n    key: \"group\",\n    value: function group(id) {\n      assert(!this.tests[id], 'tests need unique id strings');\n      this.tests[id] = {\n        id: id,\n        group: true,\n        opts: this.opts\n      };\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add(priority, id, func1, func2) {\n      this._add(priority, id, func1, func2);\n\n      return this;\n    }\n  }, {\n    key: \"addAsync\",\n    value: function addAsync(priority, id, func1, func2) {\n      var test = this._add(priority, id, func1, func2);\n\n      test.async = true;\n      return this;\n    }\n  }, {\n    key: \"onBenchmarkComplete\",\n    value: function onBenchmarkComplete(_ref2) {\n      var id = _ref2.id,\n          time = _ref2.time,\n          iterations = _ref2.iterations,\n          itersPerSecond = _ref2.itersPerSecond;\n      var current = Math.round(iterations / time);\n      this.table[id] = {\n        percent: '',\n        iterations: \"\".concat(itersPerSecond, \"/s\"),\n        current: current,\n        max: ''\n      };\n    }\n  }, {\n    key: \"onSuiteComplete\",\n    value: function onSuiteComplete() {\n      var localStorage = new LocalStorage({\n        id: this.id\n      });\n      var saved = localStorage.getConfiguration();\n      var current = this.updateTable(this.table, saved);\n      localStorage.updateConfiguration(current);\n      console.table(current);\n    }\n  }, {\n    key: \"updateTable\",\n    value: function updateTable(current, saved) {\n      for (var id in this.table) {\n        if (saved[id] && saved[id].max !== undefined) {\n          current[id].max = Math.max(current[id].current, saved[id].max);\n          var delta = current[id].current / saved[id].max;\n          current[id].percent = \"\".concat(Math.round(delta * 100 - 100), \"%\");\n        } else {\n          current[id].max = current[id].current;\n        }\n      }\n\n      return current;\n    }\n  }, {\n    key: \"_add\",\n    value: function _add(priority, id, func1, func2) {\n      var options = {};\n\n      if (typeof priority === 'number') {\n        console.warn('`priority` argument is deprecated, use `options.priority` instead');\n      }\n\n      if (typeof priority === 'string' && _typeof(id) === 'object') {\n        options = id;\n        id = priority;\n        priority = 0;\n      } else if (typeof priority === 'string') {\n        func2 = func1;\n        func1 = id;\n        id = priority;\n        priority = 0;\n      }\n\n      assert(typeof id === 'string');\n      assert(typeof func1 === 'function');\n      var initFunc = options.initialize;\n      var testFunc = func1;\n\n      if (typeof func2 === 'function') {\n        console.warn('`initFunc` argument is deprecated, use `options.initialize` instead');\n        initFunc = func1;\n        testFunc = func2;\n      }\n\n      var opts = _objectSpread({}, this.opts, {\n        multiplier: 1,\n        unit: ''\n      }, options);\n\n      assert(!this.tests[id], 'tests need unique id strings');\n      this.tests[id] = {\n        id: id,\n        priority: priority,\n        initFunc: initFunc,\n        testFunc: testFunc,\n        opts: opts\n      };\n      return this.tests[id];\n    }\n  }]);\n\n  return Bench;\n}();\n\nexport { Bench as default };\n\nfunction addDelay(timeout, func) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      return resolve();\n    }, timeout);\n  });\n}\n\nfunction runCalibrationTests(_ref3) {\n  var tests = _ref3.tests;\n\n  for (var id in tests) {\n    var test = tests[id];\n\n    if (!test.group) {\n      runBenchTestIterations(test, 1);\n    }\n  }\n}\n\nfunction logEntry(test, opts) {\n  var priority = (global.probe && global.probe.priority) | 10;\n\n  if ((opts.priority | 0) <= priority) {\n    opts = _objectSpread({}, test, {}, test.opts, {}, opts);\n    delete opts.opts;\n    test.opts.log(opts);\n  }\n}\n\nfunction runTests(_x) {\n  return _runTests.apply(this, arguments);\n}\n\nfunction _runTests() {\n  _runTests = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(_ref4) {\n    var tests, _ref4$onBenchmarkComp, onBenchmarkComplete, id, test;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            tests = _ref4.tests, _ref4$onBenchmarkComp = _ref4.onBenchmarkComplete, onBenchmarkComplete = _ref4$onBenchmarkComp === void 0 ? noop : _ref4$onBenchmarkComp;\n            runCalibrationTests({\n              tests: tests,\n              onBenchmarkComplete: onBenchmarkComplete\n            });\n            _context2.t0 = _regeneratorRuntime.keys(tests);\n\n          case 3:\n            if ((_context2.t1 = _context2.t0()).done) {\n              _context2.next = 14;\n              break;\n            }\n\n            id = _context2.t1.value;\n            test = tests[id];\n\n            if (!test.group) {\n              _context2.next = 10;\n              break;\n            }\n\n            logEntry(test, {\n              entry: LOG_ENTRY.GROUP,\n              message: test.id\n            });\n            _context2.next = 12;\n            break;\n\n          case 10:\n            _context2.next = 12;\n            return runTest({\n              test: test,\n              onBenchmarkComplete: onBenchmarkComplete\n            });\n\n          case 12:\n            _context2.next = 3;\n            break;\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _runTests.apply(this, arguments);\n}\n\nfunction runTest(_x2) {\n  return _runTest.apply(this, arguments);\n}\n\nfunction _runTest() {\n  _runTest = _asyncToGenerator(_regeneratorRuntime.mark(function _callee3(_ref5) {\n    var test, onBenchmarkComplete, _ref5$silent, silent, result, iterationsPerSecond, time, iterations, error, itersPerSecond;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            test = _ref5.test, onBenchmarkComplete = _ref5.onBenchmarkComplete, _ref5$silent = _ref5.silent, silent = _ref5$silent === void 0 ? false : _ref5$silent;\n            _context3.next = 3;\n            return addDelay(test.opts.delay);\n\n          case 3:\n            _context3.next = 5;\n            return runBenchTestAsync(test);\n\n          case 5:\n            result = _context3.sent;\n            iterationsPerSecond = result.iterationsPerSecond, time = result.time, iterations = result.iterations, error = result.error;\n            itersPerSecond = formatSI(iterationsPerSecond);\n\n            if (!silent) {\n              logEntry(test, {\n                entry: LOG_ENTRY.TEST,\n                itersPerSecond: itersPerSecond,\n                time: time,\n                error: error,\n                message: \"\".concat(test.id, \" \").concat(itersPerSecond, \" \").concat(test.opts.unit, \"/s \\xB1\").concat((error * 100).toFixed(2), \"%\")\n              });\n            }\n\n            if (onBenchmarkComplete) {\n              onBenchmarkComplete({\n                id: test.id,\n                time: time,\n                iterations: iterations,\n                iterationsPerSecond: iterationsPerSecond,\n                itersPerSecond: itersPerSecond\n              });\n            }\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _runTest.apply(this, arguments);\n}\n\nfunction runBenchTestAsync(_x3) {\n  return _runBenchTestAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestAsync() {\n  _runBenchTestAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee4(test) {\n    var results, totalTime, totalIterations, i, time, iterations, _throughput, _yield$runBenchTestPa, _yield$runBenchTestFo, iterationsPerSecond;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            results = [];\n            totalTime = 0;\n            totalIterations = 0;\n            i = 0;\n\n          case 4:\n            if (!(i < test.opts.minIterations)) {\n              _context4.next = 29;\n              break;\n            }\n\n            time = void 0;\n            iterations = void 0;\n\n            if (!(test.async && test.opts._throughput)) {\n              _context4.next = 16;\n              break;\n            }\n\n            _throughput = test.opts._throughput;\n            _context4.next = 11;\n            return runBenchTestParallelIterationsAsync(test, _throughput);\n\n          case 11:\n            _yield$runBenchTestPa = _context4.sent;\n            time = _yield$runBenchTestPa.time;\n            iterations = _yield$runBenchTestPa.iterations;\n            _context4.next = 21;\n            break;\n\n          case 16:\n            _context4.next = 18;\n            return runBenchTestForMinimumTimeAsync(test, test.opts.time);\n\n          case 18:\n            _yield$runBenchTestFo = _context4.sent;\n            time = _yield$runBenchTestFo.time;\n            iterations = _yield$runBenchTestFo.iterations;\n\n          case 21:\n            iterations *= test.opts.multiplier;\n            iterationsPerSecond = iterations / time;\n            results.push(iterationsPerSecond);\n            totalTime += time;\n            totalIterations += iterations;\n\n          case 26:\n            i++;\n            _context4.next = 4;\n            break;\n\n          case 29:\n            return _context4.abrupt(\"return\", {\n              time: totalTime,\n              iterations: totalIterations,\n              iterationsPerSecond: mean(results),\n              error: cv(results)\n            });\n\n          case 30:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _runBenchTestAsync.apply(this, arguments);\n}\n\nfunction runBenchTestForMinimumTimeAsync(_x4, _x5) {\n  return _runBenchTestForMinimumTimeAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestForMinimumTimeAsync() {\n  _runBenchTestForMinimumTimeAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee5(test, minTime) {\n    var iterations, elapsedMillis, multiplier, timeStart, time;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            iterations = 1;\n            elapsedMillis = 0;\n\n          case 2:\n            if (!(elapsedMillis < minTime)) {\n              _context5.next = 16;\n              break;\n            }\n\n            multiplier = 10;\n\n            if (elapsedMillis > 10) {\n              multiplier = test.opts.time / elapsedMillis * 1.25;\n            }\n\n            iterations *= multiplier;\n            timeStart = getHiResTimestamp();\n\n            if (!test.async) {\n              _context5.next = 12;\n              break;\n            }\n\n            _context5.next = 10;\n            return runBenchTestIterationsAsync(test, iterations);\n\n          case 10:\n            _context5.next = 13;\n            break;\n\n          case 12:\n            runBenchTestIterations(test, iterations);\n\n          case 13:\n            elapsedMillis = getHiResTimestamp() - timeStart;\n            _context5.next = 2;\n            break;\n\n          case 16:\n            time = elapsedMillis / 1000;\n            return _context5.abrupt(\"return\", {\n              time: time,\n              iterations: iterations\n            });\n\n          case 18:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _runBenchTestForMinimumTimeAsync.apply(this, arguments);\n}\n\nfunction runBenchTestParallelIterationsAsync(_x6, _x7) {\n  return _runBenchTestParallelIterationsAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestParallelIterationsAsync() {\n  _runBenchTestParallelIterationsAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee6(test, iterations) {\n    var testArgs, timeStart, promises, context, testFunc, i, time;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            testArgs = test.initFunc && test.initFunc();\n            timeStart = getHiResTimestamp();\n            promises = [];\n            context = test.context, testFunc = test.testFunc;\n\n            for (i = 0; i < iterations; i++) {\n              promises.push(testFunc.call(context, testArgs));\n            }\n\n            _context6.next = 7;\n            return Promise.all(promises);\n\n          case 7:\n            time = (getHiResTimestamp() - timeStart) / 1000;\n            return _context6.abrupt(\"return\", {\n              time: time,\n              iterations: iterations\n            });\n\n          case 9:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _runBenchTestParallelIterationsAsync.apply(this, arguments);\n}\n\nfunction runBenchTestIterationsAsync(_x8, _x9) {\n  return _runBenchTestIterationsAsync.apply(this, arguments);\n}\n\nfunction _runBenchTestIterationsAsync() {\n  _runBenchTestIterationsAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee7(test, iterations) {\n    var testArgs, context, testFunc, i;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            testArgs = test.initFunc && test.initFunc();\n            context = test.context, testFunc = test.testFunc;\n            i = 0;\n\n          case 3:\n            if (!(i < iterations)) {\n              _context7.next = 9;\n              break;\n            }\n\n            _context7.next = 6;\n            return testFunc.call(context, testArgs);\n\n          case 6:\n            i++;\n            _context7.next = 3;\n            break;\n\n          case 9:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _runBenchTestIterationsAsync.apply(this, arguments);\n}\n\nfunction runBenchTestIterations(test, iterations) {\n  var testArgs = test.initFunc && test.initFunc();\n  var context = test.context,\n      testFunc = test.testFunc;\n\n  if (context && testArgs) {\n    for (var i = 0; i < iterations; i++) {\n      testFunc.call(context, testArgs);\n    }\n  } else {\n    for (var _i = 0; _i < iterations; _i++) {\n      testFunc.call(context);\n    }\n  }\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","// CLASS INHERITANCE\n//\n// This class identifies\n\nconst IDENTITY = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nclass ClassNoConstructor {}\nclass ClassWithConstructor {\n  constructor() {\n    this.data = null;\n  }\n}\nclass ClassWithConstructorXYZ {\n  constructor() {\n    this.x = -0;\n    this.y = -0;\n    this.z = -0;\n    this.w = -0;\n  }\n}\nclass ClassWithConstructor04 {\n  constructor() {\n    this[0] = -0;\n    this[1] = -0;\n    this[2] = -0;\n    this[3] = -0;\n  }\n}\n\nclass ArrayExtenderNoConstructor extends Array {}\nclass ArrayExtenderEmptyConstructor extends Array {\n  // eslint-disable-next-line no-useless-constructor\n  constructor() {\n    super();\n  }\n}\nclass ArrayExtender extends Array {\n  constructor() {\n    super(16);\n    for (let i = 0; i < 16; i++) {\n      this[i] = IDENTITY[i];\n    }\n  }\n}\n\n// DEFAULT PARAMETERS\n\nclass XYZVector {\n  constructor(x = 0, y = 0, z = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nclass XYZVectorLogicalOr {\n  constructor(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n}\n\nclass XYZVectorBitwiseOr {\n  constructor(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n}\n\n// COMBINED BENCH\n\nexport default function javascriptBench(suite, addReferenceBenchmarks) {\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Class/Array inheritance construction cost')\n      .add('new Array', () => new Array()) // eslint-disable-line\n      .add('new ArrayExtender', () => new ArrayExtender())\n      .add('new ArrayExtenderNoConstructor', () => new ArrayExtenderNoConstructor())\n      .add('new ArrayExtenderEmptyConstructor', () => new ArrayExtenderEmptyConstructor())\n      .add('new ClassNoConstructor', () => new ClassNoConstructor())\n      .add('new ClassWithConstructor', () => new ClassWithConstructor())\n      .add('new ClassWithConstructorXYZ', () => new ClassWithConstructorXYZ())\n      .add('new ClassWithConstructor0-4', () => new ClassWithConstructor04());\n\n    suite\n      .group('Default parameter cost')\n      .add('new XYZVector#default params', () => new XYZVector())\n      .add('new XYZVector#logical or', () => new XYZVectorLogicalOr())\n      .add('new XYZVector#bitwise or', () => new XYZVectorBitwiseOr());\n  }\n\n  return suite;\n}\n","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(`math.gl assertion ${message}`);\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport assert from './assert';\n\nconst RADIANS_TO_DEGREES = (1 / Math.PI) * 180;\nconst DEGREES_TO_RADIANS = (1 / 180) * Math.PI;\n\n// TODO - remove\n/* eslint-disable no-shadow */\nconst config = {};\nconfig.EPSILON = 1e-12;\nconfig.debug = false;\nconfig.precision = 4;\nconfig.printTypes = false;\nconfig.printDegrees = false;\nconfig.printRowMajor = true;\n\nexport {config};\n\nexport function configure(options = {}) {\n  // Only copy existing keys\n  for (const key in options) {\n    assert(key in config);\n    config[key] = options[key];\n  }\n  return config;\n}\n\nfunction round(value) {\n  return Math.round(value / config.EPSILON) * config.EPSILON;\n}\n\nexport function formatValue(value, {precision = config.precision || 4} = {}) {\n  value = round(value);\n  // get rid of trailing zeros\n  return `${parseFloat(value.toPrecision(precision))}`;\n}\n\n// Returns true if value is either an array or a typed array\n// Note: does not return true for ArrayBuffers and DataViews\nexport function isArray(value) {\n  return Array.isArray(value) || (ArrayBuffer.isView(value) && !(value instanceof DataView));\n}\n\n// If the array has a clone function, calls it, otherwise returns a copy\nfunction duplicateArray(array) {\n  return array.clone ? array.clone() : new Array(array.length);\n}\n\nexport function clone(array) {\n  return array.clone ? array.clone() : new Array(...array);\n}\n\n// If the argument value is an array, applies the func element wise,\n// otherwise applies func to the argument value\nfunction map(value, func, result) {\n  if (isArray(value)) {\n    result = result || duplicateArray(value);\n    for (let i = 0; i < result.length && i < value.length; ++i) {\n      result[i] = func(value[i], i, result);\n    }\n    return result;\n  }\n  return func(value);\n}\n\nexport function toRadians(degrees) {\n  return radians(degrees);\n}\n\nexport function toDegrees(radians) {\n  return degrees(radians);\n}\n\n//\n// GLSL math function equivalents\n// Works on both single values and vectors\n//\n\nexport function radians(degrees, result) {\n  return map(degrees, (degrees) => degrees * DEGREES_TO_RADIANS, result);\n}\n\nexport function degrees(radians, result) {\n  return map(radians, (radians) => radians * RADIANS_TO_DEGREES, result);\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function sin(radians) {\n  return map(radians, (angle) => Math.sin(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function cos(radians) {\n  return map(radians, (angle) => Math.cos(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function tan(radians) {\n  return map(radians, (angle) => Math.tan(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function asin(radians) {\n  return map(radians, (angle) => Math.asin(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function acos(radians) {\n  return map(radians, (angle) => Math.acos(angle));\n}\n\n// GLSL equivalent: Works on single values and vectors\nexport function atan(radians) {\n  return map(radians, (angle) => Math.atan(angle));\n}\n\nexport function clamp(value, min, max) {\n  return map(value, (value) => Math.max(min, Math.min(max, value)));\n}\n\n// Interpolate between two numbers or two arrays\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map((ai, i) => lerp(ai, b[i], t));\n  }\n  return t * b + (1 - t) * a;\n}\n\n// eslint-disable-next-line complexity\nexport function equals(a, b, epsilon) {\n  const oldEpsilon = config.EPSILON;\n  if (epsilon) {\n    config.EPSILON = epsilon;\n  }\n  try {\n    if (a === b) {\n      return true;\n    }\n    if (isArray(a) && isArray(b)) {\n      if (a.length !== b.length) {\n        return false;\n      }\n      for (let i = 0; i < a.length; ++i) {\n        // eslint-disable-next-line max-depth\n        if (!equals(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (a && a.equals) {\n      return a.equals(b);\n    }\n    if (b && b.equals) {\n      return b.equals(a);\n    }\n    if (Number.isFinite(a) && Number.isFinite(b)) {\n      return Math.abs(a - b) <= config.EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n    }\n    return false;\n  } finally {\n    config.EPSILON = oldEpsilon;\n  }\n}\n\n// eslint-disable-next-line complexity\nexport function exactEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (a && typeof a === 'object' && b && typeof b === 'object') {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n    if (a.exactEquals) {\n      return a.exactEquals(b);\n    }\n  }\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; ++i) {\n      if (!exactEquals(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function withEpsilon(EPSILON, func) {\n  const oldPrecision = config.EPSILON;\n  config.EPSILON = EPSILON;\n  let value;\n  try {\n    value = func();\n  } finally {\n    config.EPSILON = oldPrecision;\n  }\n  return value;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {config, formatValue, equals, isArray} from '../../lib/common';\nimport assert from '../../lib/assert';\n\nexport default class MathArray extends Array {\n  // Defined by derived class\n  get ELEMENTS() {\n    assert(false);\n    return 0;\n  }\n\n  clone() {\n    // @ts-ignore error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.\n    return new this.constructor().copy(this);\n  }\n\n  from(arrayOrObject) {\n    // @ts-ignore error TS2339: Property 'copy' does not exist on type 'MathArray'.\n    return Array.isArray(arrayOrObject) ? this.copy(arrayOrObject) : this.fromObject(arrayOrObject);\n  }\n\n  fromArray(array, offset = 0) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = array[i + offset];\n    }\n    return this.check();\n  }\n\n  to(arrayOrObject) {\n    if (arrayOrObject === this) {\n      return this;\n    }\n    // @ts-ignore error TS2339: Property 'toObject' does not exist on type 'MathArray'.\n    return isArray(arrayOrObject) ? this.toArray(arrayOrObject) : this.toObject(arrayOrObject);\n  }\n\n  toTarget(target) {\n    return target ? this.to(target) : this;\n  }\n\n  toArray(array = [], offset = 0) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      array[offset + i] = this[i];\n    }\n    return array;\n  }\n\n  toFloat32Array() {\n    return new Float32Array(this);\n  }\n\n  toString() {\n    return this.formatString(config);\n  }\n\n  formatString(opts) {\n    let string = '';\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      string += (i > 0 ? ', ' : '') + formatValue(this[i], opts);\n    }\n    return `${opts.printTypes ? this.constructor.name : ''}[${string}]`;\n  }\n\n  equals(array) {\n    if (!array || this.length !== array.length) {\n      return false;\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      if (!equals(this[i], array[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  exactEquals(array) {\n    if (!array || this.length !== array.length) {\n      return false;\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      if (this[i] !== array[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // Modifiers\n\n  negate() {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = -this[i];\n    }\n    return this.check();\n  }\n\n  lerp(a, b, t) {\n    if (t === undefined) {\n      t = b;\n      b = a;\n      a = this; // eslint-disable-line\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      const ai = a[i];\n      this[i] = ai + t * (b[i] - ai);\n    }\n    return this.check();\n  }\n\n  min(vector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(vector[i], this[i]);\n    }\n    return this.check();\n  }\n\n  max(vector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.max(vector[i], this[i]);\n    }\n    return this.check();\n  }\n\n  clamp(minVector, maxVector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(Math.max(this[i], minVector[i]), maxVector[i]);\n    }\n    return this.check();\n  }\n\n  add(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] += vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  subtract(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] -= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  scale(scale) {\n    if (Array.isArray(scale)) {\n      // @ts-ignore error TS2339: Property 'multiply' does not exist on type 'MathArray'.\n      return this.multiply(scale);\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] *= scale;\n    }\n    return this.check();\n  }\n\n  // three.js compatibility\n\n  sub(a) {\n    return this.subtract(a);\n  }\n\n  setScalar(a) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = a;\n    }\n    return this.check();\n  }\n\n  addScalar(a) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] += a;\n    }\n    return this.check();\n  }\n\n  subScalar(a) {\n    return this.addScalar(-a);\n  }\n\n  multiplyScalar(scalar) {\n    // Multiplies all elements\n    // `Matrix4.scale` only scales its 3x3 \"minor\"\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] *= scalar;\n    }\n    return this.check();\n  }\n\n  divideScalar(a) {\n    return this.scale(1 / a);\n  }\n\n  clampScalar(min, max) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(Math.max(this[i], min), max);\n    }\n    return this.check();\n  }\n\n  // Cesium compatibility\n\n  multiplyByScalar(scalar) {\n    return this.scale(scalar);\n  }\n\n  // THREE.js compatibility\n  get elements() {\n    return this;\n  }\n\n  // Debug checks\n\n  check() {\n    if (config.debug && !this.validate()) {\n      throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);\n    }\n    return this;\n  }\n\n  validate() {\n    let valid = this.length === this.ELEMENTS;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      valid = valid && Number.isFinite(this[i]);\n    }\n    return valid;\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {config} from './common';\n\nexport function validateVector(v, length) {\n  if (v.length !== length) {\n    return false;\n  }\n  // Could be arguments \"array\" (v.every not availasble)\n  for (let i = 0; i < v.length; ++i) {\n    if (!Number.isFinite(v[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function checkNumber(value) {\n  if (!Number.isFinite(value)) {\n    throw new Error(`Invalid number ${value}`);\n  }\n  return value;\n}\n\nexport function checkVector(v, length, callerName = '') {\n  if (config.debug && !validateVector(v, length)) {\n    throw new Error(`math.gl: ${callerName} some fields set to invalid numbers'`);\n  }\n  return v;\n}\n\nconst map = {};\n\nexport function deprecated(method, version) {\n  if (!map[method]) {\n    map[method] = true;\n    // eslint-disable-next-line\n    console.warn(\n      `${method} has been removed in version ${version}, see upgrade guide for more information`\n    );\n  }\n}\n","import MathArray from './math-array';\nimport {checkNumber} from '../../lib/validators';\nimport assert from '../../lib/assert';\n\nexport default class Vector extends MathArray {\n  get ELEMENTS() {\n    assert(false);\n    return 0;\n  }\n\n  // VIRTUAL METHODS\n  copy(vector) {\n    assert(false);\n    return this;\n  }\n\n  // ACCESSORS\n\n  get x() {\n    return this[0];\n  }\n  set x(value) {\n    this[0] = checkNumber(value);\n  }\n\n  get y() {\n    return this[1];\n  }\n  set y(value) {\n    this[1] = checkNumber(value);\n  }\n\n  // NOTE: `length` is a reserved word for Arrays, so we can't use `v.length()`\n  // Offer `len` and `magnitude`\n  len() {\n    return Math.sqrt(this.lengthSquared());\n  }\n\n  magnitude() {\n    return this.len();\n  }\n\n  lengthSquared() {\n    let length = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      length += this[i] * this[i];\n    }\n    return length;\n  }\n\n  magnitudeSquared() {\n    return this.lengthSquared();\n  }\n\n  distance(mathArray) {\n    return Math.sqrt(this.distanceSquared(mathArray));\n  }\n\n  distanceSquared(mathArray) {\n    let length = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      const dist = this[i] - mathArray[i];\n      length += dist * dist;\n    }\n    return checkNumber(length);\n  }\n\n  dot(mathArray) {\n    let product = 0;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      product += this[i] * mathArray[i];\n    }\n    return checkNumber(product);\n  }\n\n  // MODIFIERS\n\n  normalize() {\n    const length = this.magnitude();\n    if (length !== 0) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] /= length;\n      }\n    }\n    return this.check();\n  }\n\n  // negate() {\n  //   for (let i = 0; i < this.ELEMENTS; ++i) {\n  //     this[i] = -this[i];\n  //   }\n  //   return this.check();\n  // }\n\n  // inverse() {\n  //   for (let i = 0; i < this.ELEMENTS; ++i) {\n  //     this[i] = 1 / this[i];\n  //   }\n  //   return this.check();\n  // }\n\n  multiply(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  divide(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] /= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  // THREE.js compatibility\n  lengthSq() {\n    return this.lengthSquared();\n  }\n\n  distanceTo(vector) {\n    return this.distance(vector);\n  }\n\n  distanceToSquared(vector) {\n    return this.distanceSquared(vector);\n  }\n\n  getComponent(i) {\n    assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n    return checkNumber(this[i]);\n  }\n\n  setComponent(i, value) {\n    assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n    this[i] = value;\n    return this.check();\n  }\n\n  addVectors(a, b) {\n    return this.copy(a).add(b);\n  }\n\n  subVectors(a, b) {\n    return this.copy(a).subtract(b);\n  }\n\n  multiplyVectors(a, b) {\n    return this.copy(a).multiply(b);\n  }\n\n  addScaledVector(a, b) {\n    // @ts-ignore error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.\n    return this.add(new this.constructor(a).multiplyScalar(b));\n  }\n}\n","import \"core-js/modules/es.math.hypot\";\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","/* eslint-disable camelcase */\n// vec2 additions\n\nexport function vec2_transformMat4AsVector(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const w = m[3] * x + m[7] * y || 1.0;\n  out[0] = (m[0] * x + m[4] * y) / w;\n  out[1] = (m[1] * x + m[5] * y) / w;\n  return out;\n}\n\n// vec3 additions\n\n// Transform as vector, only uses 3x3 minor matrix\nexport function vec3_transformMat4AsVector(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const z = a[2];\n  const w = m[3] * x + m[7] * y + m[11] * z || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\n  return out;\n}\n\nexport function vec3_transformMat2(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  return out;\n}\n\n// vec4 additions\n\nexport function vec4_transformMat2(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nexport function vec4_transformMat3(out, a, m) {\n  const x = a[0];\n  const y = a[1];\n  const z = a[2];\n  out[0] = m[0] * x + m[3] * y + m[6] * z;\n  out[1] = m[1] * x + m[4] * y + m[7] * z;\n  out[2] = m[2] * x + m[5] * y + m[8] * z;\n  out[3] = a[3];\n  return out;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\n// eslint-disable-next-line camelcase\nimport {vec3_transformMat2, vec3_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\nconst ORIGIN = [0, 0, 0];\nconst constants = {};\n\nexport default class Vector3 extends Vector {\n  static get ZERO() {\n    return (constants.ZERO = constants.ZERO || Object.freeze(new Vector3(0, 0, 0, 0)));\n  }\n\n  /**\n   * @class\n   * @param {Number | [Number, Number, Number]} x\n   * @param {Number} y - rotation around X (latitude)\n   * @param {Number} z - rotation around X (latitude)\n   */\n  constructor(x = 0, y = 0, z = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0);\n    if (arguments.length === 1 && isArray(x)) {\n      this.copy(x);\n    } else {\n      // this.set(x, y, z);\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n      }\n      // @ts-ignore TS2412: Property '0' of type 'number | [number, number, number]' is not assignable to numeric index type 'number'\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n    }\n  }\n\n  set(x, y, z) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n      checkNumber(object.z);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    this[2] = object.z;\n    return this.check();\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    object.z = this[2];\n    return object;\n  }\n\n  // Getters/setters\n  /* eslint-disable no-multi-spaces, brace-style, no-return-assign */\n  get ELEMENTS() {\n    return 3;\n  }\n\n  // x,y inherited from Vector\n\n  get z() {\n    return this[2];\n  }\n  set z(value) {\n    this[2] = checkNumber(value);\n  }\n  /* eslint-enable no-multi-spaces, brace-style, no-return-assign */\n\n  angle(vector) {\n    return vec3.angle(this, vector);\n  }\n\n  // MODIFIERS\n\n  cross(vector) {\n    vec3.cross(this, this, vector);\n    return this.check();\n  }\n\n  rotateX({radians, origin = ORIGIN}) {\n    vec3.rotateX(this, this, origin, radians);\n    return this.check();\n  }\n\n  rotateY({radians, origin = ORIGIN}) {\n    vec3.rotateY(this, this, origin, radians);\n    return this.check();\n  }\n\n  rotateZ({radians, origin = ORIGIN}) {\n    vec3.rotateZ(this, this, origin, radians);\n    return this.check();\n  }\n\n  // Transforms\n\n  // transforms as point (4th component is implicitly 1)\n  transform(matrix4) {\n    return this.transformAsPoint(matrix4);\n  }\n\n  // transforms as point (4th component is implicitly 1)\n  transformAsPoint(matrix4) {\n    vec3.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  // transforms as vector  (4th component is implicitly 0, ignores translation. slightly faster)\n  transformAsVector(matrix4) {\n    vec3_transformMat4AsVector(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec3.transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec3_transformMat2(this, this, matrix2);\n    return this.check();\n  }\n\n  transformByQuaternion(quaternion) {\n    vec3.transformQuat(this, this, quaternion);\n    return this.check();\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector3, toRadians, radians} from '@math.gl/core';\nimport {isArray} from '@math.gl/core';\n\nconst classicArray = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nconst float32Array = new Float32Array([1, 0, 0]);\nconst float64Array = new Float64Array([1, 0, 0]);\nconst vector3 = new Vector3();\n\nexport default function commonBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Global Functions')\n    .add('isArray(Vector3)', () => isArray(vector3))\n    .add('isArray(Float32Array)', () => isArray(float32Array));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('isArray(array)', () => isArray(classicArray))\n      .add('isArray(Float64Array)', () => isArray(float64Array));\n  }\n\n  suite\n    .add('toRadians(Number)', () => toRadians(100))\n    .add('radians(Vector3)', () => radians(vector3, vector3));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('toRadians(array)', () => toRadians(classicArray))\n      .add('toRadians(Float32Array)', () => toRadians(float32Array))\n      .add('toRadians(Float64Array)', () => toRadians(float64Array));\n  }\n}\n","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\n// eslint-disable-next-line camelcase\nimport {vec2_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\nexport default class Vector2 extends Vector {\n  // Creates a new, empty vec2\n  constructor(x = 0, y = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(2); // -0, -0);\n    if (isArray(x) && arguments.length === 1) {\n      this.copy(x);\n    } else {\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n      }\n      this[0] = x;\n      this[1] = y;\n    }\n  }\n\n  set(x, y) {\n    this[0] = x;\n    this[1] = y;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    return this.check();\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    return object;\n  }\n\n  // Getters/setters\n  get ELEMENTS() {\n    return 2;\n  }\n\n  // x,y inherited from Vector\n\n  horizontalAngle() {\n    return Math.atan2(this.y, this.x);\n  }\n\n  verticalAngle() {\n    return Math.atan2(this.x, this.y);\n  }\n\n  // Transforms\n\n  transform(matrix4) {\n    return this.transformAsPoint(matrix4);\n  }\n\n  // transforms as point (4th component is implicitly 1)\n  transformAsPoint(matrix4) {\n    vec2.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  // transforms as vector  (4th component is implicitly 0, ignores translation. slightly faster)\n  transformAsVector(matrix4) {\n    vec2_transformMat4AsVector(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec2.transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2x3(matrix2x3) {\n    vec2.transformMat2d(this, this, matrix2x3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec2.transformMat2(this, this, matrix2);\n    return this.check();\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector2} from '@math.gl/core';\n\nconst array = [0, 0];\nconst float32Array = new Float32Array([0, 0]);\nconst vector2 = new Vector2();\n\nexport default function vector2Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector2')\n    .add('Vector2#new()', () => new Vector2(1, 2))\n    .add('Vector2#set()', () => vector2.set(1, 2))\n    .add('Vector2#copy()', () => vector2.copy([1, 2]));\n  // .add('Vector2#from(Vector2)', () => vector2.from(arrayVector))\n  // .add('Vector2#to(Vector2)', () => vector2.to(arrayVector))\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector2 Type Conversion Cost')\n      .add('Vector2.from#Array', () => vector2.from(array))\n      .add('Vector2.from#Float32Array', () => vector2.from(float32Array))\n      .add('Vector2.to#Array', () => vector2.to(array))\n      .add('Vector2.to#Float32Array', () => vector2.to(float32Array));\n  }\n\n  return suite;\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector3} from '@math.gl/core';\n\nclass ObjectVector {\n  constructor(x = -0, y = -0, z = -0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nconst array = [0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0]);\nconst objectVector = new ObjectVector();\nconst arrayVector = new Vector3();\nconst vector3 = new Vector3();\n\nexport default function vector3Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector3')\n    .add('Vector3#new()', () => new Vector3(1, 2, 3))\n    .add('Vector3#set()', () => vector3.set(1, 2, 3))\n    .add('Vector3#copy()', () => vector3.copy([1, 2, 3]))\n    .add('Vector3#from(Vector3)', () => vector3.from(arrayVector))\n    .add('Vector3#to(Vector3)', () => vector3.to(arrayVector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector3 Type Conversion Cost')\n      .add('Vector3#from(Object)', () => vector3.from(objectVector))\n      .add('Vector3#to(Object)', () => vector3.to(objectVector))\n      .add('Vector3.from#Array', () => vector3.from(array))\n      .add('Vector3.from#Float32Array', () => vector3.from(float32Array))\n      .add('Vector3.to#Array', () => vector3.to(array))\n      .add('Vector3.to#Float32Array', () => vector3.to(float32Array));\n  }\n\n  return suite;\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Vector from './base/vector';\nimport {config, isArray} from '../lib/common';\nimport {checkNumber} from '../lib/validators';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec4 from 'gl-matrix/vec3';\n// eslint-disable-next-line camelcase\nimport {vec4_transformMat2, vec4_transformMat3} from '../lib/gl-matrix-extras';\n\nconst constants = {};\n\nexport default class Vector4 extends Vector {\n  static get ZERO() {\n    return (constants.ZERO = constants.ZERO || Object.freeze(new Vector4(0, 0, 0, 0)));\n  }\n\n  constructor(x = 0, y = 0, z = 0, w = 0) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0);\n    if (isArray(x) && arguments.length === 1) {\n      this.copy(x);\n    } else {\n      // this.set(x, y, z, w);\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n        checkNumber(w);\n      }\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n      this[3] = w;\n    }\n  }\n\n  set(x, y, z, w) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    this[3] = w;\n    return this.check();\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    return this.check();\n  }\n\n  fromObject(object) {\n    if (config.debug) {\n      checkNumber(object.x);\n      checkNumber(object.y);\n      checkNumber(object.z);\n      checkNumber(object.w);\n    }\n    this[0] = object.x;\n    this[1] = object.y;\n    this[2] = object.z;\n    this[3] = object.w;\n    return this;\n  }\n\n  toObject(object) {\n    object.x = this[0];\n    object.y = this[1];\n    object.z = this[2];\n    object.w = this[3];\n    return object;\n  }\n\n  // Getters/setters\n  /* eslint-disable no-multi-spaces, brace-style, no-return-assign */\n  get ELEMENTS() {\n    return 4;\n  }\n\n  // x,y inherited from Vector\n\n  get z() {\n    return this[2];\n  }\n\n  set z(value) {\n    this[2] = checkNumber(value);\n  }\n\n  get w() {\n    return this[3];\n  }\n\n  set w(value) {\n    this[3] = checkNumber(value);\n  }\n  /* eslint-enable no-multi-spaces, brace-style, no-return-assign */\n\n  transform(matrix4) {\n    vec4.transformMat4(this, this, matrix4);\n    return this.check();\n  }\n\n  transformByMatrix3(matrix3) {\n    vec4_transformMat3(this, this, matrix3);\n    return this.check();\n  }\n\n  transformByMatrix2(matrix2) {\n    vec4_transformMat2(this, this, matrix2);\n    return this.check();\n  }\n\n  transformByQuaternion(quaternion) {\n    vec4.transformQuat(this, this, quaternion);\n    return this.check();\n  }\n\n  // three.js compatibility\n  applyMatrix4(m) {\n    m.transform(this, this);\n    return this;\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Vector4} from '@math.gl/core';\n\nconst array = [0, 0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0, 0]);\nconst vector4 = new Vector4();\n\nexport default function vector4Bench(suite, addReferenceBenchmarks) {\n  suite\n    .group('@math.gl/core: Vector4')\n    .add('Vector4#new()', () => new Vector4(1, 2, 3, 4))\n    .add('Vector4#set()', () => vector4.set(1, 2, 3, 4))\n    .add('Vector4#copy()', () => vector4.copy([1, 2, 3, 4]));\n  // .add('Vector4#from(Vector4)', () => vector4.from(arrayVector))\n  // .add('Vector4#to(Vector4)', () => vector4.to(arrayVector))\n\n  if (addReferenceBenchmarks) {\n    suite\n      .group('Vector4 Type Conversion Cost')\n      .add('Vector4.from#Array', () => vector4.from(array))\n      .add('Vector4.from#Float32Array', () => vector4.from(float32Array))\n      .add('Vector4.to#Array', () => vector4.to(array))\n      .add('Vector4.to#Float32Array', () => vector4.to(float32Array));\n  }\n\n  return suite;\n}\n","import MathArray from './math-array';\nimport {checkNumber} from '../../lib/validators';\nimport {config} from '../../lib/common';\nimport assert from '../../lib/assert';\n\nexport default class Matrix extends MathArray {\n  // Defined by derived class\n  get ELEMENTS() {\n    assert(false);\n    return 0;\n  }\n\n  get RANK() {\n    assert(false);\n    return 0;\n  }\n\n  // fromObject(object) {\n  //   const array = object.elements;\n  //   return this.fromRowMajor(array);\n  // }\n\n  // toObject(object) {\n  //   const array = object.elements;\n  //   this.toRowMajor(array);\n  //   return object;\n  // }\n\n  toString() {\n    let string = '[';\n    if (config.printRowMajor) {\n      string += 'row-major:';\n      for (let row = 0; row < this.RANK; ++row) {\n        for (let col = 0; col < this.RANK; ++col) {\n          string += ` ${this[col * this.RANK + row]}`;\n        }\n      }\n    } else {\n      string += 'column-major:';\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        string += ` ${this[i]}`;\n      }\n    }\n    string += ']';\n    return string;\n  }\n\n  getElementIndex(row, col) {\n    return col * this.RANK + row;\n  }\n\n  // By default assumes row major indices\n  getElement(row, col) {\n    return this[col * this.RANK + row];\n  }\n\n  // By default assumes row major indices\n  setElement(row, col, value) {\n    this[col * this.RANK + row] = checkNumber(value);\n    return this;\n  }\n\n  getColumn(columnIndex, result = new Array(this.RANK).fill(-0)) {\n    const firstIndex = columnIndex * this.RANK;\n    for (let i = 0; i < this.RANK; ++i) {\n      result[i] = this[firstIndex + i];\n    }\n    return result;\n  }\n\n  setColumn(columnIndex, columnVector) {\n    const firstIndex = columnIndex * this.RANK;\n    for (let i = 0; i < this.RANK; ++i) {\n      this[firstIndex + i] = columnVector[i];\n    }\n    return this;\n  }\n}\n","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {checkVector, deprecated} from '../lib/validators';\nimport Matrix from './base/matrix';\n// eslint-disable-next-line camelcase\nimport {vec2_transformMat4AsVector, vec3_transformMat4AsVector} from '../lib/gl-matrix-extras';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as mat4 from 'gl-matrix/mat4';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec4 from 'gl-matrix/vec4';\n\nconst IDENTITY = Object.freeze([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\nconst ZERO = Object.freeze([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\nconst INDICES = Object.freeze({\n  COL0ROW0: 0,\n  COL0ROW1: 1,\n  COL0ROW2: 2,\n  COL0ROW3: 3,\n  COL1ROW0: 4,\n  COL1ROW1: 5,\n  COL1ROW2: 6,\n  COL1ROW3: 7,\n  COL2ROW0: 8,\n  COL2ROW1: 9,\n  COL2ROW2: 10,\n  COL2ROW3: 11,\n  COL3ROW0: 12,\n  COL3ROW1: 13,\n  COL3ROW2: 14,\n  COL3ROW3: 15\n});\n\nconst constants = {};\n\nexport default class Matrix4 extends Matrix {\n  static get IDENTITY() {\n    constants.IDENTITY = constants.IDENTITY || Object.freeze(new Matrix4(IDENTITY));\n    return constants.IDENTITY;\n  }\n\n  static get ZERO() {\n    constants.ZERO = constants.ZERO || Object.freeze(new Matrix4(ZERO));\n    return constants.ZERO;\n  }\n\n  get INDICES() {\n    return INDICES;\n  }\n\n  get ELEMENTS() {\n    return 16;\n  }\n\n  get RANK() {\n    return 4;\n  }\n\n  constructor(array) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0);\n    if (arguments.length === 1 && Array.isArray(array)) {\n      this.copy(array);\n    } else {\n      this.identity();\n    }\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    this[4] = array[4];\n    this[5] = array[5];\n    this[6] = array[6];\n    this[7] = array[7];\n    this[8] = array[8];\n    this[9] = array[9];\n    this[10] = array[10];\n    this[11] = array[11];\n    this[12] = array[12];\n    this[13] = array[13];\n    this[14] = array[14];\n    this[15] = array[15];\n    return this.check();\n  }\n\n  // eslint-disable-next-line max-params\n  set(m00, m10, m20, m30, m01, m11, m21, m31, m02, m12, m22, m32, m03, m13, m23, m33) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m30;\n    this[4] = m01;\n    this[5] = m11;\n    this[6] = m21;\n    this[7] = m31;\n    this[8] = m02;\n    this[9] = m12;\n    this[10] = m22;\n    this[11] = m32;\n    this[12] = m03;\n    this[13] = m13;\n    this[14] = m23;\n    this[15] = m33;\n    return this.check();\n  }\n\n  // accepts row major order, stores as column major\n  // eslint-disable-next-line max-params\n  setRowMajor(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m30;\n    this[4] = m01;\n    this[5] = m11;\n    this[6] = m21;\n    this[7] = m31;\n    this[8] = m02;\n    this[9] = m12;\n    this[10] = m22;\n    this[11] = m32;\n    this[12] = m03;\n    this[13] = m13;\n    this[14] = m23;\n    this[15] = m33;\n    return this.check();\n  }\n\n  toRowMajor(result) {\n    result[0] = this[0];\n    result[1] = this[4];\n    result[2] = this[8];\n    result[3] = this[12];\n    result[4] = this[1];\n    result[5] = this[5];\n    result[6] = this[9];\n    result[7] = this[13];\n    result[8] = this[2];\n    result[9] = this[6];\n    result[10] = this[10];\n    result[11] = this[14];\n    result[12] = this[3];\n    result[13] = this[7];\n    result[14] = this[11];\n    result[15] = this[15];\n    return result;\n  }\n\n  // Constructors\n\n  identity() {\n    return this.copy(IDENTITY);\n  }\n\n  // Calculates a 4x4 matrix from the given quaternion\n  // q quat  Quaternion to create matrix from\n  fromQuaternion(q) {\n    mat4.fromQuat(this, q);\n    return this.check();\n  }\n\n  // Generates a frustum matrix with the given bounds\n  // left  Number  Left bound of the frustum\n  // right Number  Right bound of the frustum\n  // bottom  Number  Bottom bound of the frustum\n  // top Number  Top bound of the frustum\n  // near  Number  Near bound of the frustum\n  // far Number  Far bound of the frustum\n  frustum({left, right, bottom, top, near, far}) {\n    if (far === Infinity) {\n      Matrix4._computeInfinitePerspectiveOffCenter(this, left, right, bottom, top, near);\n    } else {\n      mat4.frustum(this, left, right, bottom, top, near, far);\n    }\n    return this.check();\n  }\n\n  // eslint-disable-next-line max-params\n  static _computeInfinitePerspectiveOffCenter(result, left, right, bottom, top, near) {\n    const column0Row0 = (2.0 * near) / (right - left);\n    const column1Row1 = (2.0 * near) / (top - bottom);\n    const column2Row0 = (right + left) / (right - left);\n    const column2Row1 = (top + bottom) / (top - bottom);\n    const column2Row2 = -1.0;\n    const column2Row3 = -1.0;\n    const column3Row2 = -2.0 * near;\n\n    result[0] = column0Row0;\n    result[1] = 0.0;\n    result[2] = 0.0;\n    result[3] = 0.0;\n    result[4] = 0.0;\n    result[5] = column1Row1;\n    result[6] = 0.0;\n    result[7] = 0.0;\n    result[8] = column2Row0;\n    result[9] = column2Row1;\n    result[10] = column2Row2;\n    result[11] = column2Row3;\n    result[12] = 0.0;\n    result[13] = 0.0;\n    result[14] = column3Row2;\n    result[15] = 0.0;\n    return result;\n  }\n\n  // Generates a look-at matrix with the given eye position, focal point,\n  // and up axis\n  // eye vec3  Position of the viewer\n  // center  vec3  Point the viewer is looking at\n  // up  vec3  vec3 pointing up\n  lookAt(eye, center, up) {\n    // Signature: lookAt({eye, center = [0, 0, 0], up = [0, 1, 0]}))\n    if (arguments.length === 1) {\n      ({eye, center, up} = eye);\n    }\n\n    center = center || [0, 0, 0];\n    up = up || [0, 1, 0];\n\n    mat4.lookAt(this, eye, center, up);\n    return this.check();\n  }\n\n  // Generates a orthogonal projection matrix with the given bounds\n  // from \"traditional\" view space parameters\n  // left  number  Left bound of the frustum\n  // right number  Right bound of the frustum\n  // bottom  number  Bottom bound of the frustum\n  // top number  Top bound of the frustum\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  ortho({left, right, bottom, top, near = 0.1, far = 500}) {\n    mat4.ortho(this, left, right, bottom, top, near, far);\n    return this.check();\n  }\n\n  // Generates an orthogonal projection matrix with the same parameters\n  // as a perspective matrix (plus focalDistance)\n  // fovy  number  Vertical field of view in radians\n  // aspect  number  Aspect ratio. typically viewport width/height\n  // focalDistance distance in the view frustum used for extent calculations\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  orthographic({\n    fovy = (45 * Math.PI) / 180,\n    aspect = 1,\n    focalDistance = 1,\n    near = 0.1,\n    far = 500\n  }) {\n    if (fovy > Math.PI * 2) {\n      throw Error('radians');\n    }\n    const halfY = fovy / 2;\n    const top = focalDistance * Math.tan(halfY); // focus_plane is the distance from the camera\n    const right = top * aspect;\n\n    return new Matrix4().ortho({\n      left: -right,\n      right,\n      bottom: -top,\n      top,\n      near,\n      far\n    });\n  }\n\n  // Generates a perspective projection matrix with the given bounds\n  // fovy  number  Vertical field of view in radians\n  // aspect  number  Aspect ratio. typically viewport width/height\n  // near  number  Near bound of the frustum\n  // far number  Far bound of the frustum\n  perspective({\n    fovy = undefined,\n    fov = (45 * Math.PI) / 180, // DEPRECATED\n    aspect = 1,\n    near = 0.1,\n    far = 500\n  } = {}) {\n    fovy = fovy || fov;\n    if (fovy > Math.PI * 2) {\n      throw Error('radians');\n    }\n    mat4.perspective(this, fovy, aspect, near, far);\n    return this.check();\n  }\n\n  // Accessors\n\n  determinant() {\n    return mat4.determinant(this);\n  }\n\n  // Extracts the non-uniform scale assuming the matrix is an affine transformation.\n  // The scales are the \"lengths\" of the column vectors in the upper-left 3x3 matrix.\n  getScale(result = [-0, -0, -0]) {\n    // explicit is faster than hypot...\n    result[0] = Math.sqrt(this[0] * this[0] + this[1] * this[1] + this[2] * this[2]);\n    result[1] = Math.sqrt(this[4] * this[4] + this[5] * this[5] + this[6] * this[6]);\n    result[2] = Math.sqrt(this[8] * this[8] + this[9] * this[9] + this[10] * this[10]);\n    // result[0] = Math.hypot(this[0], this[1], this[2]);\n    // result[1] = Math.hypot(this[4], this[5], this[6]);\n    // result[2] = Math.hypot(this[8], this[9], this[10]);\n    return result;\n  }\n\n  // Gets the translation portion, assuming the matrix is a affine transformation matrix.\n  getTranslation(result = [-0, -0, -0]) {\n    result[0] = this[12];\n    result[1] = this[13];\n    result[2] = this[14];\n    return result;\n  }\n\n  // Gets upper left 3x3 pure rotation matrix (non-scaling), assume affine transformation matrix\n  getRotation(\n    result = [-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0],\n    scaleResult = null\n  ) {\n    const scale = this.getScale(scaleResult || [-0, -0, -0]);\n\n    const inverseScale0 = 1 / scale[0];\n    const inverseScale1 = 1 / scale[1];\n    const inverseScale2 = 1 / scale[2];\n\n    result[0] = this[0] * inverseScale0;\n    result[1] = this[1] * inverseScale1;\n    result[2] = this[2] * inverseScale2;\n    result[3] = 0;\n    result[4] = this[4] * inverseScale0;\n    result[5] = this[5] * inverseScale1;\n    result[6] = this[6] * inverseScale2;\n    result[7] = 0;\n    result[8] = this[8] * inverseScale0;\n    result[9] = this[9] * inverseScale1;\n    result[10] = this[10] * inverseScale2;\n    result[11] = 0;\n    result[12] = 0;\n    result[13] = 0;\n    result[14] = 0;\n    result[15] = 1;\n    return result;\n  }\n\n  getRotationMatrix3(result = [-0, -0, -0, -0, -0, -0, -0, -0, -0], scaleResult = null) {\n    const scale = this.getScale(scaleResult || [-0, -0, -0]);\n\n    const inverseScale0 = 1 / scale[0];\n    const inverseScale1 = 1 / scale[1];\n    const inverseScale2 = 1 / scale[2];\n\n    result[0] = this[0] * inverseScale0;\n    result[1] = this[1] * inverseScale1;\n    result[2] = this[2] * inverseScale2;\n    result[3] = this[4] * inverseScale0;\n    result[4] = this[5] * inverseScale1;\n    result[5] = this[6] * inverseScale2;\n    result[6] = this[8] * inverseScale0;\n    result[7] = this[9] * inverseScale1;\n    result[8] = this[10] * inverseScale2;\n    return result;\n  }\n\n  // Modifiers\n\n  transpose() {\n    mat4.transpose(this, this);\n    return this.check();\n  }\n\n  invert() {\n    mat4.invert(this, this);\n    return this.check();\n  }\n\n  // Operations\n\n  multiplyLeft(a) {\n    mat4.multiply(this, a, this);\n    return this.check();\n  }\n\n  multiplyRight(a) {\n    mat4.multiply(this, this, a);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the X axis\n  rotateX(radians) {\n    mat4.rotateX(this, this, radians);\n    // mat4.rotate(this, this, radians, [1, 0, 0]);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the Y axis.\n  rotateY(radians) {\n    mat4.rotateY(this, this, radians);\n    // mat4.rotate(this, this, radians, [0, 1, 0]);\n    return this.check();\n  }\n\n  // Rotates a matrix by the given angle around the Z axis.\n  rotateZ(radians) {\n    mat4.rotateZ(this, this, radians);\n    // mat4.rotate(this, this, radians, [0, 0, 1]);\n    return this.check();\n  }\n\n  rotateXYZ([rx, ry, rz]) {\n    return this.rotateX(rx).rotateY(ry).rotateZ(rz);\n  }\n\n  rotateAxis(radians, axis) {\n    mat4.rotate(this, this, radians, axis);\n    return this.check();\n  }\n\n  scale(factor) {\n    if (Array.isArray(factor)) {\n      mat4.scale(this, this, factor);\n    } else {\n      mat4.scale(this, this, [factor, factor, factor]);\n    }\n\n    return this.check();\n  }\n\n  translate(vec) {\n    mat4.translate(this, this, vec);\n    return this.check();\n  }\n\n  // Transforms\n\n  // Transforms any 2, 3 or 4 element vector. 2 and 3 elements are treated as points\n  transform(vector, result) {\n    if (vector.length === 4) {\n      result = vec4.transformMat4(result || [-0, -0, -0, -0], vector, this);\n      checkVector(result, 4);\n      return result;\n    }\n    return this.transformAsPoint(vector, result);\n  }\n\n  // Transforms any 2 or 3 element array as point (w implicitly 1)\n  transformAsPoint(vector, result) {\n    const {length} = vector;\n    switch (length) {\n      case 2:\n        result = vec2.transformMat4(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3.transformMat4(result || [-0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // Transforms any 2 or 3 element array as vector (w implicitly 0)\n  transformAsVector(vector, result) {\n    switch (vector.length) {\n      case 2:\n        result = vec2_transformMat4AsVector(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3_transformMat4AsVector(result || [-0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // three.js math API compatibility\n  makeRotationX(radians) {\n    return this.identity().rotateX(radians);\n  }\n\n  makeTranslation(x, y, z) {\n    return this.identity().translate([x, y, z]);\n  }\n\n  // DEPRECATED in 3.0\n\n  transformPoint(vector, result) {\n    deprecated('Matrix4.transformPoint', '3.0');\n    return this.transformAsPoint(vector, result);\n  }\n\n  transformVector(vector, result) {\n    deprecated('Matrix4.transformVector', '3.0');\n    return this.transformAsPoint(vector, result);\n  }\n\n  transformDirection(vector, result) {\n    deprecated('Matrix4.transformDirection', '3.0');\n    return this.transformAsVector(vector, result);\n  }\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {configure, Vector4, Matrix4} from '@math.gl/core';\nimport * as mat4 from 'gl-matrix/mat4';\n\n/*\nclass CesiumMatrix4 {\n  constructor(x = -0, y = -0, z = -0) {\n    this[0] = x;\n    this[1] = y;\n    this[2] = z;\n    this[3] = z;\n    this[4] = z;\n    this[5] = z;\n    this[6] = z;\n    this[7] = z;\n    this[8] = z;\n    this[9] = z;\n    this[10] = z;\n    this[11] = z;\n    this[12] = z;\n    this[13] = z;\n    this[14] = z;\n    this[15] = z;\n  }\n}\n\nfunction THREEMatrix4() {\n  this.elements = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ];\n}\n*/\n\nconst array = [0, 0, 0];\n// const arrayVector = new CesiumMatrix4();\n// const objectVector = new THREEMatrix4();\nconst matrix4 = new Matrix4();\n\nconst IDENTITY = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nconst classicArray = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nconst float32Array = new Float32Array([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\nconst float64Array = new Float64Array([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n\nconst mathglVector4 = new Vector4();\nconst dirVector4 = new Vector4(0, 0, 0, 0);\nconst pointVector4 = new Vector4(0, 0, 0, 1);\nconst vector3 = [0, 0, 0];\n\nexport default function matrix4Bench(suite, addReferenceBenchmarks) {\n  suite\n    // add tests\n    .group('@math.gl/core: Matrix4 constructors')\n    .add(\n      'Matrix4#new Matrix4()',\n      () => configure({debug: false}),\n      () => new Matrix4()\n    )\n    .add(\n      'Matrix4#new Matrix4(debug)',\n      () => configure({debug: true}),\n      () => new Matrix4()\n    )\n    .add(\n      'Matrix4#copy()',\n      () => configure({debug: false}),\n      () => matrix4.copy(IDENTITY)\n    )\n    .add(\n      'Matrix4#copy(debug)',\n      () => configure({debug: true}),\n      () => matrix4.copy(IDENTITY)\n    )\n    .add(\n      'Matrix4#set()',\n      () => configure({debug: false}),\n      () => matrix4.set(1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1)\n    )\n    .add('Matrix4#setRowMajor()', () =>\n      matrix4.setRowMajor(1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1)\n    )\n    .add('Matrix4#identity', () => matrix4.identity())\n    .add('Matrix4#fromQuaternion', () => matrix4.fromQuaternion([1, 1, 1, 1]));\n  // .add('Matrix4#from(Matrix4)', () => matrix4.from(arrayVector))\n  // .add('Matrix4#from(Object)', () => matrix4.from(objectVector))\n  // .add('Matrix4#to(Matrix4)', () => matrix4.to(arrayVector))\n  // .add('Matrix4#to(Object)', () => matrix4.to(objectVector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('Array(16)', () => new Array(16))\n      .add('[1, 0, 0, 0, ...]', () => [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1])\n      .add('new Float32Array(16)', () => new Float32Array(16))\n      .add('new Float32Array(IDENTITY)', () => new Float32Array(IDENTITY))\n      .add('new Float64Array(16)', () => new Float64Array(16))\n      .add('new Float64Array(IDENTITY)', () => new Float64Array(IDENTITY));\n  }\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('Matrix4#from(Array)', () => matrix4.from(array))\n      .add('Matrix4#from(Float32Array)', () => matrix4.from(float32Array))\n      .add('Matrix4#to(Array)', () => matrix4.to(array))\n      .add('Matrix4#to(Float32Array)', () => matrix4.to(float32Array));\n    // .group('debug validation cost')\n    // .add('Matrix4#validate (debug)', () => configure({debug: true}), () => matrix4.check())\n    // .add('Matrix4#validate ', () => configure({debug: false}), () => matrix4.check())\n  }\n\n  suite\n    .group('@math.gl/core: Matrix4 Multiplication')\n    .add('Matrix4#multiplyRight(Matrix4)', () => matrix4.multiplyRight(matrix4))\n    .add('gl-matrix#multiply(Matrix4)', () => mat4.multiply(matrix4, matrix4, matrix4))\n    .add('Matrix4#transform(dir4)', () => matrix4.transform(dirVector4, mathglVector4))\n    .add('Matrix4#transform(point4)', () => matrix4.transform(pointVector4, mathglVector4))\n    .add('Matrix4#transformAsVector(v3)', () => matrix4.transformAsVector(vector3, vector3))\n    .add('Matrix4#transformAsPoint(v3)', () => matrix4.transformAsVector(vector3, vector3));\n\n  suite\n    .group('@math.gl/core: Matrix4 accessors')\n    .add('Matrix4#determinant()', () => matrix4.determinant())\n    .add('Matrix4#getScale()', () => matrix4.getScale())\n    .add('Matrix4#getTranslation()', () => matrix4.getTranslation())\n    .add('Matrix4#getRotation()', () => matrix4.getRotation())\n    .add('Matrix4#getRotationMatrix3()', () => matrix4.getRotationMatrix3());\n\n  suite\n    .group('@math.gl/core: Matrix4 operations')\n    .add('Matrix4#transpose()', () => matrix4.transpose())\n    .add('Matrix4#invert()', () => matrix4.invert())\n\n    .add('Matrix4#scale()', () => matrix4.scale(2))\n    .add('Matrix4#translate()', () => matrix4.translate([1, 1, 1]));\n\n  if (addReferenceBenchmarks) {\n    suite\n      .add('gl-matrix#multiply(array)', () =>\n        mat4.multiply(classicArray, classicArray, classicArray)\n      )\n      .add('gl-matrix#multiply(float32Array)', () =>\n        mat4.multiply(float32Array, float32Array, float32Array)\n      )\n      .add('gl-matrix#multiply(float64Array)', () =>\n        mat4.multiply(float64Array, float64Array, float64Array)\n      );\n  }\n\n  return suite;\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport javascriptBench from './lib/javascript.bench';\nimport commonBench from './lib/common.bench';\n\n// import classesBench from './classes/classes.bench';\nimport vector2Bench from './classes/vector2.bench';\nimport vector3Bench from './classes/vector3.bench';\nimport vector4Bench from './classes/vector4.bench';\nimport matrix4Bench from './classes/matrix4.bench';\n\nexport default function coreBench(suite, addReferenceBenchmarks) {\n  // classesBench(suite, addReferenceBenchmarks);\n  commonBench(suite, addReferenceBenchmarks);\n  javascriptBench(suite, addReferenceBenchmarks);\n\n  matrix4Bench(suite, addReferenceBenchmarks);\n\n  vector2Bench(suite, addReferenceBenchmarks);\n  vector3Bench(suite, addReferenceBenchmarks);\n  vector4Bench(suite, addReferenceBenchmarks);\n\n  return suite;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nexport const WGS84_RADIUS_X = 6378137.0;\nexport const WGS84_RADIUS_Y = 6378137.0;\nexport const WGS84_RADIUS_Z = 6356752.3142451793;\n\n// Pre-calculated ellipsoid defaults to avoid utils depending on `ellipsoid.js`\n\nexport const WGS84_CONSTANTS = {\n  radii: [WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z],\n  radiiSquared: [\n    WGS84_RADIUS_X * WGS84_RADIUS_X,\n    WGS84_RADIUS_Y * WGS84_RADIUS_Y,\n    WGS84_RADIUS_Z * WGS84_RADIUS_Z\n  ],\n  oneOverRadii: [1.0 / WGS84_RADIUS_X, 1.0 / WGS84_RADIUS_Y, 1.0 / WGS84_RADIUS_Z],\n  oneOverRadiiSquared: [\n    1.0 / (WGS84_RADIUS_X * WGS84_RADIUS_X),\n    1.0 / (WGS84_RADIUS_Y * WGS84_RADIUS_Y),\n    1.0 / (WGS84_RADIUS_Z * WGS84_RADIUS_Z)\n  ],\n  maximumRadius: Math.max(WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z),\n  centerToleranceSquared: 1e-1 // EPSILON1;\n};\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, isArray, toRadians, toDegrees, config} from '@math.gl/core';\nimport {WGS84_CONSTANTS} from './constants';\n\nconst noop = (x) => x;\n\nconst scratchVector = new Vector3();\n\nexport function fromCartographic(cartographic, result, map = noop) {\n  if (isArray(cartographic)) {\n    result[0] = map(cartographic[0]);\n    result[1] = map(cartographic[1]);\n    result[2] = cartographic[2];\n  } else if ('longitude' in cartographic) {\n    result[0] = map(cartographic.longitude);\n    result[1] = map(cartographic.latitude);\n    result[2] = cartographic.height;\n  } else {\n    result[0] = map(cartographic.x);\n    result[1] = map(cartographic.y);\n    result[2] = cartographic.z;\n  }\n  return result;\n}\n\nexport function fromCartographicToRadians(cartographic, vector = scratchVector) {\n  return fromCartographic(cartographic, vector, config._cartographicRadians ? noop : toRadians);\n}\n\nexport function fromCartographicToDegrees(cartographic, vector = scratchVector) {\n  return fromCartographic(cartographic, vector, config._cartographicRadians ? toDegrees : noop);\n}\n\nexport function toCartographic(vector, cartographic, map = noop) {\n  if (isArray(cartographic)) {\n    cartographic[0] = map(vector[0]);\n    cartographic[1] = map(vector[1]);\n    cartographic[2] = vector[2];\n  } else if ('longitude' in cartographic) {\n    cartographic.longitude = map(vector[0]);\n    cartographic.latitude = map(vector[1]);\n    cartographic.height = vector[2];\n  } else {\n    cartographic.x = map(vector[0]);\n    cartographic.y = map(vector[1]);\n    cartographic.z = vector[2];\n  }\n  return cartographic;\n}\n\nexport function toCartographicFromRadians(vector, cartographic) {\n  return toCartographic(vector, cartographic, config._cartographicRadians ? noop : toDegrees);\n}\n\nexport function toCartographicFromDegrees(vector, cartographic) {\n  return toCartographic(vector, cartographic, config._cartographicRadians ? toRadians : noop);\n}\n\nexport function isWGS84(vector) {\n  if (!vector) {\n    return false;\n  }\n  scratchVector.from(vector);\n  const {oneOverRadiiSquared, centerToleranceSquared} = WGS84_CONSTANTS;\n  const x2 = vector[0] * vector[0] * oneOverRadiiSquared[0];\n  const y2 = vector[1] * vector[1] * oneOverRadiiSquared[1];\n  const z2 = vector[2] * vector[2] * oneOverRadiiSquared[2];\n  return Math.abs(x2 + y2 + z2 - 1) < centerToleranceSquared;\n}\n","// NOTE: Added to make Cesium-derived test cases work\n// TODO: Determine if/how to keep\nexport default {\n  EPSILON1: 1e-1,\n  EPSILON2: 1e-2,\n  EPSILON3: 1e-3,\n  EPSILON4: 1e-4,\n  EPSILON5: 1e-5,\n  EPSILON6: 1e-6,\n  EPSILON7: 1e-7,\n  EPSILON8: 1e-8,\n  EPSILON9: 1e-9,\n  EPSILON10: 1e-10,\n  EPSILON11: 1e-11,\n  EPSILON12: 1e-12,\n  EPSILON13: 1e-13,\n  EPSILON14: 1e-14,\n  EPSILON15: 1e-15,\n  EPSILON16: 1e-16,\n  EPSILON17: 1e-17,\n  EPSILON18: 1e-18,\n  EPSILON19: 1e-19,\n  EPSILON20: 1e-20,\n\n  PI_OVER_TWO: Math.PI / 2,\n  PI_OVER_FOUR: Math.PI / 4,\n  PI_OVER_SIX: Math.PI / 6,\n\n  TWO_PI: Math.PI * 2\n};\n","/* eslint-disable */\nimport {Vector3, assert, _MathUtils} from '@math.gl/core';\nimport * as vec3 from 'gl-matrix/vec3';\n\nconst scratchVector = new Vector3();\nconst scaleToGeodeticSurfaceIntersection = new Vector3();\nconst scaleToGeodeticSurfaceGradient = new Vector3();\n\n// Scales the provided Cartesian position along the geodetic surface normal\n// so that it is on the surface of this ellipsoid.  If the position is\n// at the center of the ellipsoid, this function returns undefined.\nexport default function scaleToGeodeticSurface(cartesian, ellipsoid, result = new Vector3()) {\n  const {oneOverRadii, oneOverRadiiSquared, centerToleranceSquared} = ellipsoid;\n\n  scratchVector.from(cartesian);\n\n  const positionX = cartesian.x;\n  const positionY = cartesian.y;\n  const positionZ = cartesian.z;\n\n  const oneOverRadiiX = oneOverRadii.x;\n  const oneOverRadiiY = oneOverRadii.y;\n  const oneOverRadiiZ = oneOverRadii.z;\n\n  const x2 = positionX * positionX * oneOverRadiiX * oneOverRadiiX;\n  const y2 = positionY * positionY * oneOverRadiiY * oneOverRadiiY;\n  const z2 = positionZ * positionZ * oneOverRadiiZ * oneOverRadiiZ;\n\n  // Compute the squared ellipsoid norm.\n  const squaredNorm = x2 + y2 + z2;\n  const ratio = Math.sqrt(1.0 / squaredNorm);\n\n  // When very close to center or at center\n  if (!Number.isFinite(ratio)) {\n    return undefined;\n  }\n\n  // As an initial approximation, assume that the radial intersection is the projection point.\n  const intersection = scaleToGeodeticSurfaceIntersection;\n  intersection.copy(cartesian).scale(ratio);\n\n  // If the position is near the center, the iteration will not converge.\n  if (squaredNorm < centerToleranceSquared) {\n    return intersection.to(result);\n  }\n\n  const oneOverRadiiSquaredX = oneOverRadiiSquared.x;\n  const oneOverRadiiSquaredY = oneOverRadiiSquared.y;\n  const oneOverRadiiSquaredZ = oneOverRadiiSquared.z;\n\n  // Use the gradient at the intersection point in place of the true unit normal.\n  // The difference in magnitude will be absorbed in the multiplier.\n  const gradient = scaleToGeodeticSurfaceGradient;\n  gradient.set(\n    intersection.x * oneOverRadiiSquaredX * 2.0,\n    intersection.y * oneOverRadiiSquaredY * 2.0,\n    intersection.z * oneOverRadiiSquaredZ * 2.0\n  );\n\n  // Compute the initial guess at the normal vector multiplier, lambda.\n  let lambda = ((1.0 - ratio) * cartesian.len()) / (0.5 * gradient.len());\n  let correction = 0.0;\n\n  let xMultiplier;\n  let yMultiplier;\n  let zMultiplier;\n  let func;\n\n  do {\n    lambda -= correction;\n\n    xMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredX);\n    yMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredY);\n    zMultiplier = 1.0 / (1.0 + lambda * oneOverRadiiSquaredZ);\n\n    const xMultiplier2 = xMultiplier * xMultiplier;\n    const yMultiplier2 = yMultiplier * yMultiplier;\n    const zMultiplier2 = zMultiplier * zMultiplier;\n\n    const xMultiplier3 = xMultiplier2 * xMultiplier;\n    const yMultiplier3 = yMultiplier2 * yMultiplier;\n    const zMultiplier3 = zMultiplier2 * zMultiplier;\n\n    func = x2 * xMultiplier2 + y2 * yMultiplier2 + z2 * zMultiplier2 - 1.0;\n\n    // \"denominator\" here refers to the use of this expression in the velocity and acceleration\n    // computations in the sections to follow.\n    const denominator =\n      x2 * xMultiplier3 * oneOverRadiiSquaredX +\n      y2 * yMultiplier3 * oneOverRadiiSquaredY +\n      z2 * zMultiplier3 * oneOverRadiiSquaredZ;\n\n    const derivative = -2.0 * denominator;\n\n    correction = func / derivative;\n  } while (Math.abs(func) > _MathUtils.EPSILON12);\n\n  return scratchVector.scale([xMultiplier, yMultiplier, zMultiplier]).to(result);\n}\n","import {Vector3, assert, equals as equalsEpsilon} from '@math.gl/core';\n\nconst EPSILON14 = 1e-14;\n\nconst scratchOrigin = new Vector3();\n\n// Caclulate third axis from given two axii\nconst VECTOR_PRODUCT_LOCAL_FRAME = {\n  up: {\n    south: 'east',\n    north: 'west',\n    west: 'south',\n    east: 'north'\n  },\n  down: {\n    south: 'west',\n    north: 'east',\n    west: 'north',\n    east: 'south'\n  },\n  south: {\n    up: 'west',\n    down: 'east',\n    west: 'down',\n    east: 'up'\n  },\n  north: {\n    up: 'east',\n    down: 'west',\n    west: 'up',\n    east: 'down'\n  },\n  west: {\n    up: 'north',\n    down: 'south',\n    north: 'down',\n    south: 'up'\n  },\n  east: {\n    up: 'south',\n    down: 'north',\n    north: 'up',\n    south: 'down'\n  }\n};\n\nconst degeneratePositionLocalFrame = {\n  north: [-1, 0, 0],\n  east: [0, 1, 0],\n  up: [0, 0, 1],\n  south: [1, 0, 0],\n  west: [0, -1, 0],\n  down: [0, 0, -1]\n};\n\nconst scratchAxisVectors = {\n  east: new Vector3(),\n  north: new Vector3(),\n  up: new Vector3(),\n  west: new Vector3(),\n  south: new Vector3(),\n  down: new Vector3()\n};\n\nconst scratchVector1 = new Vector3();\nconst scratchVector2 = new Vector3();\nconst scratchVector3 = new Vector3();\n\n// Computes a 4x4 transformation matrix from a reference frame\n// centered at the provided origin to the provided ellipsoid's fixed reference frame.\n// eslint-disable-next-line max-statements, max-params, complexity\nexport default function localFrameToFixedFrame(\n  ellipsoid,\n  firstAxis,\n  secondAxis,\n  thirdAxis,\n  cartesianOrigin,\n  result\n) {\n  const thirdAxisInferred =\n    VECTOR_PRODUCT_LOCAL_FRAME[firstAxis] && VECTOR_PRODUCT_LOCAL_FRAME[firstAxis][secondAxis];\n  // firstAxis and secondAxis must be east, north, up, west, south or down.');\n  assert(thirdAxisInferred && (!thirdAxis || thirdAxis === thirdAxisInferred));\n\n  let firstAxisVector;\n  let secondAxisVector;\n  let thirdAxisVector;\n\n  const origin = scratchOrigin.copy(cartesianOrigin);\n\n  // If x and y are zero, assume origin is at a pole, which is a special case.\n  const atPole = equalsEpsilon(origin.x, 0.0, EPSILON14) && equalsEpsilon(origin.y, 0.0, EPSILON14);\n\n  if (atPole) {\n    // Look up axis value and adjust\n    const sign = Math.sign(origin.z);\n\n    firstAxisVector = scratchVector1.fromArray(degeneratePositionLocalFrame[firstAxis]);\n    if (firstAxis !== 'east' && firstAxis !== 'west') {\n      firstAxisVector.scale(sign);\n    }\n\n    secondAxisVector = scratchVector2.fromArray(degeneratePositionLocalFrame[secondAxis]);\n    if (secondAxis !== 'east' && secondAxis !== 'west') {\n      secondAxisVector.scale(sign);\n    }\n\n    thirdAxisVector = scratchVector3.fromArray(degeneratePositionLocalFrame[thirdAxis]);\n    if (thirdAxis !== 'east' && thirdAxis !== 'west') {\n      thirdAxisVector.scale(sign);\n    }\n  } else {\n    // Calculate all axis\n    const {up, east, north} = scratchAxisVectors;\n\n    east.set(-origin.y, origin.x, 0.0).normalize();\n    ellipsoid.geodeticSurfaceNormal(origin, up);\n    north.copy(up).cross(east);\n\n    const {down, west, south} = scratchAxisVectors;\n\n    down.copy(up).scale(-1);\n    west.copy(east).scale(-1);\n    south.copy(north).scale(-1);\n\n    // Pick three axis based on desired orientation\n    firstAxisVector = scratchAxisVectors[firstAxis];\n    secondAxisVector = scratchAxisVectors[secondAxis];\n    thirdAxisVector = scratchAxisVectors[thirdAxis];\n  }\n\n  // TODO - assuming the result is column-major\n  result[0] = firstAxisVector.x;\n  result[1] = firstAxisVector.y;\n  result[2] = firstAxisVector.z;\n  result[3] = 0.0;\n  result[4] = secondAxisVector.x;\n  result[5] = secondAxisVector.y;\n  result[6] = secondAxisVector.z;\n  result[7] = 0.0;\n  result[8] = thirdAxisVector.x;\n  result[9] = thirdAxisVector.y;\n  result[10] = thirdAxisVector.z;\n  result[11] = 0.0;\n  result[12] = origin.x;\n  result[13] = origin.y;\n  result[14] = origin.z;\n  result[15] = 1.0;\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, Matrix4, toRadians, toDegrees, assert, equals, _MathUtils} from '@math.gl/core';\nimport * as vec3 from 'gl-matrix/vec3';\n\nimport {WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z} from '../constants';\nimport {fromCartographicToRadians, toCartographicFromRadians} from '../type-utils';\n\nimport scaleToGeodeticSurface from './helpers/scale-to-geodetic-surface';\nimport localFrameToFixedFrame from './helpers/ellipsoid-transform';\n\nconst scratchVector = new Vector3();\nconst scratchNormal = new Vector3();\nconst scratchK = new Vector3();\nconst scratchPosition = new Vector3();\nconst scratchHeight = new Vector3();\nconst scratchCartesian = new Vector3();\n\nlet wgs84;\n\n// A quadratic surface defined in Cartesian coordinates by the equation\n// <code>(x / a)^2 + (y / b)^2 + (z / c)^2 = 1</code>.  Primarily used\n// to represent the shape of planetary bodies.\nexport default class Ellipsoid {\n  // An Ellipsoid instance initialized to the WGS84 standard.\n  static get WGS84() {\n    wgs84 = wgs84 || new Ellipsoid(WGS84_RADIUS_X, WGS84_RADIUS_Y, WGS84_RADIUS_Z);\n    return wgs84;\n  }\n\n  // Creates an Ellipsoid from a Cartesian specifying the radii in x, y, and z directions.\n  constructor(x = 0.0, y = 0.0, z = 0.0) {\n    assert(x >= 0.0);\n    assert(y >= 0.0);\n    assert(z >= 0.0);\n\n    this.radii = new Vector3(x, y, z);\n\n    this.radiiSquared = new Vector3(x * x, y * y, z * z);\n\n    this.radiiToTheFourth = new Vector3(x * x * x * x, y * y * y * y, z * z * z * z);\n\n    this.oneOverRadii = new Vector3(\n      x === 0.0 ? 0.0 : 1.0 / x,\n      y === 0.0 ? 0.0 : 1.0 / y,\n      z === 0.0 ? 0.0 : 1.0 / z\n    );\n\n    this.oneOverRadiiSquared = new Vector3(\n      x === 0.0 ? 0.0 : 1.0 / (x * x),\n      y === 0.0 ? 0.0 : 1.0 / (y * y),\n      z === 0.0 ? 0.0 : 1.0 / (z * z)\n    );\n\n    this.minimumRadius = Math.min(x, y, z);\n\n    this.maximumRadius = Math.max(x, y, z);\n\n    this.centerToleranceSquared = _MathUtils.EPSILON1;\n\n    if (this.radiiSquared.z !== 0) {\n      this.squaredXOverSquaredZ = this.radiiSquared.x / this.radiiSquared.z;\n    }\n\n    Object.freeze(this);\n  }\n\n  // Compares this Ellipsoid against the provided Ellipsoid componentwise and returns\n  equals(right) {\n    return this === right || Boolean(right && this.radii.equals(right.radii));\n  }\n\n  // Creates a string representing this Ellipsoid in the format '(radii.x, radii.y, radii.z)'.\n  toString() {\n    return this.radii.toString();\n  }\n\n  // Converts the provided cartographic to Cartesian representation.\n  cartographicToCartesian(cartographic, result = [0, 0, 0]) {\n    const normal = scratchNormal;\n    const k = scratchK;\n\n    const [, , height] = cartographic;\n    this.geodeticSurfaceNormalCartographic(cartographic, normal);\n    k.copy(this.radiiSquared).scale(normal);\n\n    const gamma = Math.sqrt(normal.dot(k));\n    k.scale(1 / gamma);\n\n    normal.scale(height);\n\n    k.add(normal);\n\n    return k.to(result);\n  }\n\n  // Converts the provided cartesian to cartographic (lng/lat/z) representation.\n  // The cartesian is undefined at the center of the ellipsoid.\n  cartesianToCartographic(cartesian, result = [0, 0, 0]) {\n    scratchCartesian.from(cartesian);\n    const point = this.scaleToGeodeticSurface(scratchCartesian, scratchPosition);\n\n    if (!point) {\n      return undefined;\n    }\n\n    const normal = this.geodeticSurfaceNormal(point, scratchNormal);\n\n    const h = scratchHeight;\n    h.copy(scratchCartesian).subtract(point);\n\n    const longitude = Math.atan2(normal.y, normal.x);\n    const latitude = Math.asin(normal.z);\n    const height = Math.sign(vec3.dot(h, scratchCartesian)) * vec3.length(h);\n\n    return toCartographicFromRadians([longitude, latitude, height], result);\n  }\n\n  // Computes a 4x4 transformation matrix from a reference frame with an east-north-up axes\n  // centered at the provided origin to the provided ellipsoid's fixed reference frame.\n  eastNorthUpToFixedFrame(origin, result = new Matrix4()) {\n    return localFrameToFixedFrame(this, 'east', 'north', 'up', origin, result);\n  }\n\n  // Computes a 4x4 transformation matrix from a reference frame centered at\n  // the provided origin to the ellipsoid's fixed reference frame.\n  localFrameToFixedFrame(firstAxis, secondAxis, thirdAxis, origin, result = new Matrix4()) {\n    return localFrameToFixedFrame(this, firstAxis, secondAxis, thirdAxis, origin, result);\n  }\n\n  // Computes the unit vector directed from the center of this ellipsoid toward\n  // the provided Cartesian position.\n  geocentricSurfaceNormal(cartesian, result = [0, 0, 0]) {\n    return scratchVector.from(cartesian).normalize().to(result);\n  }\n\n  // Computes the normal of the plane tangent to the surface of the ellipsoid at provided position.\n  geodeticSurfaceNormalCartographic(cartographic, result = [0, 0, 0]) {\n    const cartographicVectorRadians = fromCartographicToRadians(cartographic);\n\n    const longitude = cartographicVectorRadians[0];\n    const latitude = cartographicVectorRadians[1];\n\n    const cosLatitude = Math.cos(latitude);\n\n    scratchVector\n      .set(cosLatitude * Math.cos(longitude), cosLatitude * Math.sin(longitude), Math.sin(latitude))\n      .normalize();\n\n    return scratchVector.to(result);\n  }\n\n  // Computes the normal of the plane tangent to the surface of the ellipsoid at the provided position.\n  geodeticSurfaceNormal(cartesian, result = [0, 0, 0]) {\n    return scratchVector.from(cartesian).scale(this.oneOverRadiiSquared).normalize().to(result);\n  }\n\n  // Scales the provided Cartesian position along the geodetic surface normal\n  // so that it is on the surface of this ellipsoid.  If the position is\n  // at the center of the ellipsoid, this function returns undefined.\n  scaleToGeodeticSurface(cartesian, result) {\n    return scaleToGeodeticSurface(cartesian, this, result);\n  }\n\n  // Scales the provided Cartesian position along the geocentric surface normal\n  // so that it is on the surface of this ellipsoid.\n  scaleToGeocentricSurface(cartesian, result = [0, 0, 0]) {\n    scratchPosition.from(cartesian);\n\n    const positionX = scratchPosition.x;\n    const positionY = scratchPosition.y;\n    const positionZ = scratchPosition.z;\n    const oneOverRadiiSquared = this.oneOverRadiiSquared;\n\n    const beta =\n      1.0 /\n      Math.sqrt(\n        positionX * positionX * oneOverRadiiSquared.x +\n          positionY * positionY * oneOverRadiiSquared.y +\n          positionZ * positionZ * oneOverRadiiSquared.z\n      );\n\n    return scratchPosition.multiplyScalar(beta).to(result);\n  }\n\n  // Transforms a Cartesian X, Y, Z position to the ellipsoid-scaled space by multiplying\n  // its components by the result of `Ellipsoid#oneOverRadii`\n  transformPositionToScaledSpace(position, result = [0, 0, 0]) {\n    return scratchPosition.from(position).scale(this.oneOverRadii).to(result);\n  }\n\n  // Transforms a Cartesian X, Y, Z position from the ellipsoid-scaled space by multiplying\n  // its components by the result of `Ellipsoid#radii`.\n  transformPositionFromScaledSpace(position, result = [0, 0, 0]) {\n    return scratchPosition.from(position).scale(this.radii).to(result);\n  }\n\n  // Computes a point which is the intersection of the surface normal with the z-axis.\n  getSurfaceNormalIntersectionWithZAxis(position, buffer = 0.0, result = [0, 0, 0]) {\n    // Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)\n    assert(equals(this.radii.x, this.radii.y, _MathUtils.EPSILON15));\n    assert(this.radii.z > 0);\n\n    scratchPosition.from(position);\n    const z = scratchPosition.z * (1 - this.squaredXOverSquaredZ);\n\n    if (Math.abs(z) >= this.radii.z - buffer) {\n      return undefined;\n    }\n\n    return scratchPosition.set(0.0, 0.0, z).to(result);\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix4} from '@math.gl/core';\nimport {Ellipsoid} from '@math.gl/geospatial';\n// import {externalVector3ToArray, setExternalVector3} from '@math.gl/geospatial/type-utils';\n// import * as vec3 from 'gl-matrix/vec3';\n\nconst ellipsoid = Ellipsoid.WGS84;\nconst spaceCartesian = new Vector3(4582719.8827300891, -4582719.8827300882, 1725510.4250797231);\nconst spaceCartographic = new Vector3(-45.0, 15.0, 330000.0);\n// const spaceCartographicObject = {x: -45.0, y: 15.0, z: 330000.0};\nconst resultVector = new Vector3();\n// const resultArray = [0, 0, 0];\n// const resultObject = {x: 0, y: 0, z: 0};\n\nconst origin = new Vector3(1.0, 0.0, 0.0);\n// const northPole = new Vector3(0.0, 0.0, 1.0);\nconst resultMatrix = new Matrix4();\n\nexport default function ellipsoidBench(suite) {\n  // const spaceCartesian = new Vector3(4582719.8827300891, -4582719.8827300882, 1725510.4250797231);\n\n  suite\n    .group('@math.gl/geospatial Ellipsoid')\n    .add('#cartographicToCartesian(=>Vector3)', () =>\n      ellipsoid.cartographicToCartesian(spaceCartographic, resultVector)\n    )\n    .add('#cartesianToCartographic(=>Vector3)', () =>\n      ellipsoid.cartesianToCartographic(spaceCartesian, resultVector)\n    )\n    .add('#eastNorthUpToFixedFrame()', () =>\n      Ellipsoid.WGS84.eastNorthUpToFixedFrame(origin, resultMatrix)\n    )\n    // .add('#eastNorthUpToFixedFrame(Pole)', () =>\n    //   Ellipsoid.WGS84.eastNorthUpToFixedFrame(northPole, resultMatrix)\n    // )\n\n    // .add('#cartographicToCartesian(=>Object)', () =>\n    //   ellipsoid.cartographicToCartesian(spaceCartographic, resultObject)\n    // )\n    // .add('#geodSurfNormalCarto(=>Object)', () =>\n    //   ellipsoid.geodeticSurfaceNormalCartographic(spaceCartographicObject, resultObject)\n    // )\n\n    .add('#geodSurfNormal(=>Vector3)', () =>\n      ellipsoid.geodeticSurfaceNormalCartographic(spaceCartographic, resultVector)\n    )\n    // .add('#geodSurfNormalCarto() Opt', () =>\n    //   geodeticSurfaceNormalCartographicOptimized(spaceCartographic, resultArray)\n    // )\n\n    .add('#geodeticSurfaceNormal(=>Vector3)', () =>\n      ellipsoid.geodeticSurfaceNormal(spaceCartesian, resultVector)\n    )\n\n    .add('#scaleToGeocentricSurface(=>Vector3)', () =>\n      ellipsoid.scaleToGeocentricSurface(spaceCartesian, resultVector)\n    );\n  // .add('#scaleToGeocentricSurface(=>Object)', () =>\n  //   ellipsoid.scaleToGeocentricSurface(spaceCartesian, resultObject)\n  // )\n\n  return suite;\n}\n\n/*\n// Hand optimized version of Ellipsoid.geodeticSurfaceNormalCartographic\n// Computes the normal of the plane tangent to the surface of the ellipsoid at provided position.\nfunction geodeticSurfaceNormalCartographicOptimized(cartographic, result = new Vector3()) {\n  // const longitude = cartographic.longitude;\n  // const latitude = cartographic.latitude;\n\n  // const longitude = toRadians(cartographic[0]);\n  // const latitude = toRadians(cartographic[1]);\n  const longitude = cartographic[0];\n  const latitude = cartographic[1];\n\n  const cosLatitude = Math.cos(latitude);\n\n  const x = cosLatitude * Math.cos(longitude);\n  const y = cosLatitude * Math.sin(longitude);\n  const z = Math.sin(latitude);\n\n  result.x = x;\n  result.y = y;\n  result.z = z;\n\n  return vec3.normalize(result, result);\n}\n*/\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3} from '@math.gl/core';\nimport {\n  fromCartographic,\n  fromCartographicToRadians,\n  toCartographicFromRadians\n} from '../src/type-utils';\n\nimport ellipsoidBench from '@math.gl/geospatial/test/ellipsoid/ellipsoid.bench';\n\nclass ObjectVector {\n  constructor(x = 0, y = 0, z = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n}\n\nconst array = [0, 0, 0];\nconst float32Array = new Float32Array([0, 0, 0]);\nconst objectVector = new ObjectVector();\nconst vector = new Vector3();\nconst vector3 = new Vector3();\n\nexport default function geospatialBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('Cartographic Type Conversion Cost')\n    .add('fromCartographic#Vector3', () => fromCartographic(vector3, vector))\n    .add('fromCartographicToRadians#Vector3', () => fromCartographicToRadians(vector3, vector))\n    .add('toCartographicFromRadians#Vector3', () => toCartographicFromRadians(vector3, vector));\n\n  if (addReferenceBenchmarks) {\n    suite\n      // .add('fromCartographicToRadians#Object', () =>\n      //   fromCartographicToRadians(vector3, objectVector)\n      // )\n      .add('toCartographicFromRadians#Object', () =>\n        toCartographicFromRadians(vector3, objectVector)\n      )\n      .add('fromCartographicToRadians#Array', () => fromCartographicToRadians(vector3, array))\n      .add('fromCartographicToRadians#Float32Array', () =>\n        fromCartographicToRadians(vector3, float32Array)\n      )\n      .add('toCartographicFromRadians#Array', () => toCartographicFromRadians(vector3, array))\n      .add('toCartographicFromRadians#Float32Array', () =>\n        toCartographicFromRadians(vector3, float32Array)\n      );\n  }\n\n  ellipsoidBench(suite);\n\n  return suite;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nexport const INTERSECTION = Object.freeze({\n  OUTSIDE: -1, // Represents that an object is not contained within the frustum.\n  INTERSECTING: 0, // Represents that an object intersects one of the frustum's planes.\n  INSIDE: 1 // Represents that an object is fully within the frustum.\n});\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3} from '@math.gl/core';\nimport * as mat4 from 'gl-matrix/mat4';\nimport {INTERSECTION} from '../../constants';\n\n// import Rectangle from './rectangle';\n\n// const defaultProjection = new GeographicProjection();\n// const fromRectangle2DLowerLeft = new Vector3();\n// const fromRectangle2DUpperRight = new Vector3();\n// const fromRectangle2DSouthwest = new Cartographic();\n// const fromRectangle2DNortheast = new Cartographic();\n\n// const fromRectangle3DScratch = [];\n\nconst scratchVector = new Vector3();\nconst scratchVector2 = new Vector3();\n\nexport default class BoundingSphere {\n  constructor(center = [0, 0, 0], radius = 0.0) {\n    this.radius = -0;\n    this.center = new Vector3();\n    this.fromCenterRadius(center, radius);\n  }\n\n  fromCenterRadius(center, radius) {\n    this.center.from(center);\n    this.radius = radius;\n    return this;\n  }\n\n  fromCornerPoints(corner, oppositeCorner) {\n    oppositeCorner = scratchVector.from(oppositeCorner);\n    this.center = new Vector3().from(corner).add(oppositeCorner).scale(0.5);\n    this.radius = this.center.distance(oppositeCorner);\n    return this;\n  }\n\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) && this.center.equals(right.center) && this.radius === right.radius)\n    );\n  }\n\n  clone() {\n    return new BoundingSphere(this.center, this.radius);\n  }\n\n  union(boundingSphere) {\n    const leftCenter = this.center;\n    const leftRadius = this.radius;\n    const rightCenter = boundingSphere.center;\n    const rightRadius = boundingSphere.radius;\n\n    const toRightCenter = scratchVector.copy(rightCenter).subtract(leftCenter);\n    const centerSeparation = toRightCenter.magnitude();\n\n    if (leftRadius >= centerSeparation + rightRadius) {\n      // Left sphere wins.\n      return this.clone();\n    }\n\n    if (rightRadius >= centerSeparation + leftRadius) {\n      // Right sphere wins.\n      return boundingSphere.clone();\n    }\n\n    // There are two tangent points, one on far side of each sphere.\n    const halfDistanceBetweenTangentPoints = (leftRadius + centerSeparation + rightRadius) * 0.5;\n\n    // Compute the center point halfway between the two tangent points.\n    scratchVector2\n      .copy(toRightCenter)\n      .scale((-leftRadius + halfDistanceBetweenTangentPoints) / centerSeparation)\n      .add(leftCenter);\n\n    this.center.copy(scratchVector2);\n    this.radius = halfDistanceBetweenTangentPoints;\n\n    return this;\n  }\n\n  expand(point) {\n    point = scratchVector.from(point);\n    const radius = point.subtract(this.center).magnitude();\n    if (radius > this.radius) {\n      this.radius = radius;\n    }\n    return this;\n  }\n\n  transform(transform) {\n    this.center.transform(transform);\n    const scale = mat4.getScaling(scratchVector, transform);\n    this.radius = Math.max(scale[0], Math.max(scale[1], scale[2])) * this.radius;\n    return this;\n  }\n\n  // Computes the estimated distance squared from the closest point on a bounding sphere to a point.\n  distanceSquaredTo(point) {\n    point = scratchVector.from(point);\n    const delta = point.subtract(this.center);\n    return delta.lengthSquared() - this.radius * this.radius;\n  }\n\n  distanceTo(point) {\n    return Math.sqrt(this.distanceSquaredTo(point));\n  }\n\n  // Determines which side of a plane a sphere is located.\n  intersectPlane(plane) {\n    const center = this.center;\n    const radius = this.radius;\n    const normal = plane.normal;\n    const distanceToPlane = normal.dot(center) + plane.distance;\n\n    // The center point is negative side of the plane normal\n    if (distanceToPlane < -radius) {\n      return INTERSECTION.OUTSIDE;\n    }\n    // The center point is positive side of the plane, but radius extends beyond it; partial overlap\n    if (distanceToPlane < radius) {\n      return INTERSECTION.INTERSECTING;\n    }\n    // The center point and radius is positive side of the plane\n    return INTERSECTION.INSIDE;\n  }\n}\n","import {Vector3} from '@math.gl/core';\nimport {INTERSECTION} from '../../constants';\n\nconst scratchVector = new Vector3();\nconst scratchNormal = new Vector3();\n\nexport default class AxisAlignedBoundingBox {\n  constructor(minimum = [0, 0, 0], maximum = [0, 0, 0], center = null) {\n    // If center was not defined, compute it.\n    center = center || scratchVector.copy(minimum).add(maximum).scale(0.5);\n    this.center = new Vector3(center);\n    this.halfDiagonal = new Vector3(maximum).subtract(this.center);\n\n    /**\n     * The minimum point defining the bounding box.\n     * @type {Vector3}\n     * @default {@link 0, 0, 0}\n     */\n    this.minimum = new Vector3(minimum);\n\n    /**\n     * The maximum point defining the bounding box.\n     * @type {Vector3}\n     * @default {@link 0, 0, 0}\n     */\n    this.maximum = new Vector3(maximum);\n  }\n\n  /**\n   * Duplicates a AxisAlignedBoundingBox instance.\n   *\n   * @returns {AxisAlignedBoundingBox} A new AxisAlignedBoundingBox instance.\n   */\n  clone() {\n    return new AxisAlignedBoundingBox(this.minimum, this.maximum, this.center);\n  }\n\n  /**\n   * Compares the provided AxisAlignedBoundingBox componentwise and returns\n   * <code>true</code> if they are equal, <code>false</code> otherwise.\n   *\n   * @param {AxisAlignedBoundingBox} [right] The second AxisAlignedBoundingBox to compare with.\n   * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\n   */\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) && this.minimum.equals(right.minimum) && this.maximum.equals(right.maximum))\n    );\n  }\n\n  transform(transformation) {\n    this.center.transformAsPoint(transformation);\n    // TODO - this.halfDiagonal.transformAsVector(transformation);\n    this.halfDiagonal.transform(transformation);\n    this.minimum.transform(transformation);\n    this.maximum.transform(transformation);\n    return this;\n  }\n\n  /**\n   * Determines which side of a plane a box is located.\n   */\n  intersectPlane(plane) {\n    const {halfDiagonal} = this;\n    const normal = scratchNormal.from(plane.normal);\n    const e =\n      halfDiagonal.x * Math.abs(normal.x) +\n      halfDiagonal.y * Math.abs(normal.y) +\n      halfDiagonal.z * Math.abs(normal.z);\n    const s = this.center.dot(normal) + plane.distance; // signed distance from center\n\n    if (s - e > 0) {\n      return INTERSECTION.INSIDE;\n    }\n\n    if (s + e < 0) {\n      // Not in front because normals point inward\n      return INTERSECTION.OUTSIDE;\n    }\n\n    return INTERSECTION.INTERSECTING;\n  }\n\n  // Computes the estimated distance from the closest point on a bounding box to a point.\n  distanceTo(point) {\n    return Math.sqrt(this.distanceSquaredTo(point));\n  }\n\n  // Computes the estimated distance squared from the closest point on a bounding box to a point.\n  // A simplified version of OrientedBoundingBox.distanceSquaredTo\n  distanceSquaredTo(point) {\n    const offset = scratchVector.from(point).subtract(this.center);\n    const {halfDiagonal} = this;\n\n    let distanceSquared = 0.0;\n    let d;\n\n    d = Math.abs(offset.x) - halfDiagonal.x;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    d = Math.abs(offset.y) - halfDiagonal.y;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    d = Math.abs(offset.z) - halfDiagonal.z;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    return distanceSquared;\n  }\n}\n","import \"core-js/modules/es.math.hypot\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Matrix from './base/matrix';\nimport {checkVector, deprecated} from '../lib/validators';\n// eslint-disable-next-line camelcase\nimport {vec4_transformMat3} from '../lib/gl-matrix-extras';\n\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as mat3 from 'gl-matrix/mat3';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec2 from 'gl-matrix/vec2';\n// @ts-ignore: error TS2307: Cannot find module 'gl-matrix/...'.\nimport * as vec3 from 'gl-matrix/vec3';\n\nconst IDENTITY = Object.freeze([1, 0, 0, 0, 1, 0, 0, 0, 1]);\nconst ZERO = Object.freeze([0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\nconst INDICES = Object.freeze({\n  COL0ROW0: 0,\n  COL0ROW1: 1,\n  COL0ROW2: 2,\n  COL1ROW0: 3,\n  COL1ROW1: 4,\n  COL1ROW2: 5,\n  COL2ROW0: 6,\n  COL2ROW1: 7,\n  COL2ROW2: 8\n});\n\nconst constants = {};\n\nexport default class Matrix3 extends Matrix {\n  static get IDENTITY() {\n    constants.IDENTITY = constants.IDENTITY || Object.freeze(new Matrix3(IDENTITY));\n    return constants.IDENTITY;\n  }\n\n  static get ZERO() {\n    constants.ZERO = constants.ZERO || Object.freeze(new Matrix3(ZERO));\n    return constants.ZERO;\n  }\n\n  get ELEMENTS() {\n    return 9;\n  }\n\n  get RANK() {\n    return 3;\n  }\n\n  get INDICES() {\n    return INDICES;\n  }\n\n  constructor(array) {\n    // PERF NOTE: initialize elements as double precision numbers\n    super(-0, -0, -0, -0, -0, -0, -0, -0, -0);\n    if (arguments.length === 1 && Array.isArray(array)) {\n      this.copy(array);\n    } else {\n      this.identity();\n    }\n  }\n\n  copy(array) {\n    this[0] = array[0];\n    this[1] = array[1];\n    this[2] = array[2];\n    this[3] = array[3];\n    this[4] = array[4];\n    this[5] = array[5];\n    this[6] = array[6];\n    this[7] = array[7];\n    this[8] = array[8];\n    return this.check();\n  }\n\n  // accepts column major order, stores in column major order\n  // eslint-disable-next-line max-params\n  set(m00, m10, m20, m01, m11, m21, m02, m12, m22) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m01;\n    this[4] = m11;\n    this[5] = m21;\n    this[6] = m02;\n    this[7] = m12;\n    this[8] = m22;\n    return this.check();\n  }\n\n  // accepts row major order, stores as column major\n  // eslint-disable-next-line max-params\n  setRowMajor(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n    this[0] = m00;\n    this[1] = m10;\n    this[2] = m20;\n    this[3] = m01;\n    this[4] = m11;\n    this[5] = m21;\n    this[6] = m02;\n    this[7] = m12;\n    this[8] = m22;\n    return this.check();\n  }\n\n  // Accessors\n\n  determinant() {\n    return mat3.determinant(this);\n  }\n\n  // Constructors\n\n  identity() {\n    return this.copy(IDENTITY);\n  }\n\n  // Calculates a 3x3 matrix from the given quaternion\n  // q quat  Quaternion to create matrix from\n  fromQuaternion(q) {\n    mat3.fromQuat(this, q);\n    return this.check();\n  }\n\n  // Modifiers\n\n  transpose() {\n    mat3.transpose(this, this);\n    return this.check();\n  }\n\n  invert() {\n    mat3.invert(this, this);\n    return this.check();\n  }\n\n  // Operations\n\n  multiplyLeft(a) {\n    mat3.multiply(this, a, this);\n    return this.check();\n  }\n\n  multiplyRight(a) {\n    mat3.multiply(this, this, a);\n    return this.check();\n  }\n\n  rotate(radians) {\n    mat3.rotate(this, this, radians);\n    return this.check();\n  }\n\n  scale(factor) {\n    if (Array.isArray(factor)) {\n      mat3.scale(this, this, factor);\n    } else {\n      mat3.scale(this, this, [factor, factor, factor]);\n    }\n\n    return this.check();\n  }\n\n  translate(vec) {\n    mat3.translate(this, this, vec);\n    return this.check();\n  }\n\n  // Transforms\n\n  transform(vector, result) {\n    switch (vector.length) {\n      case 2:\n        result = vec2.transformMat3(result || [-0, -0], vector, this);\n        break;\n      case 3:\n        result = vec3.transformMat3(result || [-0, -0, -0], vector, this);\n        break;\n      case 4:\n        result = vec4_transformMat3(result || [-0, -0, -0, -0], vector, this);\n        break;\n      default:\n        throw new Error('Illegal vector');\n    }\n    checkVector(result, vector.length);\n    return result;\n  }\n\n  // DEPRECATED IN 3.0\n\n  transformVector(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n\n  transformVector2(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n\n  transformVector3(vector, result) {\n    deprecated('Matrix3.transformVector');\n    return this.transform(vector, result);\n  }\n}\n","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyVec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {ReadonlyQuat} a     Origin unit quaternion\r\n * @param  {ReadonlyQuat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyMat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {ReadonlyQuat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {ReadonlyQuat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat} a The first quaternion.\r\n * @param {ReadonlyQuat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat} a The first vector.\r\n * @param {ReadonlyQuat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {ReadonlyVec3} a the initial vector\r\n * @param {ReadonlyVec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {ReadonlyQuat} c the third operand\r\n * @param {ReadonlyQuat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\r\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\r\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, equals, assert} from '@math.gl/core';\n\nconst scratchPosition = new Vector3();\nconst scratchNormal = new Vector3();\n\n// A plane in Hessian Normal Form\nexport default class Plane {\n  constructor(normal = [0, 0, 1], distance = 0) {\n    this.normal = new Vector3();\n    this.distance = -0;\n    this.fromNormalDistance(normal, distance);\n  }\n\n  fromNormalDistance(normal, distance) {\n    assert(Number.isFinite(distance));\n    this.normal.from(normal).normalize();\n    this.distance = distance;\n    return this;\n  }\n\n  // Creates a plane from a normal and a point on the plane.\n  fromPointNormal(point, normal) {\n    point = scratchPosition.from(point);\n    this.normal.from(normal).normalize();\n    const distance = -this.normal.dot(point);\n    this.distance = distance;\n\n    return this;\n  }\n\n  // Creates a plane from the general equation\n  fromCoefficients(a, b, c, d) {\n    this.normal.set(a, b, c);\n    assert(equals(this.normal.len(), 1));\n    this.distance = d;\n    return this;\n  }\n\n  // Duplicates a Plane instance.\n  clone(plane) {\n    return new Plane(this.normal, this.distance);\n  }\n\n  // Compares the provided Planes by normal and distance\n  equals(right) {\n    return equals(this.distance, right.distance) && equals(this.normal, right.normal);\n  }\n\n  // Computes the signed shortest distance of a point to a plane.\n  // The sign of the distance determines which side of the plane the point is on.\n  getPointDistance(point) {\n    return this.normal.dot(point) + this.distance;\n  }\n\n  // Transforms the plane by the given transformation matrix.\n  transform(matrix4) {\n    const normal = scratchNormal.copy(this.normal).transformAsVector(matrix4).normalize();\n    const point = this.normal.scale(-this.distance).transform(matrix4);\n    return this.fromPointNormal(point, normal);\n  }\n\n  // Projects a point onto the plane.\n  projectPointOntoPlane(point, result = [0, 0, 0]) {\n    point = scratchPosition.from(point);\n    // projectedPoint = point - (normal.point + scale) * normal\n    const pointDistance = this.getPointDistance(point);\n    const scaledNormal = scratchNormal.copy(this.normal).scale(pointDistance);\n\n    return point.subtract(scaledNormal).to(result);\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix3, Quaternion} from '@math.gl/core';\nimport BoundingSphere from './bounding-sphere';\nimport {INTERSECTION} from '../../constants';\n\nconst scratchVector3 = new Vector3();\nconst scratchOffset = new Vector3();\nconst scratchVectorU = new Vector3();\nconst scratchVectorV = new Vector3();\nconst scratchVectorW = new Vector3();\nconst scratchCorner = new Vector3();\nconst scratchToCenter = new Vector3();\n\nconst MATRIX3 = {\n  COLUMN0ROW0: 0,\n  COLUMN0ROW1: 1,\n  COLUMN0ROW2: 2,\n  COLUMN1ROW0: 3,\n  COLUMN1ROW1: 4,\n  COLUMN1ROW2: 5,\n  COLUMN2ROW0: 6,\n  COLUMN2ROW1: 7,\n  COLUMN2ROW2: 8\n};\n\nexport default class OrientedBoundingBox {\n  constructor(center = [0, 0, 0], halfAxes = [0, 0, 0, 0, 0, 0, 0, 0, 0]) {\n    this.center = new Vector3().from(center);\n    this.halfAxes = new Matrix3(halfAxes);\n  }\n\n  get halfSize() {\n    const xAxis = this.halfAxes.getColumn(0);\n    const yAxis = this.halfAxes.getColumn(1);\n    const zAxis = this.halfAxes.getColumn(2);\n    return [new Vector3(xAxis).len(), new Vector3(yAxis).len(), new Vector3(zAxis).len()];\n  }\n\n  get quaternion() {\n    const xAxis = this.halfAxes.getColumn(0);\n    const yAxis = this.halfAxes.getColumn(1);\n    const zAxis = this.halfAxes.getColumn(2);\n    const normXAxis = new Vector3(xAxis).normalize();\n    const normYAxis = new Vector3(yAxis).normalize();\n    const normZAxis = new Vector3(zAxis).normalize();\n    return new Quaternion().fromMatrix3(new Matrix3([...normXAxis, ...normYAxis, ...normZAxis]));\n  }\n\n  fromCenterHalfSizeQuaternion(center, halfSize, quaternion) {\n    const quaternionObject = new Quaternion(quaternion);\n    const directionsMatrix = new Matrix3().fromQuaternion(quaternionObject);\n    directionsMatrix[0] = directionsMatrix[0] * halfSize[0];\n    directionsMatrix[1] = directionsMatrix[1] * halfSize[0];\n    directionsMatrix[2] = directionsMatrix[2] * halfSize[0];\n    directionsMatrix[3] = directionsMatrix[3] * halfSize[1];\n    directionsMatrix[4] = directionsMatrix[4] * halfSize[1];\n    directionsMatrix[5] = directionsMatrix[5] * halfSize[1];\n    directionsMatrix[6] = directionsMatrix[6] * halfSize[2];\n    directionsMatrix[7] = directionsMatrix[7] * halfSize[2];\n    directionsMatrix[8] = directionsMatrix[8] * halfSize[2];\n    this.center = new Vector3().from(center);\n    this.halfAxes = directionsMatrix;\n    return this;\n  }\n\n  clone() {\n    return new OrientedBoundingBox(this.center, this.halfAxes);\n  }\n\n  equals(right) {\n    return (\n      this === right ||\n      (Boolean(right) && this.center.equals(right.center) && this.halfAxes.equals(right.halfAxes))\n    );\n  }\n\n  getBoundingSphere(result = new BoundingSphere()) {\n    const halfAxes = this.halfAxes;\n    const u = halfAxes.getColumn(0, scratchVectorU);\n    const v = halfAxes.getColumn(1, scratchVectorV);\n    const w = halfAxes.getColumn(2, scratchVectorW);\n\n    // Calculate \"corner\" vector\n    const cornerVector = scratchVector3.copy(u).add(v).add(w);\n\n    result.center.copy(this.center);\n    result.radius = cornerVector.magnitude();\n\n    return result;\n  }\n\n  intersectPlane(plane) {\n    const center = this.center;\n    const normal = plane.normal;\n    const halfAxes = this.halfAxes;\n\n    const normalX = normal.x;\n    const normalY = normal.y;\n    const normalZ = normal.z;\n\n    // Plane is used as if it is its normal; the first three components are assumed to be normalized\n    const radEffective =\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN0ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN0ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN0ROW2]\n      ) +\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN1ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN1ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN1ROW2]\n      ) +\n      Math.abs(\n        normalX * halfAxes[MATRIX3.COLUMN2ROW0] +\n          normalY * halfAxes[MATRIX3.COLUMN2ROW1] +\n          normalZ * halfAxes[MATRIX3.COLUMN2ROW2]\n      );\n    const distanceToPlane = normal.dot(center) + plane.distance;\n\n    if (distanceToPlane <= -radEffective) {\n      // The entire box is on the negative side of the plane normal\n      return INTERSECTION.OUTSIDE;\n    } else if (distanceToPlane >= radEffective) {\n      // The entire box is on the positive side of the plane normal\n      return INTERSECTION.INSIDE;\n    }\n    return INTERSECTION.INTERSECTING;\n  }\n\n  distanceTo(point) {\n    return Math.sqrt(this.distanceSquaredTo(point));\n  }\n\n  distanceSquaredTo(point) {\n    // Computes the estimated distance squared from the\n    // closest point on a bounding box to a point.\n    // See Geometric Tools for Computer Graphics 10.4.2\n    const offset = scratchOffset.from(point).subtract(this.center);\n\n    const halfAxes = this.halfAxes;\n    const u = halfAxes.getColumn(0, scratchVectorU);\n    const v = halfAxes.getColumn(1, scratchVectorV);\n    const w = halfAxes.getColumn(2, scratchVectorW);\n\n    const uHalf = u.magnitude();\n    const vHalf = v.magnitude();\n    const wHalf = w.magnitude();\n\n    u.normalize();\n    v.normalize();\n    w.normalize();\n\n    let distanceSquared = 0.0;\n    let d;\n\n    d = Math.abs(offset.dot(u)) - uHalf;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    d = Math.abs(offset.dot(v)) - vHalf;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    d = Math.abs(offset.dot(w)) - wHalf;\n    if (d > 0) {\n      distanceSquared += d * d;\n    }\n\n    return distanceSquared;\n  }\n\n  // eslint-disable-next-line max-statements\n  computePlaneDistances(position, direction, result = [-0, -0]) {\n    let minDist = Number.POSITIVE_INFINITY;\n    let maxDist = Number.NEGATIVE_INFINITY;\n\n    const center = this.center;\n    const halfAxes = this.halfAxes;\n\n    const u = halfAxes.getColumn(0, scratchVectorU);\n    const v = halfAxes.getColumn(1, scratchVectorV);\n    const w = halfAxes.getColumn(2, scratchVectorW);\n\n    // project first corner\n    const corner = scratchCorner.copy(u).add(v).add(w).add(center);\n\n    const toCenter = scratchToCenter.copy(corner).subtract(position);\n    let mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project second corner\n    corner.copy(center).add(u).add(v).subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project third corner\n    corner.copy(center).add(u).subtract(v).add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project fourth corner\n    corner.copy(center).add(u).subtract(v).subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project fifth corner\n    center.copy(corner).subtract(u).add(v).add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project sixth corner\n    center.copy(corner).subtract(u).add(v).subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project seventh corner\n    center.copy(corner).subtract(u).subtract(v).add(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    // project eighth corner\n    center.copy(corner).subtract(u).subtract(v).subtract(w);\n\n    toCenter.copy(corner).subtract(position);\n    mag = direction.dot(toCenter);\n\n    minDist = Math.min(mag, minDist);\n    maxDist = Math.max(mag, maxDist);\n\n    result[0] = minDist;\n    result[1] = maxDist;\n    return result;\n  }\n\n  transform(transformation) {\n    this.center.transformAsPoint(transformation);\n\n    const xAxis = this.halfAxes.getColumn(0, scratchVectorU);\n    xAxis.transformAsPoint(transformation);\n\n    const yAxis = this.halfAxes.getColumn(1, scratchVectorV);\n    yAxis.transformAsPoint(transformation);\n\n    const zAxis = this.halfAxes.getColumn(2, scratchVectorW);\n    zAxis.transformAsPoint(transformation);\n\n    this.halfAxes = new Matrix3([...xAxis, ...yAxis, ...zAxis]);\n    return this;\n  }\n\n  getTransform() {\n    // const modelMatrix = Matrix4.fromRotationTranslation(this.boundingVolume.halfAxes, this.boundingVolume.center);\n    // return modelMatrix;\n    throw new Error('not implemented');\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n/* eslint-disable */\nimport {Vector3, Vector4, assert} from '@math.gl/core';\nimport {INTERSECTION} from '../constants';\nimport Plane from './plane';\n\n// X, Y, Z Unit vectors\nconst faces = [new Vector3([1, 0, 0]), new Vector3([0, 1, 0]), new Vector3([0, 0, 1])];\n\nconst scratchPlaneCenter = new Vector3();\nconst scratchPlaneNormal = new Vector3();\nconst scratchPlane = new Plane(new Vector3(1.0, 0.0, 0.0), 0.0);\n\n// A culling volume defined by planes.\nexport default class CullingVolume {\n  // For plane masks (as used in {@link CullingVolume#computeVisibilityWithPlaneMask}), this special value\n  // represents the case where the object bounding volume is entirely outside the culling volume.\n  static get MASK_OUTSIDE() {\n    return 0xffffffff;\n  }\n\n  // For plane masks (as used in {@link CullingVolume.prototype.computeVisibilityWithPlaneMask}), this value\n  // represents the case where the object bounding volume is entirely inside the culling volume.\n  static get MASK_INSIDE() {\n    return 0x00000000;\n  }\n\n  // For plane masks (as used in {@link CullingVolume.prototype.computeVisibilityWithPlaneMask}), this value\n  // represents the case where the object bounding volume (may) intersect all planes of the culling volume.\n  static get MASK_INDETERMINATE() {\n    return 0x7fffffff;\n  }\n\n  constructor(planes = []) {\n    // {Cartesian4[]} [planes] An array of clipping planes.\n    this.planes = planes;\n    assert(this.planes.every((plane) => plane instanceof Plane));\n  }\n\n  // Constructs a culling volume from a bounding sphere. Creates six planes that create a box containing the sphere.\n  // The planes are aligned to the x, y, and z axes in world coordinates.\n  fromBoundingSphere(boundingSphere) {\n    this.planes.length = 2 * faces.length;\n\n    const center = boundingSphere.center;\n    const radius = boundingSphere.radius;\n\n    let planeIndex = 0;\n\n    for (const faceNormal of faces) {\n      let plane0 = this.planes[planeIndex];\n      let plane1 = this.planes[planeIndex + 1];\n\n      if (!plane0) {\n        plane0 = this.planes[planeIndex] = new Plane();\n      }\n      if (!plane1) {\n        plane1 = this.planes[planeIndex + 1] = new Plane();\n      }\n\n      const plane0Center = scratchPlaneCenter.copy(faceNormal).scale(-radius).add(center);\n      const plane0Distance = -faceNormal.dot(plane0Center);\n\n      plane0.fromPointNormal(plane0Center, faceNormal);\n\n      const plane1Center = scratchPlaneCenter.copy(faceNormal).scale(radius).add(center);\n\n      const negatedFaceNormal = scratchPlaneNormal.copy(faceNormal).negate();\n\n      const plane1Distance = -negatedFaceNormal.dot(plane1Center);\n\n      plane1.fromPointNormal(plane1Center, negatedFaceNormal);\n\n      planeIndex += 2;\n    }\n\n    return this;\n  }\n\n  // Determines whether a bounding volume intersects the culling volume.\n  computeVisibility(boundingVolume) {\n    assert(boundingVolume);\n    // const planes = this.planes;\n    let intersect = INTERSECTION.INSIDE;\n    for (const plane of this.planes) {\n      const result = boundingVolume.intersectPlane(plane);\n      switch (result) {\n        case INTERSECTION.OUTSIDE:\n          // We are done\n          return INTERSECTION.OUTSIDE;\n\n        case INTERSECTION.INTERSECTING:\n          // If no other intersection is outside, return INTERSECTING\n          intersect = INTERSECTION.INTERSECTING;\n          break;\n\n        default:\n      }\n    }\n\n    return intersect;\n  }\n\n  // Determines whether a bounding volume intersects the culling volume.\n  /*\n   * @param {Number} parentPlaneMask A bit mask from the boundingVolume's parent's check against the same culling\n   *                                 volume, such that if (planeMask & (1 << planeIndex) === 0), for k < 31, then\n   *                                 the parent (and therefore this) volume is completely inside plane[planeIndex]\n   *                                 and that plane check can be skipped.\n   */\n  computeVisibilityWithPlaneMask(boundingVolume, parentPlaneMask) {\n    assert(boundingVolume, 'boundingVolume is required.');\n    assert(Number.isFinite(parentPlaneMask), 'parentPlaneMask is required.');\n\n    if (\n      parentPlaneMask === CullingVolume.MASK_OUTSIDE ||\n      parentPlaneMask === CullingVolume.MASK_INSIDE\n    ) {\n      // parent is completely outside or completely inside, so this child is as well.\n      return parentPlaneMask;\n    }\n\n    // Start with MASK_INSIDE (all zeros) so that after the loop, the return value can be compared with MASK_INSIDE.\n    // (Because if there are fewer than 31 planes, the upper bits wont be changed.)\n    let mask = CullingVolume.MASK_INSIDE;\n\n    const planes = this.planes;\n    for (let k = 0; k < this.planes.length; ++k) {\n      // For k greater than 31 (since 31 is the maximum number of INSIDE/INTERSECTING bits we can store), skip the optimization.\n      const flag = k < 31 ? 1 << k : 0;\n      if (k < 31 && (parentPlaneMask & flag) === 0) {\n        // boundingVolume is known to be INSIDE this plane.\n        continue;\n      }\n\n      const plane = planes[k];\n      const result = boundingVolume.intersectPlane(plane);\n      if (result === INTERSECTION.OUTSIDE) {\n        return CullingVolume.MASK_OUTSIDE;\n      } else if (result === INTERSECTION.INTERSECTING) {\n        mask |= flag;\n      }\n    }\n\n    return mask;\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\n// Note: This class is still an experimental export, mainly used by other test cases\n// - It has not been fully adapted to math.gl conventions\n// - Documentation has not been ported\n\n// @ts-nocheck\n\nimport {Vector3, Matrix4, assert} from '@math.gl/core';\nimport CullingVolume from './culling-volume';\nimport Plane from './plane';\n\nconst scratchPlaneUpVector = new Vector3();\nconst scratchPlaneRightVector = new Vector3();\nconst scratchPlaneNearCenter = new Vector3();\nconst scratchPlaneFarCenter = new Vector3();\nconst scratchPlaneNormal = new Vector3();\n\nexport default class PerspectiveOffCenterFrustum {\n  /**\n   * The viewing frustum is defined by 6 planes.\n   * Each plane is represented by a {@link Vector4} object, where the x, y, and z components\n   * define the unit vector normal to the plane, and the w component is the distance of the\n   * plane from the origin/camera position.\n   *\n   * @alias PerspectiveOffCenterFrustum\n   * @constructor\n   *\n   * @param {Object} [options] An object with the following properties:\n   * @param {Number} [options.left] The left clipping plane distance.\n   * @param {Number} [options.right] The right clipping plane distance.\n   * @param {Number} [options.top] The top clipping plane distance.\n   * @param {Number} [options.bottom] The bottom clipping plane distance.\n   * @param {Number} [options.near=1.0] The near clipping plane distance.\n   * @param {Number} [options.far=500000000.0] The far clipping plane distance.\n   *\n   * @example\n   * const frustum = new PerspectiveOffCenterFrustum({\n   *     left : -1.0,\n   *     right : 1.0,\n   *     top : 1.0,\n   *     bottom : -1.0,\n   *     near : 1.0,\n   *     far : 100.0\n   * });\n   *\n   * @see PerspectiveFrustum\n   */\n  constructor(options = {}) {\n    options = {near: 1.0, far: 500000000.0, ...options};\n\n    /**\n     * Defines the left clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.left = options.left;\n    this._left = undefined;\n\n    /**\n     * Defines the right clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.right = options.right;\n    this._right = undefined;\n\n    /**\n     * Defines the top clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.top = options.top;\n    this._top = undefined;\n\n    /**\n     * Defines the bottom clipping plane.\n     * @type {Number}\n     * @default undefined\n     */\n    this.bottom = options.bottom;\n    this._bottom = undefined;\n\n    /**\n     * The distance of the near plane.\n     * @type {Number}\n     * @default 1.0\n     */\n    this.near = options.near;\n    this._near = this.near;\n\n    /**\n     * The distance of the far plane.\n     * @type {Number}\n     * @default 500000000.0\n     */\n    this.far = options.far;\n    this._far = this.far;\n\n    this._cullingVolume = new CullingVolume([\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane(),\n      new Plane()\n    ]);\n    this._perspectiveMatrix = new Matrix4();\n    this._infinitePerspective = new Matrix4();\n  }\n\n  /**\n   * Returns a duplicate of a PerspectiveOffCenterFrustum instance.\n   * @returns {PerspectiveOffCenterFrustum} A new PerspectiveFrustum instance.\n   * */\n  clone() {\n    return new PerspectiveOffCenterFrustum({\n      right: this.right,\n      left: this.left,\n      top: this.top,\n      bottom: this.bottom,\n      near: this.near,\n      far: this.far\n    });\n  }\n\n  /**\n   * Compares the provided PerspectiveOffCenterFrustum componentwise and returns\n   * <code>true</code> if they are equal, <code>false</code> otherwise.\n   *\n   * @param {PerspectiveOffCenterFrustum} [other] The right hand side PerspectiveOffCenterFrustum.\n   * @returns {Boolean} <code>true</code> if they are equal, <code>false</code> otherwise.\n   */\n  equals(other) {\n    return (\n      other &&\n      other instanceof PerspectiveOffCenterFrustum &&\n      this.right === other.right &&\n      this.left === other.left &&\n      this.top === other.top &&\n      this.bottom === other.bottom &&\n      this.near === other.near &&\n      this.far === other.far\n    );\n  }\n\n  /**\n   * Gets the perspective projection matrix computed from the view frustum.\n   * @memberof PerspectiveOffCenterFrustum.prototype\n   * @type {Matrix4}\n   * @readonly\n   *\n   * @see PerspectiveOffCenterFrustum#infiniteProjectionMatrix\n   */\n  get projectionMatrix() {\n    update(this);\n    return this._perspectiveMatrix;\n  }\n\n  /**\n   * Gets the perspective projection matrix computed from the view frustum with an infinite far plane.\n   * @memberof PerspectiveOffCenterFrustum.prototype\n   * @type {Matrix4}\n   * @readonly\n   *\n   * @see PerspectiveOffCenterFrustum#projectionMatrix\n   */\n  get infiniteProjectionMatrix() {\n    update(this);\n    return this._infinitePerspective;\n  }\n\n  /**\n   * Creates a culling volume for this frustum.\n   *\n   * @param {Vector3} position The eye position.\n   * @param {Vector3} direction The view direction.\n   * @param {Vector3} up The up direction.\n   * @returns {CullingVolume} A culling volume at the given position and orientation.\n   *\n   * @example\n   * // Check if a bounding volume intersects the frustum.\n   * const cullingVolume = frustum.computeCullingVolume(cameraPosition, cameraDirection, cameraUp);\n   * const intersect = cullingVolume.computeVisibility(boundingVolume);\n   */\n  // eslint-disable-next-line complexity, max-statements\n  computeCullingVolume(position, direction, up) {\n    assert(position, 'position is required.');\n    assert(direction, 'direction is required.');\n    assert(up, 'up is required.');\n\n    const planes = this._cullingVolume.planes;\n\n    up = scratchPlaneUpVector.copy(up).normalize();\n    const right = scratchPlaneRightVector.copy(direction).cross(up).normalize();\n\n    const nearCenter = scratchPlaneNearCenter\n      .copy(direction)\n      .multiplyByScalar(this.near)\n      .add(position);\n\n    const farCenter = scratchPlaneFarCenter\n      .copy(direction)\n      .multiplyByScalar(this.far)\n      .add(position);\n\n    let normal = scratchPlaneNormal;\n\n    // Left plane computation\n    normal.copy(right).multiplyByScalar(this.left).add(nearCenter).subtract(position).cross(up);\n\n    planes[0].fromPointNormal(position, normal);\n\n    // Right plane computation\n    normal\n      .copy(right)\n      .multiplyByScalar(this.right)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(up)\n      .negate();\n\n    planes[1].fromPointNormal(position, normal);\n\n    // Bottom plane computation\n    normal\n      .copy(up)\n      .multiplyByScalar(this.bottom)\n      .add(nearCenter)\n      .subtract(position)\n      .cross(right)\n      .negate();\n\n    planes[2].fromPointNormal(position, normal);\n\n    // Top plane computation\n    normal.copy(up).multiplyByScalar(this.top).add(nearCenter).subtract(position).cross(right);\n\n    planes[3].fromPointNormal(position, normal);\n\n    normal = new Vector3().copy(direction);\n\n    // Near plane computation\n    planes[4].fromPointNormal(nearCenter, normal);\n\n    // Far plane computation\n    normal.negate();\n\n    planes[5].fromPointNormal(farCenter, normal);\n\n    return this._cullingVolume;\n  }\n\n  /**\n   * Returns the pixel's width and height in meters.\n   *\n   * @param {Number} drawingBufferWidth The width of the drawing buffer.\n   * @param {Number} drawingBufferHeight The height of the drawing buffer.\n   * @param {Number} distance The distance to the near plane in meters.\n   * @param {Vector2} result The object onto which to store the result.\n   * @returns {Vector2} The modified result parameter or a new instance of {@link Vector2} with the pixel's width and height in the x and y properties, respectively.\n   *\n   * @exception {DeveloperError} drawingBufferWidth must be greater than zero.\n   * @exception {DeveloperError} drawingBufferHeight must be greater than zero.\n   *\n   * @example\n   * // Example 1\n   * // Get the width and height of a pixel.\n   * const pixelSize = camera.frustum.getPixelDimensions(scene.drawingBufferWidth, scene.drawingBufferHeight, 1.0, new Vector2());\n   *\n   * @example\n   * // Example 2\n   * // Get the width and height of a pixel if the near plane was set to 'distance'.\n   * // For example, get the size of a pixel of an image on a billboard.\n   * const position = camera.position;\n   * const direction = camera.direction;\n   * const toCenter = Vector3.subtract(primitive.boundingVolume.center, position, new Vector3());      // vector from camera to a primitive\n   * const toCenterProj = Vector3.multiplyByScalar(direction, Vector3.dot(direction, toCenter), new Vector3()); // project vector onto camera direction vector\n   * const distance = Vector3.magnitude(toCenterProj);\n   * const pixelSize = camera.frustum.getPixelDimensions(scene.drawingBufferWidth, scene.drawingBufferHeight, distance, new Vector2());\n   */\n  getPixelDimensions(drawingBufferWidth, drawingBufferHeight, distance, result) {\n    update(this);\n\n    assert(Number.isFinite(drawingBufferWidth) && Number.isFinite(drawingBufferHeight));\n    // 'Both drawingBufferWidth and drawingBufferHeight are required.'\n    assert(drawingBufferWidth > 0);\n    // 'drawingBufferWidth must be greater than zero.'\n    assert(drawingBufferHeight > 0);\n    // 'drawingBufferHeight must be greater than zero.'\n    assert(distance > 0);\n    // 'distance is required.');\n    assert(result);\n    // 'A result object is required.');\n\n    const inverseNear = 1.0 / this.near;\n    let tanTheta = this.top * inverseNear;\n    const pixelHeight = (2.0 * distance * tanTheta) / drawingBufferHeight;\n    tanTheta = this.right * inverseNear;\n    const pixelWidth = (2.0 * distance * tanTheta) / drawingBufferWidth;\n\n    result.x = pixelWidth;\n    result.y = pixelHeight;\n    return result;\n  }\n}\n\n// eslint-disable-next-line complexity, max-statements\nfunction update(frustum) {\n  assert(\n    Number.isFinite(frustum.right) &&\n      Number.isFinite(frustum.left) &&\n      Number.isFinite(frustum.top) &&\n      Number.isFinite(frustum.bottom) &&\n      Number.isFinite(frustum.near) &&\n      Number.isFinite(frustum.far)\n  );\n  // throw new DeveloperError('right, left, top, bottom, near, or far parameters are not set.');\n\n  const {top, bottom, right, left, near, far} = frustum;\n\n  if (\n    top !== frustum._top ||\n    bottom !== frustum._bottom ||\n    left !== frustum._left ||\n    right !== frustum._right ||\n    near !== frustum._near ||\n    far !== frustum._far\n  ) {\n    assert(\n      frustum.near > 0 && frustum.near < frustum.far,\n      'near must be greater than zero and less than far.'\n    );\n\n    frustum._left = left;\n    frustum._right = right;\n    frustum._top = top;\n    frustum._bottom = bottom;\n    frustum._near = near;\n    frustum._far = far;\n    frustum._perspectiveMatrix = new Matrix4().frustum({\n      left,\n      right,\n      bottom,\n      top,\n      near,\n      far\n    });\n    frustum._infinitePerspective = new Matrix4().frustum({\n      left,\n      right,\n      bottom,\n      top,\n      near,\n      far: Infinity\n    });\n  }\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3} from '@math.gl/core';\nimport BoundingSphere from '../bounding-volumes/bounding-sphere';\n\n/* eslint-disable */\nconst fromPointsXMin = new Vector3();\nconst fromPointsYMin = new Vector3();\nconst fromPointsZMin = new Vector3();\nconst fromPointsXMax = new Vector3();\nconst fromPointsYMax = new Vector3();\nconst fromPointsZMax = new Vector3();\nconst fromPointsCurrentPos = new Vector3();\nconst fromPointsScratch = new Vector3();\nconst fromPointsRitterCenter = new Vector3();\nconst fromPointsMinBoxPt = new Vector3();\nconst fromPointsMaxBoxPt = new Vector3();\nconst fromPointsNaiveCenterScratch = new Vector3();\nconst volumeConstant = (4.0 / 3.0) * Math.PI;\n\nexport default function makeBoundingSphereFromPoints(positions, result = new BoundingSphere()) {\n  if (!positions || positions.length === 0) {\n    return result.fromCenterRadius([0, 0, 0], 0);\n  }\n\n  const currentPos = fromPointsCurrentPos.copy(positions[0]);\n\n  const xMin = fromPointsXMin.copy(currentPos);\n  const yMin = fromPointsYMin.copy(currentPos);\n  const zMin = fromPointsZMin.copy(currentPos);\n\n  const xMax = fromPointsXMax.copy(currentPos);\n  const yMax = fromPointsYMax.copy(currentPos);\n  const zMax = fromPointsZMax.copy(currentPos);\n\n  for (const position of positions) {\n    currentPos.copy(position);\n\n    const x = currentPos.x;\n    const y = currentPos.y;\n    const z = currentPos.z;\n\n    // Store points containing the the smallest and largest components\n    if (x < xMin.x) {\n      currentPos.copy(xMin);\n    }\n\n    if (x > xMax.x) {\n      currentPos.copy(xMax);\n    }\n\n    if (y < yMin.y) {\n      currentPos.copy(yMin);\n    }\n\n    if (y > yMax.y) {\n      currentPos.copy(yMax);\n    }\n\n    if (z < zMin.z) {\n      currentPos.copy(zMin);\n    }\n\n    if (z > zMax.z) {\n      currentPos.copy(zMax);\n    }\n  }\n\n  // Compute x-, y-, and z-spans (Squared distances b/n each component's min. and max.).\n  const xSpan = fromPointsScratch.copy(xMax).subtract(xMin).magnitudeSquared();\n  const ySpan = fromPointsScratch.copy(yMax).subtract(yMin).magnitudeSquared();\n  const zSpan = fromPointsScratch.copy(zMax).subtract(zMin).magnitudeSquared();\n\n  // Set the diameter endpoints to the largest span.\n  let diameter1 = xMin;\n  let diameter2 = xMax;\n  let maxSpan = xSpan;\n  if (ySpan > maxSpan) {\n    maxSpan = ySpan;\n    diameter1 = yMin;\n    diameter2 = yMax;\n  }\n  if (zSpan > maxSpan) {\n    maxSpan = zSpan;\n    diameter1 = zMin;\n    diameter2 = zMax;\n  }\n\n  // Calculate the center of the initial sphere found by Ritter's algorithm\n  const ritterCenter = fromPointsRitterCenter;\n  ritterCenter.x = (diameter1.x + diameter2.x) * 0.5;\n  ritterCenter.y = (diameter1.y + diameter2.y) * 0.5;\n  ritterCenter.z = (diameter1.z + diameter2.z) * 0.5;\n\n  // Calculate the radius of the initial sphere found by Ritter's algorithm\n  let radiusSquared = fromPointsScratch.copy(diameter2).subtract(ritterCenter).magnitudeSquared();\n  let ritterRadius = Math.sqrt(radiusSquared);\n\n  // Find the center of the sphere found using the Naive method.\n  const minBoxPt = fromPointsMinBoxPt;\n  minBoxPt.x = xMin.x;\n  minBoxPt.y = yMin.y;\n  minBoxPt.z = zMin.z;\n\n  const maxBoxPt = fromPointsMaxBoxPt;\n  maxBoxPt.x = xMax.x;\n  maxBoxPt.y = yMax.y;\n  maxBoxPt.z = zMax.z;\n\n  const naiveCenter = fromPointsNaiveCenterScratch\n    .copy(minBoxPt)\n    .add(maxBoxPt)\n    .multiplyByScalar(0.5);\n\n  // Begin 2nd pass to find naive radius and modify the ritter sphere.\n  let naiveRadius = 0;\n  for (const position of positions) {\n    currentPos.copy(position);\n\n    // Find the furthest point from the naive center to calculate the naive radius.\n    const r = fromPointsScratch.copy(currentPos).subtract(naiveCenter).magnitude();\n    if (r > naiveRadius) {\n      naiveRadius = r;\n    }\n\n    // Make adjustments to the Ritter Sphere to include all points.\n    const oldCenterToPointSquared = fromPointsScratch\n      .copy(currentPos)\n      .subtract(ritterCenter)\n      .magnitudeSquared();\n\n    if (oldCenterToPointSquared > radiusSquared) {\n      const oldCenterToPoint = Math.sqrt(oldCenterToPointSquared);\n      // Calculate new radius to include the point that lies outside\n      ritterRadius = (ritterRadius + oldCenterToPoint) * 0.5;\n      radiusSquared = ritterRadius * ritterRadius;\n      // Calculate center of new Ritter sphere\n      const oldToNew = oldCenterToPoint - ritterRadius;\n      ritterCenter.x = (ritterRadius * ritterCenter.x + oldToNew * currentPos.x) / oldCenterToPoint;\n      ritterCenter.y = (ritterRadius * ritterCenter.y + oldToNew * currentPos.y) / oldCenterToPoint;\n      ritterCenter.z = (ritterRadius * ritterCenter.z + oldToNew * currentPos.z) / oldCenterToPoint;\n    }\n  }\n\n  if (ritterRadius < naiveRadius) {\n    ritterCenter.to(result.center);\n    // @ts-ignore TS2540: Cannot assign to 'radius' because it is a read-only property.\n    result.radius = ritterRadius;\n  } else {\n    naiveCenter.to(result.center);\n    // @ts-ignore TS2540: Cannot assign to 'radius' because it is a read-only property.\n    result.radius = naiveRadius;\n  }\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Matrix3, _MathUtils} from '@math.gl/core';\n\nconst scratchMatrix = new Matrix3();\nconst scratchUnitary = new Matrix3();\nconst scratchDiagonal = new Matrix3();\n\nconst jMatrix = new Matrix3();\nconst jMatrixTranspose = new Matrix3();\n\nexport default function computeEigenDecomposition(matrix, result = {}) {\n  const EIGEN_TOLERANCE = _MathUtils.EPSILON20;\n  const EIGEN_MAX_SWEEPS = 10;\n\n  let count = 0;\n  let sweep = 0;\n\n  const unitaryMatrix = scratchUnitary;\n  const diagonalMatrix = scratchDiagonal;\n\n  unitaryMatrix.identity();\n  diagonalMatrix.copy(matrix);\n\n  const epsilon = EIGEN_TOLERANCE * computeFrobeniusNorm(diagonalMatrix);\n\n  while (sweep < EIGEN_MAX_SWEEPS && offDiagonalFrobeniusNorm(diagonalMatrix) > epsilon) {\n    shurDecomposition(diagonalMatrix, jMatrix);\n\n    jMatrixTranspose.copy(jMatrix).transpose();\n\n    diagonalMatrix.multiplyRight(jMatrix);\n    diagonalMatrix.multiplyLeft(jMatrixTranspose);\n    unitaryMatrix.multiplyRight(jMatrix);\n\n    if (++count > 2) {\n      ++sweep;\n      count = 0;\n    }\n  }\n\n  result.unitary = unitaryMatrix.toTarget(result.unitary);\n  result.diagonal = diagonalMatrix.toTarget(result.diagonal);\n\n  return result;\n}\n\nfunction computeFrobeniusNorm(matrix) {\n  let norm = 0.0;\n  for (let i = 0; i < 9; ++i) {\n    const temp = matrix[i];\n    norm += temp * temp;\n  }\n  return Math.sqrt(norm);\n}\n\nconst rowVal = [1, 0, 0];\nconst colVal = [2, 2, 1];\n\n// Computes the \"off-diagonal\" Frobenius norm.\n// Assumes matrix is symmetric.\nfunction offDiagonalFrobeniusNorm(matrix) {\n  let norm = 0.0;\n  for (let i = 0; i < 3; ++i) {\n    const temp = matrix[scratchMatrix.getElementIndex(colVal[i], rowVal[i])];\n    norm += 2.0 * temp * temp;\n  }\n  return Math.sqrt(norm);\n}\n\n// The routine takes a matrix, which is assumed to be symmetric, and\n// finds the largest off-diagonal term, and then creates\n// a matrix (result) which can be used to help reduce it\n//\n// This routine was created based upon Matrix Computations, 3rd ed., by Golub and Van Loan,\n// section 8.4.2 The 2by2 Symmetric Schur Decomposition.\n//\n// eslint-disable-next-line max-statements\nfunction shurDecomposition(matrix, result) {\n  const tolerance = _MathUtils.EPSILON15;\n\n  let maxDiagonal = 0.0;\n  let rotAxis = 1;\n\n  // find pivot (rotAxis) based on max diagonal of matrix\n  for (let i = 0; i < 3; ++i) {\n    const temp = Math.abs(matrix[scratchMatrix.getElementIndex(colVal[i], rowVal[i])]);\n    if (temp > maxDiagonal) {\n      rotAxis = i;\n      maxDiagonal = temp;\n    }\n  }\n\n  const p = rowVal[rotAxis];\n  const q = colVal[rotAxis];\n\n  let c = 1.0;\n  let s = 0.0;\n\n  if (Math.abs(matrix[scratchMatrix.getElementIndex(q, p)]) > tolerance) {\n    const qq = matrix[scratchMatrix.getElementIndex(q, q)];\n    const pp = matrix[scratchMatrix.getElementIndex(p, p)];\n    const qp = matrix[scratchMatrix.getElementIndex(q, p)];\n\n    const tau = (qq - pp) / 2.0 / qp;\n    let t;\n\n    if (tau < 0.0) {\n      t = -1.0 / (-tau + Math.sqrt(1.0 + tau * tau));\n    } else {\n      t = 1.0 / (tau + Math.sqrt(1.0 + tau * tau));\n    }\n\n    c = 1.0 / Math.sqrt(1.0 + t * t);\n    s = t * c;\n  }\n\n  // Copy into result\n  Matrix3.IDENTITY.to(result);\n  result[scratchMatrix.getElementIndex(p, p)] = result[scratchMatrix.getElementIndex(q, q)] = c;\n  result[scratchMatrix.getElementIndex(q, p)] = s;\n  result[scratchMatrix.getElementIndex(p, q)] = -s;\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Vector3, Matrix3} from '@math.gl/core';\nimport computeEigenDecomposition from './compute-eigen-decomposition';\nimport OrientedBoundingBox from '../bounding-volumes/oriented-bounding-box';\nimport AxisAlignedBoundingBox from '../bounding-volumes/axis-aligned-bounding-box';\n\nconst scratchVector2 = new Vector3();\n\nconst scratchVector3 = new Vector3();\n\nconst scratchVector4 = new Vector3();\n\nconst scratchVector5 = new Vector3();\n\nconst scratchVector6 = new Vector3();\n\nconst scratchCovarianceResult = new Matrix3();\n\nconst scratchEigenResult = {\n  diagonal: new Matrix3(),\n  unitary: new Matrix3()\n};\n\n/* eslint-disable max-statements */\nexport function makeOrientedBoundingBoxFromPoints(positions, result = new OrientedBoundingBox()) {\n  if (!positions || positions.length === 0) {\n    result.halfAxes = new Matrix3([0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    result.center = new Vector3();\n    return result;\n  }\n\n  const length = positions.length;\n  const meanPoint = new Vector3(0, 0, 0);\n  for (const position of positions) {\n    meanPoint.add(position);\n  }\n  const invLength = 1.0 / length;\n  meanPoint.multiplyByScalar(invLength);\n\n  let exx = 0.0;\n  let exy = 0.0;\n  let exz = 0.0;\n  let eyy = 0.0;\n  let eyz = 0.0;\n  let ezz = 0.0;\n\n  for (const position of positions) {\n    const p = scratchVector2.copy(position).subtract(meanPoint);\n    exx += p.x * p.x;\n    exy += p.x * p.y;\n    exz += p.x * p.z;\n    eyy += p.y * p.y;\n    eyz += p.y * p.z;\n    ezz += p.z * p.z;\n  }\n\n  exx *= invLength;\n  exy *= invLength;\n  exz *= invLength;\n  eyy *= invLength;\n  eyz *= invLength;\n  ezz *= invLength;\n\n  const covarianceMatrix = scratchCovarianceResult;\n  covarianceMatrix[0] = exx;\n  covarianceMatrix[1] = exy;\n  covarianceMatrix[2] = exz;\n  covarianceMatrix[3] = exy;\n  covarianceMatrix[4] = eyy;\n  covarianceMatrix[5] = eyz;\n  covarianceMatrix[6] = exz;\n  covarianceMatrix[7] = eyz;\n  covarianceMatrix[8] = ezz;\n\n  const {unitary} = computeEigenDecomposition(covarianceMatrix, scratchEigenResult);\n  const rotation = result.halfAxes.copy(unitary);\n\n  let v1 = rotation.getColumn(0, scratchVector4);\n  let v2 = rotation.getColumn(1, scratchVector5);\n  let v3 = rotation.getColumn(2, scratchVector6);\n\n  let u1 = -Number.MAX_VALUE;\n  let u2 = -Number.MAX_VALUE;\n  let u3 = -Number.MAX_VALUE;\n  let l1 = Number.MAX_VALUE;\n  let l2 = Number.MAX_VALUE;\n  let l3 = Number.MAX_VALUE;\n\n  for (const position of positions) {\n    u1 = Math.max(position.dot(v1), u1);\n    u2 = Math.max(position.dot(v2), u2);\n    u3 = Math.max(position.dot(v3), u3);\n\n    l1 = Math.min(position.dot(v1), l1);\n    l2 = Math.min(position.dot(v2), l2);\n    l3 = Math.min(position.dot(v3), l3);\n  }\n\n  v1 = v1.multiplyByScalar(0.5 * (l1 + u1));\n  v2 = v2.multiplyByScalar(0.5 * (l2 + u2));\n  v3 = v3.multiplyByScalar(0.5 * (l3 + u3));\n\n  result.center.copy(v1).add(v2).add(v3);\n\n  const scale = scratchVector3.set(u1 - l1, u2 - l2, u3 - l3).multiplyByScalar(0.5);\n  const scaleMatrix = new Matrix3([scale[0], 0, 0, 0, scale[1], 0, 0, 0, scale[2]]);\n  result.halfAxes.multiplyRight(scaleMatrix);\n\n  return result;\n}\n\nexport function makeAxisAlignedBoundingBoxFromPoints(\n  positions,\n  result = new AxisAlignedBoundingBox()\n) {\n  if (!positions || positions.length === 0) {\n    result.minimum.set(0, 0, 0);\n    result.maximum.set(0, 0, 0);\n    result.center.set(0, 0, 0);\n    result.halfDiagonal.set(0, 0, 0);\n    return result;\n  }\n\n  let minimumX = positions[0][0];\n  let minimumY = positions[0][1];\n  let minimumZ = positions[0][2];\n\n  let maximumX = positions[0][0];\n  let maximumY = positions[0][1];\n  let maximumZ = positions[0][2];\n\n  for (const p of positions) {\n    const x = p[0];\n    const y = p[1];\n    const z = p[2];\n\n    minimumX = Math.min(x, minimumX);\n    maximumX = Math.max(x, maximumX);\n    minimumY = Math.min(y, minimumY);\n    maximumY = Math.max(y, maximumY);\n    minimumZ = Math.min(z, minimumZ);\n    maximumZ = Math.max(z, maximumZ);\n  }\n\n  result.minimum.set(minimumX, minimumY, minimumZ);\n  result.maximum.set(maximumX, maximumY, maximumZ);\n  result.center.copy(result.minimum).add(result.maximum).scale(0.5);\n  result.halfDiagonal.copy(result.maximum).subtract(result.center);\n\n  return result;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {Matrix4} from '@math.gl/core';\nimport {BoundingSphere, Plane} from '@math.gl/culling';\n\nconst plane = new Plane();\nconst boundingSphere = new BoundingSphere();\nconst transform = new Matrix4();\n\n// @ts-ignore ts6133\n// eslint-disable-next-line\nexport default function cullingBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('BoundingSphere')\n    .add('BoundingSphere#new()', () => new BoundingSphere())\n    .add('BoundingSphere#transform', () => boundingSphere.transform(transform))\n\n    .group('Plane')\n    .add('Plane#new()', () => new Plane())\n    .add('Plane#transform', () => plane.transform(transform));\n\n  return suite;\n}\n","/* eslint-disable max-statements, max-depth, complexity, no-unused-expressions */\n\nimport {equals} from '@math.gl/core';\n\n/** @type {typeof import('./polygon-utils').WINDING} */\nexport const WINDING = {\n  CLOCKWISE: 1,\n  COUNTER_CLOCKWISE: -1\n};\n\n/** @type {typeof import('./polygon-utils').modifyPolygonWindingDirection} */\nexport function modifyPolygonWindingDirection(points, direction, options = {}) {\n  const windingDirection = getPolygonWindingDirection(points, options);\n  if (windingDirection !== direction) {\n    reversePolygon(points, options);\n    return true;\n  }\n  return false;\n}\n\n/** @type {typeof import('./polygon-utils').getPolygonWindingDirection} */\nexport function getPolygonWindingDirection(points, options = {}) {\n  return Math.sign(getPolygonSignedArea(points, options));\n}\n\n/** @type {typeof import('./polygon-utils').getPolygonSignedArea} */\nexport function getPolygonSignedArea(points, options = {}) {\n  // https://en.wikipedia.org/wiki/Shoelace_formula\n  const {start = 0, end = points.length} = options;\n  const dim = options.size || 2;\n  let area = 0;\n  for (let i = start, j = end - dim; i < end; i += dim) {\n    area += (points[i] - points[j]) * (points[i + 1] + points[j + 1]);\n    j = i;\n  }\n  return area / 2;\n}\n\n/** @type {typeof import('./polygon-utils').forEachSegmentInPolygon} */\nexport function forEachSegmentInPolygon(points, visitor, options = {}) {\n  const {start = 0, end = points.length, size = 2, isClosed} = options;\n\n  const numPoints = (end - start) / size;\n  for (let i = 0; i < numPoints - 1; ++i) {\n    visitor(\n      points[start + i * size],\n      points[start + i * size + 1],\n      points[start + (i + 1) * size],\n      points[start + (i + 1) * size + 1],\n      i,\n      i + 1\n    );\n  }\n\n  const endPointIndex = start + (numPoints - 1) * size;\n  const isClosedEx =\n    isClosed ||\n    (equals(points[start], points[endPointIndex]) &&\n      equals(points[start + 1], points[endPointIndex + 1]));\n\n  if (!isClosedEx) {\n    visitor(\n      points[endPointIndex],\n      points[endPointIndex + 1],\n      points[start],\n      points[start + 1],\n      numPoints - 1,\n      0\n    );\n  }\n}\n\nfunction reversePolygon(points, options) {\n  const {start = 0, end = points.length, size = 2} = options;\n\n  const numPoints = (end - start) / size;\n  const numSwaps = Math.floor(numPoints / 2);\n  for (let i = 0; i < numSwaps; ++i) {\n    const b1 = start + i * size;\n    const b2 = start + (numPoints - 1 - i) * size;\n    for (let j = 0; j < size; ++j) {\n      const tmp = points[b1 + j];\n      points[b1 + j] = points[b2 + j];\n      points[b2 + j] = tmp;\n    }\n  }\n}\n\n/** @type {typeof import('./polygon-utils').modifyPolygonWindingDirectionPoints} */\nexport function modifyPolygonWindingDirectionPoints(points, direction, options = {}) {\n  const currentDirection = getPolygonWindingDirectionPoints(points, options);\n  if (currentDirection !== direction) {\n    points.reverse();\n    return true;\n  }\n  return false;\n}\n\n/** @type {typeof import('./polygon-utils').getPolygonWindingDirectionPoints} */\nexport function getPolygonWindingDirectionPoints(points, options = {}) {\n  return Math.sign(getPolygonSignedAreaPoints(points, options));\n}\n\n/** @type {typeof import('./polygon-utils').getPolygonSignedAreaPoints} */\nexport function getPolygonSignedAreaPoints(points, options = {}) {\n  // https://en.wikipedia.org/wiki/Shoelace_formula\n  const {start = 0, end = points.length} = options;\n  let area = 0;\n  for (let i = start, j = end - 1; i < end; ++i) {\n    area += (points[i][0] - points[j][0]) * (points[i][1] + points[j][1]);\n    j = i;\n  }\n  return area / 2;\n}\n\n/** @type {typeof import('./polygon-utils').forEachSegmentInPolygonPoints} */\nexport function forEachSegmentInPolygonPoints(points, visitor, options = {}) {\n  const {start = 0, end = points.length, isClosed} = options;\n  for (let i = start; i < end - 1; ++i) {\n    visitor(points[i], points[i + 1], i, i + 1);\n  }\n\n  const isClosedEx = isClosed || equals(points[end - 1], points[0]);\n  if (!isClosedEx) {\n    visitor(points[end - 1], points[0], end - 1, 0);\n  }\n}\n","/* eslint-disable no-undef */\n/* eslint-disable no-console */\n\nimport {isArray} from '@math.gl/core';\n\nimport {\n  getPolygonSignedArea,\n  forEachSegmentInPolygon,\n  modifyPolygonWindingDirection,\n  getPolygonSignedAreaPoints,\n  forEachSegmentInPolygonPoints,\n  modifyPolygonWindingDirectionPoints\n} from './polygon-utils';\n\nexport default class Polygon {\n  constructor(points, options = {}) {\n    this.points = points;\n    this.isFlatArray = !isArray(points[0]);\n\n    this.options = {\n      start: options.start || 0,\n      end: options.end || points.length,\n      size: options.size || 2,\n      isClosed: options.isClosed\n    };\n\n    Object.freeze(this);\n  }\n\n  getSignedArea() {\n    if (this.isFlatArray) return getPolygonSignedArea(this.points, this.options);\n\n    return getPolygonSignedAreaPoints(this.points, this.options);\n  }\n\n  getArea() {\n    return Math.abs(this.getSignedArea());\n  }\n\n  getWindingDirection() {\n    return Math.sign(this.getSignedArea());\n  }\n\n  forEachSegment(visitor) {\n    if (this.isFlatArray) {\n      forEachSegmentInPolygon(\n        this.points,\n        // eslint-disable-next-line max-params\n        (x1, y1, x2, y2, i1, i2) => {\n          // TODO @igorDykhta original visitor uses arrays for each point, but with flat arrays performance degrades if we allocate points for each segment\n          visitor([x1, y1], [x2, y2], i1, i2);\n        },\n        this.options\n      );\n    } else {\n      forEachSegmentInPolygonPoints(this.points, visitor, this.options);\n    }\n  }\n\n  modifyWindingDirection(direction) {\n    if (this.isFlatArray) {\n      return modifyPolygonWindingDirection(this.points, direction, this.options);\n    }\n    return modifyPolygonWindingDirectionPoints(this.points, direction, this.options);\n  }\n}\n","/*\n  Adapted from https://github.com/mapbox/earcut to allow passing in\n  of outline and hole areas using the `areas` parameter. As the\n  areas are calcuted as part of classifying the polygon rings\n  we can pass them in again to avoid recomputation\n\n  ISC License\n\n  Copyright (c) 2016, Mapbox\n\n  Permission to use, copy, modify, and/or distribute this software for any purpose\n  with or without fee is hereby granted, provided that the above copyright notice\n  and this permission notice appear in all copies.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n  FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n  OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n  TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n  THIS SOFTWARE.\n\n */\n\n/* eslint-disable complexity, max-params, max-statements, max-depth, no-continue, no-shadow */\n\nimport {getPolygonSignedArea} from './polygon-utils';\n\nexport function earcut(data, holeIndices, dim, areas) {\n  dim = dim || 2;\n\n  const hasHoles = holeIndices && holeIndices.length;\n  const outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n  let outerNode = linkedList(data, 0, outerLen, dim, true, areas && areas[0]);\n  const triangles = [];\n\n  if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n  let invSize;\n  let maxX;\n  let maxY;\n  let minX;\n  let minY;\n  let x;\n  let y;\n\n  if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim, areas);\n\n  // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n  if (data.length > 80 * dim) {\n    minX = maxX = data[0];\n    minY = maxY = data[1];\n\n    for (let i = dim; i < outerLen; i += dim) {\n      x = data[i];\n      y = data[i + 1];\n      if (x < minX) minX = x;\n      if (y < minY) minY = y;\n      if (x > maxX) maxX = x;\n      if (y > maxY) maxY = y;\n    }\n\n    // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n    invSize = Math.max(maxX - minX, maxY - minY);\n    invSize = invSize !== 0 ? 1 / invSize : 0;\n  }\n\n  earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n  return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise, area) {\n  let i;\n  let last;\n  if (area === undefined) {\n    area = getPolygonSignedArea(data, {start, end, size: dim});\n  }\n\n  // Note that the signed area calculation in math.gl\n  // has the opposite sign to that which was originally\n  // present in earcut, thus the `< 0` is reversed\n  if (clockwise === area < 0) {\n    for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n  } else {\n    for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n  }\n\n  if (last && equals(last, last.next)) {\n    removeNode(last);\n    last = last.next;\n  }\n\n  return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n  if (!start) return start;\n  if (!end) end = start;\n\n  let p = start;\n  let again;\n  do {\n    again = false;\n\n    if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n      removeNode(p);\n      p = end = p.prev;\n      if (p === p.next) break;\n      again = true;\n    } else {\n      p = p.next;\n    }\n  } while (again || p !== end);\n\n  return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n  if (!ear) return;\n\n  // interlink polygon nodes in z-order\n  if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n  let stop = ear;\n  let prev;\n  let next;\n\n  // iterate through ears, slicing them one by one\n  while (ear.prev !== ear.next) {\n    prev = ear.prev;\n    next = ear.next;\n\n    if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n      // cut off the triangle\n      triangles.push(prev.i / dim);\n      triangles.push(ear.i / dim);\n      triangles.push(next.i / dim);\n\n      removeNode(ear);\n\n      // skipping the next vertex leads to less sliver triangles\n      ear = next.next;\n      stop = next.next;\n\n      continue;\n    }\n\n    ear = next;\n\n    // if we looped through the whole remaining polygon and can't find any more ears\n    if (ear === stop) {\n      // try filtering points and slicing again\n      if (!pass) {\n        earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n        // if this didn't work, try curing all small self-intersections locally\n      } else if (pass === 1) {\n        ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n        earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n        // as a last resort, try splitting the remaining polygon into two\n      } else if (pass === 2) {\n        splitEarcut(ear, triangles, dim, minX, minY, invSize);\n      }\n\n      break;\n    }\n  }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n  const a = ear.prev;\n  const b = ear;\n  const c = ear.next;\n\n  if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n  // now make sure we don't have other points inside the potential ear\n  let p = ear.next.next;\n\n  while (p !== ear.prev) {\n    if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0)\n      return false;\n    p = p.next;\n  }\n\n  return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n  const a = ear.prev;\n  const b = ear;\n  const c = ear.next;\n\n  if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n  // triangle bbox; min & max are calculated like this for speed\n  const minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : b.x < c.x ? b.x : c.x;\n  const minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : b.y < c.y ? b.y : c.y;\n  const maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : b.x > c.x ? b.x : c.x;\n  const maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : b.y > c.y ? b.y : c.y;\n\n  // z-order range for the current triangle bbox;\n  const minZ = zOrder(minTX, minTY, minX, minY, invSize);\n  const maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n  let p = ear.prevZ;\n  let n = ear.nextZ;\n\n  // look for points inside the triangle in both directions\n  while (p && p.z >= minZ && n && n.z <= maxZ) {\n    if (\n      p !== ear.prev &&\n      p !== ear.next &&\n      pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n      area(p.prev, p, p.next) >= 0\n    )\n      return false;\n    p = p.prevZ;\n\n    if (\n      n !== ear.prev &&\n      n !== ear.next &&\n      pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n      area(n.prev, n, n.next) >= 0\n    )\n      return false;\n    n = n.nextZ;\n  }\n\n  // look for remaining points in decreasing z-order\n  while (p && p.z >= minZ) {\n    if (\n      p !== ear.prev &&\n      p !== ear.next &&\n      pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n      area(p.prev, p, p.next) >= 0\n    )\n      return false;\n    p = p.prevZ;\n  }\n\n  // look for remaining points in increasing z-order\n  while (n && n.z <= maxZ) {\n    if (\n      n !== ear.prev &&\n      n !== ear.next &&\n      pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n      area(n.prev, n, n.next) >= 0\n    )\n      return false;\n    n = n.nextZ;\n  }\n\n  return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n  let p = start;\n  do {\n    const a = p.prev;\n    const b = p.next.next;\n\n    if (\n      !equals(a, b) &&\n      intersects(a, p, p.next, b) &&\n      locallyInside(a, b) &&\n      locallyInside(b, a)\n    ) {\n      triangles.push(a.i / dim);\n      triangles.push(p.i / dim);\n      triangles.push(b.i / dim);\n\n      // remove two nodes involved\n      removeNode(p);\n      removeNode(p.next);\n\n      p = start = b;\n    }\n    p = p.next;\n  } while (p !== start);\n\n  return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n  // look for a valid diagonal that divides the polygon into two\n  let a = start;\n  do {\n    let b = a.next.next;\n    while (b !== a.prev) {\n      if (a.i !== b.i && isValidDiagonal(a, b)) {\n        // split the polygon in two by the diagonal\n        let c = splitPolygon(a, b);\n\n        // filter colinear points around the cuts\n        a = filterPoints(a, a.next);\n        c = filterPoints(c, c.next);\n\n        // run earcut on each half\n        earcutLinked(a, triangles, dim, minX, minY, invSize);\n        earcutLinked(c, triangles, dim, minX, minY, invSize);\n        return;\n      }\n      b = b.next;\n    }\n    a = a.next;\n  } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim, areas) {\n  const queue = [];\n  let i;\n  let len;\n  let start;\n  let end;\n  let list;\n\n  for (i = 0, len = holeIndices.length; i < len; i++) {\n    start = holeIndices[i] * dim;\n    end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n    list = linkedList(data, start, end, dim, false, areas && areas[i + 1]);\n    if (list === list.next) list.steiner = true;\n    queue.push(getLeftmost(list));\n  }\n\n  queue.sort(compareX);\n\n  // process holes from left to right\n  for (i = 0; i < queue.length; i++) {\n    eliminateHole(queue[i], outerNode);\n    outerNode = filterPoints(outerNode, outerNode.next);\n  }\n\n  return outerNode;\n}\n\nfunction compareX(a, b) {\n  return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n  outerNode = findHoleBridge(hole, outerNode);\n  if (outerNode) {\n    const b = splitPolygon(outerNode, hole);\n\n    // filter collinear points around the cuts\n    filterPoints(outerNode, outerNode.next);\n    filterPoints(b, b.next);\n  }\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n  let p = outerNode;\n  const hx = hole.x;\n  const hy = hole.y;\n  let qx = -Infinity;\n  let m;\n\n  // find a segment intersected by a ray from the hole's leftmost point to the left;\n  // segment's endpoint with lesser x will be potential connection point\n  do {\n    if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n      const x = p.x + ((hy - p.y) * (p.next.x - p.x)) / (p.next.y - p.y);\n      if (x <= hx && x > qx) {\n        qx = x;\n        if (x === hx) {\n          if (hy === p.y) return p;\n          if (hy === p.next.y) return p.next;\n        }\n        m = p.x < p.next.x ? p : p.next;\n      }\n    }\n    p = p.next;\n  } while (p !== outerNode);\n\n  if (!m) return null;\n\n  if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n\n  // look for points inside the triangle of hole point, segment intersection and endpoint;\n  // if there are no points found, we have a valid connection;\n  // otherwise choose the point of the minimum angle with the ray as connection point\n\n  const stop = m;\n  const mx = m.x;\n  const my = m.y;\n  let tanMin = Infinity;\n  let tan;\n\n  p = m;\n\n  do {\n    if (\n      hx >= p.x &&\n      p.x >= mx &&\n      hx !== p.x &&\n      pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)\n    ) {\n      tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n      if (\n        locallyInside(p, hole) &&\n        (tan < tanMin ||\n          (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))\n      ) {\n        m = p;\n        tanMin = tan;\n      }\n    }\n\n    p = p.next;\n  } while (p !== stop);\n\n  return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n  return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n  let p = start;\n  do {\n    if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n    p.prevZ = p.prev;\n    p.nextZ = p.next;\n    p = p.next;\n  } while (p !== start);\n\n  p.prevZ.nextZ = null;\n  p.prevZ = null;\n\n  sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n  let e;\n  let i;\n  let inSize = 1;\n  let numMerges;\n  let p;\n  let pSize;\n  let q;\n  let qSize;\n  let tail;\n\n  do {\n    p = list;\n    list = null;\n    tail = null;\n    numMerges = 0;\n\n    while (p) {\n      numMerges++;\n      q = p;\n      pSize = 0;\n      for (i = 0; i < inSize; i++) {\n        pSize++;\n        q = q.nextZ;\n        if (!q) break;\n      }\n      qSize = inSize;\n\n      while (pSize > 0 || (qSize > 0 && q)) {\n        if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n          e = p;\n          p = p.nextZ;\n          pSize--;\n        } else {\n          e = q;\n          q = q.nextZ;\n          qSize--;\n        }\n\n        if (tail) tail.nextZ = e;\n        else list = e;\n\n        e.prevZ = tail;\n        tail = e;\n      }\n\n      p = q;\n    }\n\n    tail.nextZ = null;\n    inSize *= 2;\n  } while (numMerges > 1);\n\n  return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n  // coords are transformed into non-negative 15-bit integer range\n  x = 32767 * (x - minX) * invSize;\n  y = 32767 * (y - minY) * invSize;\n\n  x = (x | (x << 8)) & 0x00ff00ff;\n  x = (x | (x << 4)) & 0x0f0f0f0f;\n  x = (x | (x << 2)) & 0x33333333;\n  x = (x | (x << 1)) & 0x55555555;\n\n  y = (y | (y << 8)) & 0x00ff00ff;\n  y = (y | (y << 4)) & 0x0f0f0f0f;\n  y = (y | (y << 2)) & 0x33333333;\n  y = (y | (y << 1)) & 0x55555555;\n\n  return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n  let p = start;\n  let leftmost = start;\n  do {\n    if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n    p = p.next;\n  } while (p !== start);\n\n  return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n  return (\n    (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n    (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n    (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0\n  );\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n  return (\n    a.next.i !== b.i &&\n    a.prev.i !== b.i &&\n    !intersectsPolygon(a, b) && // dones't intersect other edges\n    ((locallyInside(a, b) &&\n      locallyInside(b, a) &&\n      middleInside(a, b) && // locally visible\n      (area(a.prev, a, b.prev) || area(a, b.prev, b))) || // does not create opposite-facing sectors\n      (equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0))\n  ); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n  return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n  return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n  const o1 = sign(area(p1, q1, p2));\n  const o2 = sign(area(p1, q1, q2));\n  const o3 = sign(area(p2, q2, p1));\n  const o4 = sign(area(p2, q2, q1));\n\n  if (o1 !== o2 && o3 !== o4) return true; // general case\n\n  if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n  if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n  if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n  if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n  return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n  return (\n    q.x <= Math.max(p.x, r.x) &&\n    q.x >= Math.min(p.x, r.x) &&\n    q.y <= Math.max(p.y, r.y) &&\n    q.y >= Math.min(p.y, r.y)\n  );\n}\n\nfunction sign(num) {\n  return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n  let p = a;\n  do {\n    if (\n      p.i !== a.i &&\n      p.next.i !== a.i &&\n      p.i !== b.i &&\n      p.next.i !== b.i &&\n      intersects(p, p.next, a, b)\n    )\n      return true;\n    p = p.next;\n  } while (p !== a);\n\n  return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n  return area(a.prev, a, a.next) < 0\n    ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0\n    : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n  let p = a;\n  let inside = false;\n  const px = (a.x + b.x) / 2;\n  const py = (a.y + b.y) / 2;\n  do {\n    if (\n      p.y > py !== p.next.y > py &&\n      p.next.y !== p.y &&\n      px < ((p.next.x - p.x) * (py - p.y)) / (p.next.y - p.y) + p.x\n    )\n      inside = !inside;\n    p = p.next;\n  } while (p !== a);\n\n  return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n  const a2 = new Node(a.i, a.x, a.y);\n  const b2 = new Node(b.i, b.x, b.y);\n  const an = a.next;\n  const bp = b.prev;\n\n  a.next = b;\n  b.prev = a;\n\n  a2.next = an;\n  an.prev = a2;\n\n  b2.next = a2;\n  a2.prev = b2;\n\n  bp.next = b2;\n  b2.prev = bp;\n\n  return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n  const p = new Node(i, x, y);\n\n  if (!last) {\n    p.prev = p;\n    p.next = p;\n  } else {\n    p.next = last.next;\n    p.prev = last;\n    last.next.prev = p;\n    last.next = p;\n  }\n  return p;\n}\n\nfunction removeNode(p) {\n  p.next.prev = p.prev;\n  p.prev.next = p.next;\n\n  if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n  if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n  // vertex index in coordinates array\n  this.i = i;\n\n  // vertex coordinates\n  this.x = x;\n  this.y = y;\n\n  // previous and next vertex nodes in a polygon ring\n  this.prev = null;\n  this.next = null;\n\n  // z-order curve value\n  this.z = null;\n\n  // previous and next nodes in z-order\n  this.prevZ = null;\n  this.nextZ = null;\n\n  // indicates whether this is a steiner point\n  this.steiner = false;\n}\n","// This file is derived from the Cesium math library under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {earcut, Polygon, modifyPolygonWindingDirection, WINDING} from '@math.gl/polygon';\nimport {toNested} from './utils.js';\n\nconst polygonSmall = [0, 0, 1, 1, 0, 2, -1, 1, -1.25, 0.5, 0, 0];\n\nconst polygonMedium = [\n  4.2625, 2.24125, 3.0025, 3.20125, 2.5225, 4.22125, 0.9225, 4.32125, -0.3775, 3.30125, -0.7975,\n  2.14125, -1.8575, 2.72125, -1.8575, 0.64125, -0.3775, -0.89875, -0.3775, -0.89875, 1.2825,\n  0.92125, 1.4025, -0.89875, 2.9025, -0.31875, 4.0825, 0.62125, 4.2625, 2.24125\n];\nconst polygonMediumNested = toNested(polygonMedium);\n\n// A helper function to swap winding direction on each iteration.\nlet winding = WINDING.CLOCKWISE;\nfunction nextWinding() {\n  winding = winding === WINDING.CLOCKWISE ? WINDING.COUNTER_CLOCKWISE : WINDING.CLOCKWISE;\n  return winding;\n}\n\nexport default function polygonBench(suite, addReferenceBenchmarks) {\n  suite\n    .group('Polygon')\n    .add('Polygon#new()', () => new Polygon(polygonSmall))\n    .add('Polygon#modifyWindingDirection() S', () => {\n      const polygon = new Polygon(polygonSmall);\n      polygon.modifyWindingDirection(nextWinding());\n    })\n    .add('modifyPolygonWindingDirection() S', () => {\n      modifyPolygonWindingDirection(polygonSmall, nextWinding(), {\n        isClosed: true,\n        start: 0,\n        end: polygonSmall.length,\n        size: 2\n      });\n    })\n    .add('Polygon#modifyWindingDirection() M', () => {\n      const polygon = new Polygon(polygonMedium);\n      polygon.modifyWindingDirection(nextWinding());\n    })\n    .add('modifyPolygonWindingDirection() M', () => {\n      modifyPolygonWindingDirection(polygonMedium, nextWinding(), {\n        isClosed: true,\n        start: 0,\n        end: polygonMedium.length,\n        size: 2\n      });\n    })\n    .add('Polygon#getSignedArea()', () => {\n      const polygon = new Polygon(polygonMedium);\n      polygon.getSignedArea();\n    })\n    .add('Polygon#getSignedArea() nested', () => {\n      const polygon = new Polygon(polygonMediumNested);\n      polygon.getSignedArea();\n    })\n    .add('earcut with precomputed areas ', () => {\n      earcut(polygonMedium, [], 2, [-21.3664]);\n    })\n    .add('earcut', () => {\n      earcut(polygonMedium, [], 2);\n    });\n\n  return suite;\n}\n","export function toNested(flatData, options = {addZ: false}) {\n  const nestedData = [];\n  for (let i = 0; i < flatData.length; i += 2) {\n    const item = [flatData[i], flatData[i + 1]];\n    if (options.addZ) {\n      item.push(0);\n    }\n    nestedData.push(item);\n  }\n  return nestedData;\n}\n","import coreBench from '../../modules/core/test/bench';\nimport geospatialBench from '../../modules/geospatial/test/bench';\nimport cullingBench from '../../modules/culling/test/bench';\nimport polygonBench from '../../modules/polygon/test/bench';\n\nexport default function addBenchmarks(suite, addReferenceBenchmarks) {\n  coreBench(suite, addReferenceBenchmarks);\n  geospatialBench(suite, addReferenceBenchmarks);\n  cullingBench(suite, addReferenceBenchmarks);\n  polygonBench(suite, addReferenceBenchmarks);\n\n  return suite;\n}\n","import React, {PureComponent} from 'react';\nimport {render} from 'react-dom';\n\nimport {BenchResults} from '@probe.gl/react-bench';\nimport {Bench} from '@probe.gl/bench';\n\nimport addBenchmarks from '../../test/bench/modules.bench';\n\nconst addReferenceBenchmarks = false;\n\nconst LOG_ENTRY = {\n  GROUP: 'group',\n  TEST: 'test',\n  COMPLETE: 'complete'\n};\n\nfunction parseSIPrefix(itersPerSecond) {\n  const value = parseFloat(itersPerSecond);\n  const prefix = itersPerSecond[itersPerSecond.length - 1];\n  switch (prefix) {\n    case 'M':\n      return value * 1000000;\n    case 'K':\n      return value * 1000;\n    default:\n      return value;\n  }\n}\n\nexport default class App extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.suite = new Bench({\n      log: this._logResult.bind(this)\n    });\n    addBenchmarks(this.suite, addReferenceBenchmarks);\n\n    this.state = {\n      log: []\n    };\n  }\n\n  componentDidMount() {\n    this.suite\n      // Calibrate performance\n      .calibrate()\n      .run()\n      // when running in browser, notify test the driver that it's done\n      .then(() => {});\n  }\n\n  _logResult(result) {\n    const {entry, id, itersPerSecond, error} = result;\n\n    const {log} = this.state;\n    switch (entry) {\n      case LOG_ENTRY.GROUP:\n        log.push({id});\n        break;\n      case LOG_ENTRY.TEST:\n        const value = parseSIPrefix(itersPerSecond);\n        // log.push(` ${id}: ${itersPerSecond} iterations/s ${(error * 100).toFixed(2)}%`);\n        log.push({\n          id,\n          value,\n          formattedValue: itersPerSecond,\n          formattedError: `${(error * 100).toFixed(2)}%`\n        });\n        break;\n      case LOG_ENTRY.COMPLETE:\n        break;\n      default:\n    }\n    this.forceUpdate();\n  }\n\n  render() {\n    const {log} = this.state;\n    return (\n      <div>\n        <BenchResults log={log} />\n      </div>\n    );\n  }\n}\n\nexport function renderToDOM(container) {\n  render(<App />, container);\n}\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && process\n};\nvar self_ = globals.self || globals.window || globals.global;\nvar window_ = globals.window || globals.self || globals.global;\nvar global_ = globals.global || globals.self || globals.window;\nvar document_ = globals.document || {};\nvar process_ = globals.process || {};\nvar console_ = console;\nexport { self_ as self, window_ as window, global_ as global, document_ as document, process_ as process, console_ as console };","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","exports.f = Object.getOwnPropertySymbols;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","module.exports = false;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","module.exports = require(\"regenerator-runtime\");\n","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport isElectron from './is-electron';\nexport default function isBrowser() {\n  var isNode = (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && String(process) === '[object process]' && !process.browser;\n  return !isNode || isElectron();\n}\nexport function isBrowserMainThread() {\n  return isBrowser() && typeof document !== 'undefined';\n}","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n"],"sourceRoot":""}