{"componentChunkName":"component---node-modules-ocular-gatsby-src-templates-doc-page-markdown-jsx","path":"/modules/core/docs/developer-guide/view-and-projection","result":{"data":{"docBySlug":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"view-and-projection-matrices","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#view-and-projection-matrices","ariaLabel":"view and projection matrices permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"View and Projection Matrices"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"One of the major functions of any 3D math library is to let applications create view and projection matrices to enable positioning of the viewer in a 3D world and projection of a field-of-view onto a flat \"screen\"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"view-and-projection-matrices-1","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#view-and-projection-matrices-1","ariaLabel":"view and projection matrices 1 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"View and Projection Matrices"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To set up a 4x4 view projection matrix you need a view matrix (specifying the position, direction and orientation of the camera) and a projection matrix (specifying the characteristics of the camera such as its field of view etc)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The purpose of the view matrix is to translate and rotate your world coordinates so that the eye is located in the origin "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"[0, 0, 0]"}]},{"type":"text","value":", looking down the positive "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Z"}]},{"type":"text","value":" axis, rotated so that the right direction is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"up"}]},{"type":"text","value":". This is called the \"view coordinate system\"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The purpose of the projection matrix is to transform from view coordinates to \"clipspace\" coordinates (which is the only coordinate system that the GPU can work directly with). If a point is between "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-1"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"1"}]},{"type":"text","value":" (after "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"w"}]},{"type":"text","value":" scaling) in clipspace, it will be rendered. The "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"z"}]},{"type":"text","value":" coordinate in clipspace is also scaled (using 'near' and 'far' planes) and if between "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-1"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"1"}]},{"type":"text","value":" it is used for depth test."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note: while a projection matrix may generate coordinates with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"w !== 1"}]},{"type":"text","value":", the GPU will automatically divide the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"xyzw"}]},{"type":"text","value":" coordinates with the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"w"}]},{"type":"text","value":" coordinateof any positions it receives thus and \"normalize\" the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"w"}]},{"type":"text","value":" coordinate. Thus, there is no need to do this scaling manually in shaders unless doing additional arithmetic in clipspace."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"creating-a-view-matrix","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#creating-a-view-matrix","ariaLabel":"creating a view matrix permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Creating a View Matrix"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To create a view matrix"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Matrix4.lookAt({...})"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Normally positions are transformed by the view matrix. If doing work (e.g. lighting) in view space you will also want to transform other geometry such as normals."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"projection-matrices","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#projection-matrices","ariaLabel":"projection matrices permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Projection Matrices"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Projection matrices typically show everything inside a frustum (truncated pyramid) or a cube in the view space. Their job is to \"scale\" or \"skew\" the geometry inside this virtual shape into the clipspace cube, which is the coordinate system the GPU takes as input."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"perspective-projection-matrix","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#perspective-projection-matrix","ariaLabel":"perspective projection matrix permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Perspective Projection Matrix"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To create a projection matrix use:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Matrix4.perspective({fov, aspect, near, far})"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"creating-an-orthographic-projection-matrix","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#creating-an-orthographic-projection-matrix","ariaLabel":"creating an orthographic projection matrix permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Creating an Orthographic Projection Matrix"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"math.gl provides the traditional function create an orhtographic projection matrix by providing the \"box\" extents:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Matrix4.ortho({right, left, top, bottom, near, far})"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The extents are specified in \"view space\" (which is typically translated and rotated, but not scaled, world space)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"switching-between-perspective-and-orthographic-views","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#switching-between-perspective-and-orthographic-views","ariaLabel":"switching between perspective and orthographic views permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Switching between Perspective and Orthographic Views"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In applications it is not unusual to want to offer both perspective and orthographic views. To support this case, math.gl offers an additional method for creating orthographic projection matrix, that takes the same parameters as "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Matrix4.perspective()"}]},{"type":"text","value":", with the addition of one additional parameter, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"focalDistance"}]},{"type":"text","value":" that selects which plane in the perspective view frustum should be used to calculate the size of the orthographic view box."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Matrix4.orthographic({fovy, aspect, focalDistance, near, far})"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"about-projection-matrices","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#about-projection-matrices","ariaLabel":"about projection matrices permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"About Projection Matrices"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An ortograhic projection matrix essentially just scales your view to show everything within a box. As can be seen in the matrix below, it just centers your view between the bounds of the box, and scales your positions so that the box limits fall on -1 and +1 in each direction. It also does an inversion of the X and Y coordinates."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"math","properties":{"display":"block"},"children":[{"type":"text","value":"\n  "},{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"mfenced","properties":{"open":"[","close":"]"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"mtable","properties":{},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"mtr","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"scale"}]},{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"x"}]}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"translate"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"x"}]}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"mtr","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"scale"}]},{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"y"}]}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"translate"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"y"}]}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"mtr","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"scale"}]},{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"z"}]}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"translate"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"z"}]}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"mtr","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"..."}]}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"mtd","properties":{"columnalign":"center"},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"scale"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"global"}]}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<mo>=</mo>\n\n<mfenced open=\"[\" close=\"]\">\n<mtable>\n  <mtr>\n    <mtd columnalign=\"center\"><mfrac><mn>-2</mn><mi>left - right</mi></mfrac></mtd>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mfrac><mi>left + right</mi><mi>left - right</mi></mfrac></mtd>\n  </mtr>\n  <mtr>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mfrac><mn>-2</mn><mi>bottom - top</mi></mfrac></mtd>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mfrac><mi>bottom + top</mi><mi>bottom - top</mi></mfrac></mtd>\n  </mtr>\n  <mtr>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mfrac><mn>2</mn><mi>near - far</mi></mfrac></mtd>\n    <mtd columnalign=\"center\"><mfrac><mi>near + far</mi><mi>near - far</mi></mfrac></mtd>\n  </mtr>\n  <mtr>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mn>0</mn></mtd>\n    <mtd columnalign=\"center\"><mn>1</mn></mtd>\n  </mtr>\n</mtable>\n</mfenced>"}]}]}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"decomposing-a-viewprojection-matrix","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#decomposing-a-viewprojection-matrix","ariaLabel":"decomposing a viewprojection matrix permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Decomposing a ViewProjection Matrix"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TBA"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"remarks","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#remarks","ariaLabel":"remarks permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Remarks"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"As always, matrices are presented here in row major notation, however math.gl stores them internally in column major format to match WebGL requirements."}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"timeToRead":4,"excerpt":"View and Projection Matrices One of the major functions of any 3D math library is to let applications create view and projection matrices toâ€¦","frontmatter":{"title":" View and Projection Matrices"}}},"pageContext":{"relativeLinks":{"../../../../docs/README.md":"/docs","../docs/README.md":"/docs","../../../../docs":"/docs","docs":"/docs","../../../../docs/upgrade-guide.md":"/docs/upgrade-guide","../docs/upgrade-guide.md":"/docs/upgrade-guide","../../../../docs/upgrade-guide":"/docs/upgrade-guide","docs/upgrade-guide":"/docs/upgrade-guide","../../../../docs/whats-new.md":"/docs/whats-new","../docs/whats-new.md":"/docs/whats-new","../../../../docs/whats-new":"/docs/whats-new","docs/whats-new":"/docs/whats-new","../../../web-mercator/README.md":"/modules/web-mercator","../modules/web-mercator/README.md":"/modules/web-mercator","../../../web-mercator":"/modules/web-mercator","modules/web-mercator":"/modules/web-mercator","../../../sun/README.md":"/modules/sun","../modules/sun/README.md":"/modules/sun","../../../sun":"/modules/sun","modules/sun":"/modules/sun","../../../main/README.md":"/modules/main","../modules/main/README.md":"/modules/main","../../../main":"/modules/main","modules/main":"/modules/main","../../../geospatial/README.md":"/modules/geospatial","../modules/geospatial/README.md":"/modules/geospatial","../../../geospatial":"/modules/geospatial","modules/geospatial":"/modules/geospatial","../../../culling/README.md":"/modules/culling","../modules/culling/README.md":"/modules/culling","../../../culling":"/modules/culling","modules/culling":"/modules/culling","../../README.md":"/modules/core","../modules/core/README.md":"/modules/core","../../../core":"/modules/core","modules/core":"/modules/core","../../../sun/docs/developer-guide/sun-guide.md":"/modules/sun/docs/developer-guide/sun-guide","../modules/sun/docs/developer-guide/sun-guide.md":"/modules/sun/docs/developer-guide/sun-guide","../../../sun/docs/developer-guide/sun-guide":"/modules/sun/docs/developer-guide/sun-guide","modules/sun/docs/developer-guide/sun-guide":"/modules/sun/docs/developer-guide/sun-guide","../../../sun/docs/api-reference/get-sun-direction.md":"/modules/sun/docs/api-reference/get-sun-direction","../modules/sun/docs/api-reference/get-sun-direction.md":"/modules/sun/docs/api-reference/get-sun-direction","../../../sun/docs/api-reference/get-sun-direction":"/modules/sun/docs/api-reference/get-sun-direction","modules/sun/docs/api-reference/get-sun-direction":"/modules/sun/docs/api-reference/get-sun-direction","../../../sun/docs/api-reference/get-sun.md":"/modules/sun/docs/api-reference/get-sun","../modules/sun/docs/api-reference/get-sun.md":"/modules/sun/docs/api-reference/get-sun","../../../sun/docs/api-reference/get-sun":"/modules/sun/docs/api-reference/get-sun","modules/sun/docs/api-reference/get-sun":"/modules/sun/docs/api-reference/get-sun","../../../web-mercator/docs/developer-guide/about-coordinates.md":"/modules/web-mercator/docs/developer-guide/about-coordinates","../modules/web-mercator/docs/developer-guide/about-coordinates.md":"/modules/web-mercator/docs/developer-guide/about-coordinates","../../../web-mercator/docs/developer-guide/about-coordinates":"/modules/web-mercator/docs/developer-guide/about-coordinates","modules/web-mercator/docs/developer-guide/about-coordinates":"/modules/web-mercator/docs/developer-guide/about-coordinates","../../../web-mercator/docs/developer-guide/offset-projection-accuracy.md":"/modules/web-mercator/docs/developer-guide/offset-projection-accuracy","../modules/web-mercator/docs/developer-guide/offset-projection-accuracy.md":"/modules/web-mercator/docs/developer-guide/offset-projection-accuracy","../../../web-mercator/docs/developer-guide/offset-projection-accuracy":"/modules/web-mercator/docs/developer-guide/offset-projection-accuracy","modules/web-mercator/docs/developer-guide/offset-projection-accuracy":"/modules/web-mercator/docs/developer-guide/offset-projection-accuracy","../../../web-mercator/docs/developer-guide/web-mercator-guide.md":"/modules/web-mercator/docs/developer-guide/web-mercator-guide","../modules/web-mercator/docs/developer-guide/web-mercator-guide.md":"/modules/web-mercator/docs/developer-guide/web-mercator-guide","../../../web-mercator/docs/developer-guide/web-mercator-guide":"/modules/web-mercator/docs/developer-guide/web-mercator-guide","modules/web-mercator/docs/developer-guide/web-mercator-guide":"/modules/web-mercator/docs/developer-guide/web-mercator-guide","../../../web-mercator/docs/api-reference/web-mercator.md":"/modules/web-mercator/docs/api-reference/web-mercator","../modules/web-mercator/docs/api-reference/web-mercator.md":"/modules/web-mercator/docs/api-reference/web-mercator","../../../web-mercator/docs/api-reference/web-mercator":"/modules/web-mercator/docs/api-reference/web-mercator","modules/web-mercator/docs/api-reference/web-mercator":"/modules/web-mercator/docs/api-reference/web-mercator","../../../culling/wip/bounding-sphere.md":"/modules/culling/wip/bounding-sphere","../modules/culling/wip/bounding-sphere.md":"/modules/culling/wip/bounding-sphere","../../../culling/wip/bounding-sphere":"/modules/culling/wip/bounding-sphere","modules/culling/wip/bounding-sphere":"/modules/culling/wip/bounding-sphere","../../../culling/docs/developer-guide/culling-guide.md":"/modules/culling/docs/developer-guide/culling-guide","../modules/culling/docs/developer-guide/culling-guide.md":"/modules/culling/docs/developer-guide/culling-guide","../../../culling/docs/developer-guide/culling-guide":"/modules/culling/docs/developer-guide/culling-guide","modules/culling/docs/developer-guide/culling-guide":"/modules/culling/docs/developer-guide/culling-guide","../../../culling/docs/api-reference/bounding-sphere.md":"/modules/culling/docs/api-reference/bounding-sphere","../modules/culling/docs/api-reference/bounding-sphere.md":"/modules/culling/docs/api-reference/bounding-sphere","../../../culling/docs/api-reference/bounding-sphere":"/modules/culling/docs/api-reference/bounding-sphere","modules/culling/docs/api-reference/bounding-sphere":"/modules/culling/docs/api-reference/bounding-sphere","../../../culling/docs/api-reference/culling-volume.md":"/modules/culling/docs/api-reference/culling-volume","../modules/culling/docs/api-reference/culling-volume.md":"/modules/culling/docs/api-reference/culling-volume","../../../culling/docs/api-reference/culling-volume":"/modules/culling/docs/api-reference/culling-volume","modules/culling/docs/api-reference/culling-volume":"/modules/culling/docs/api-reference/culling-volume","../../../culling/docs/api-reference/oriented-bounding-box.md":"/modules/culling/docs/api-reference/oriented-bounding-box","../modules/culling/docs/api-reference/oriented-bounding-box.md":"/modules/culling/docs/api-reference/oriented-bounding-box","../../../culling/docs/api-reference/oriented-bounding-box":"/modules/culling/docs/api-reference/oriented-bounding-box","modules/culling/docs/api-reference/oriented-bounding-box":"/modules/culling/docs/api-reference/oriented-bounding-box","../../../culling/docs/api-reference/plane.md":"/modules/culling/docs/api-reference/plane","../modules/culling/docs/api-reference/plane.md":"/modules/culling/docs/api-reference/plane","../../../culling/docs/api-reference/plane":"/modules/culling/docs/api-reference/plane","modules/culling/docs/api-reference/plane":"/modules/culling/docs/api-reference/plane","../wip/features.md":"/modules/core/docs/wip/features","../modules/core/docs/wip/features.md":"/modules/core/docs/wip/features","../wip/features":"/modules/core/docs/wip/features","modules/core/docs/wip/features":"/modules/core/docs/wip/features","../wip/using-vectors.md":"/modules/core/docs/wip/using-vectors","../modules/core/docs/wip/using-vectors.md":"/modules/core/docs/wip/using-vectors","../wip/using-vectors":"/modules/core/docs/wip/using-vectors","modules/core/docs/wip/using-vectors":"/modules/core/docs/wip/using-vectors","debugging.md":"/modules/core/docs/developer-guide/debugging","../modules/core/docs/developer-guide/debugging.md":"/modules/core/docs/developer-guide/debugging","debugging":"/modules/core/docs/developer-guide/debugging","modules/core/docs/developer-guide/debugging":"/modules/core/docs/developer-guide/debugging","core-overview.md":"/modules/core/docs/developer-guide/core-overview","../modules/core/docs/developer-guide/core-overview.md":"/modules/core/docs/developer-guide/core-overview","core-overview":"/modules/core/docs/developer-guide/core-overview","modules/core/docs/developer-guide/core-overview":"/modules/core/docs/developer-guide/core-overview","external-frameworks.md":"/modules/core/docs/developer-guide/external-frameworks","../modules/core/docs/developer-guide/external-frameworks.md":"/modules/core/docs/developer-guide/external-frameworks","external-frameworks":"/modules/core/docs/developer-guide/external-frameworks","modules/core/docs/developer-guide/external-frameworks":"/modules/core/docs/developer-guide/external-frameworks","floating-point.md":"/modules/core/docs/developer-guide/floating-point","../modules/core/docs/developer-guide/floating-point.md":"/modules/core/docs/developer-guide/floating-point","floating-point":"/modules/core/docs/developer-guide/floating-point","modules/core/docs/developer-guide/floating-point":"/modules/core/docs/developer-guide/floating-point","performance.md":"/modules/core/docs/developer-guide/performance","../modules/core/docs/developer-guide/performance.md":"/modules/core/docs/developer-guide/performance","performance":"/modules/core/docs/developer-guide/performance","modules/core/docs/developer-guide/performance":"/modules/core/docs/developer-guide/performance","transformations.md":"/modules/core/docs/developer-guide/transformations","../modules/core/docs/developer-guide/transformations.md":"/modules/core/docs/developer-guide/transformations","transformations":"/modules/core/docs/developer-guide/transformations","modules/core/docs/developer-guide/transformations":"/modules/core/docs/developer-guide/transformations","view-and-projection.md":"/modules/core/docs/developer-guide/view-and-projection","../modules/core/docs/developer-guide/view-and-projection.md":"/modules/core/docs/developer-guide/view-and-projection","view-and-projection":"/modules/core/docs/developer-guide/view-and-projection","modules/core/docs/developer-guide/view-and-projection":"/modules/core/docs/developer-guide/view-and-projection","../../../geospatial/docs/developer-guide/geospatial-guide.md":"/modules/geospatial/docs/developer-guide/geospatial-guide","../modules/geospatial/docs/developer-guide/geospatial-guide.md":"/modules/geospatial/docs/developer-guide/geospatial-guide","../../../geospatial/docs/developer-guide/geospatial-guide":"/modules/geospatial/docs/developer-guide/geospatial-guide","modules/geospatial/docs/developer-guide/geospatial-guide":"/modules/geospatial/docs/developer-guide/geospatial-guide","../../../geospatial/docs/api-reference/helpers.md":"/modules/geospatial/docs/api-reference/helpers","../modules/geospatial/docs/api-reference/helpers.md":"/modules/geospatial/docs/api-reference/helpers","../../../geospatial/docs/api-reference/helpers":"/modules/geospatial/docs/api-reference/helpers","modules/geospatial/docs/api-reference/helpers":"/modules/geospatial/docs/api-reference/helpers","../concepts/coordinate-systems.md":"/modules/core/docs/concepts/coordinate-systems","../modules/core/docs/concepts/coordinate-systems.md":"/modules/core/docs/concepts/coordinate-systems","../concepts/coordinate-systems":"/modules/core/docs/concepts/coordinate-systems","modules/core/docs/concepts/coordinate-systems":"/modules/core/docs/concepts/coordinate-systems","../concepts/homogeneous-coordinates.md":"/modules/core/docs/concepts/homogeneous-coordinates","../modules/core/docs/concepts/homogeneous-coordinates.md":"/modules/core/docs/concepts/homogeneous-coordinates","../concepts/homogeneous-coordinates":"/modules/core/docs/concepts/homogeneous-coordinates","modules/core/docs/concepts/homogeneous-coordinates":"/modules/core/docs/concepts/homogeneous-coordinates","../api-reference/euler.md":"/modules/core/docs/api-reference/euler","../modules/core/docs/api-reference/euler.md":"/modules/core/docs/api-reference/euler","../api-reference/euler":"/modules/core/docs/api-reference/euler","modules/core/docs/api-reference/euler":"/modules/core/docs/api-reference/euler","../api-reference/math-array.md":"/modules/core/docs/api-reference/math-array","../modules/core/docs/api-reference/math-array.md":"/modules/core/docs/api-reference/math-array","../api-reference/math-array":"/modules/core/docs/api-reference/math-array","modules/core/docs/api-reference/math-array":"/modules/core/docs/api-reference/math-array","../api-reference/matrix.md":"/modules/core/docs/api-reference/matrix","../modules/core/docs/api-reference/matrix.md":"/modules/core/docs/api-reference/matrix","../api-reference/matrix":"/modules/core/docs/api-reference/matrix","modules/core/docs/api-reference/matrix":"/modules/core/docs/api-reference/matrix","../api-reference/matrix3.md":"/modules/core/docs/api-reference/matrix3","../modules/core/docs/api-reference/matrix3.md":"/modules/core/docs/api-reference/matrix3","../api-reference/matrix3":"/modules/core/docs/api-reference/matrix3","modules/core/docs/api-reference/matrix3":"/modules/core/docs/api-reference/matrix3","../api-reference/pose.md":"/modules/core/docs/api-reference/pose","../modules/core/docs/api-reference/pose.md":"/modules/core/docs/api-reference/pose","../api-reference/pose":"/modules/core/docs/api-reference/pose","modules/core/docs/api-reference/pose":"/modules/core/docs/api-reference/pose","../api-reference/quaternion.md":"/modules/core/docs/api-reference/quaternion","../modules/core/docs/api-reference/quaternion.md":"/modules/core/docs/api-reference/quaternion","../api-reference/quaternion":"/modules/core/docs/api-reference/quaternion","modules/core/docs/api-reference/quaternion":"/modules/core/docs/api-reference/quaternion","../api-reference/spherical-coordinates.md":"/modules/core/docs/api-reference/spherical-coordinates","../modules/core/docs/api-reference/spherical-coordinates.md":"/modules/core/docs/api-reference/spherical-coordinates","../api-reference/spherical-coordinates":"/modules/core/docs/api-reference/spherical-coordinates","modules/core/docs/api-reference/spherical-coordinates":"/modules/core/docs/api-reference/spherical-coordinates","../api-reference/vector.md":"/modules/core/docs/api-reference/vector","../modules/core/docs/api-reference/vector.md":"/modules/core/docs/api-reference/vector","../api-reference/vector":"/modules/core/docs/api-reference/vector","modules/core/docs/api-reference/vector":"/modules/core/docs/api-reference/vector","../api-reference/utilities.md":"/modules/core/docs/api-reference/utilities","../modules/core/docs/api-reference/utilities.md":"/modules/core/docs/api-reference/utilities","../api-reference/utilities":"/modules/core/docs/api-reference/utilities","modules/core/docs/api-reference/utilities":"/modules/core/docs/api-reference/utilities","../api-reference/vector2.md":"/modules/core/docs/api-reference/vector2","../modules/core/docs/api-reference/vector2.md":"/modules/core/docs/api-reference/vector2","../api-reference/vector2":"/modules/core/docs/api-reference/vector2","modules/core/docs/api-reference/vector2":"/modules/core/docs/api-reference/vector2","../api-reference/vector3.md":"/modules/core/docs/api-reference/vector3","../modules/core/docs/api-reference/vector3.md":"/modules/core/docs/api-reference/vector3","../api-reference/vector3":"/modules/core/docs/api-reference/vector3","modules/core/docs/api-reference/vector3":"/modules/core/docs/api-reference/vector3","../api-reference/vector4.md":"/modules/core/docs/api-reference/vector4","../modules/core/docs/api-reference/vector4.md":"/modules/core/docs/api-reference/vector4","../api-reference/vector4":"/modules/core/docs/api-reference/vector4","modules/core/docs/api-reference/vector4":"/modules/core/docs/api-reference/vector4","../api-reference/addons/polygon.md":"/modules/core/docs/api-reference/addons/polygon","../modules/core/docs/api-reference/addons/polygon.md":"/modules/core/docs/api-reference/addons/polygon","../api-reference/addons/polygon":"/modules/core/docs/api-reference/addons/polygon","modules/core/docs/api-reference/addons/polygon":"/modules/core/docs/api-reference/addons/polygon","../../../web-mercator/docs/api-reference/web-mercator-utils.md":"/modules/web-mercator/docs/api-reference/web-mercator-utils","../modules/web-mercator/docs/api-reference/web-mercator-utils.md":"/modules/web-mercator/docs/api-reference/web-mercator-utils","../../../web-mercator/docs/api-reference/web-mercator-utils":"/modules/web-mercator/docs/api-reference/web-mercator-utils","modules/web-mercator/docs/api-reference/web-mercator-utils":"/modules/web-mercator/docs/api-reference/web-mercator-utils","../../../geospatial/docs/api-reference/ellipsoid.md":"/modules/geospatial/docs/api-reference/ellipsoid","../modules/geospatial/docs/api-reference/ellipsoid.md":"/modules/geospatial/docs/api-reference/ellipsoid","../../../geospatial/docs/api-reference/ellipsoid":"/modules/geospatial/docs/api-reference/ellipsoid","modules/geospatial/docs/api-reference/ellipsoid":"/modules/geospatial/docs/api-reference/ellipsoid","../concepts/rotations.md":"/modules/core/docs/concepts/rotations","../modules/core/docs/concepts/rotations.md":"/modules/core/docs/concepts/rotations","../concepts/rotations":"/modules/core/docs/concepts/rotations","modules/core/docs/concepts/rotations":"/modules/core/docs/concepts/rotations","../api-reference/matrix4.md":"/modules/core/docs/api-reference/matrix4","../modules/core/docs/api-reference/matrix4.md":"/modules/core/docs/api-reference/matrix4","../api-reference/matrix4":"/modules/core/docs/api-reference/matrix4","modules/core/docs/api-reference/matrix4":"/modules/core/docs/api-reference/matrix4"},"slug":"modules/core/docs/developer-guide/view-and-projection","toc":"docs"}}}