"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[1001],{4137:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>c});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),d=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},p=function(t){var e=d(t.components);return n.createElement(s.Provider,{value:e},t.children)},u="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},g=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),u=d(a),g=r,c=u["".concat(s,".").concat(g)]||u[g]||m[g]||l;return a?n.createElement(c,i(i({ref:e},p),{},{components:a})):n.createElement(c,i({ref:e},p))}));function c(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=g;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o[u]="string"==typeof t?t:r,i[1]=o;for(var d=2;d<l;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},1388:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var n=a(7462),r=(a(7294),a(4137));const l={},i="Discrete Global Grids",o={unversionedId:"developer-guide/geospatial/dggs",id:"developer-guide/geospatial/dggs",title:"Discrete Global Grids",description:"Discrete global grid systems are powerful tools that enables us to convert geospatial data into a common, easy-to-analyze form.",source:"@site/../docs/developer-guide/geospatial/dggs.md",sourceDirName:"developer-guide/geospatial",slug:"/developer-guide/geospatial/dggs",permalink:"/math.gl/docs/developer-guide/geospatial/dggs",draft:!1,editUrl:"https://github.com/uber-web/math.gl/tree/master/website/../docs/developer-guide/geospatial/dggs.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Accuracy of Offset Projection",permalink:"/math.gl/docs/developer-guide/geospatial/web-mercator-offset-accuracy"},next:{title:"Transformations",permalink:"/math.gl/docs/developer-guide/math/transformations"}},s={},d=[{value:"Why DGGS in math.gl",id:"why-dggs-in-mathgl",level:2},{value:"Goals",id:"goals",level:2},{value:"Supported Grid Systems",id:"supported-grid-systems",level:2},{value:"H3 API Conventions",id:"h3-api-conventions",level:2},{value:"Comparison of DGGS Systems",id:"comparison-of-dggs-systems",level:2},{value:"H3",id:"h3",level:3},{value:"S2",id:"s2",level:3},{value:"GeoHash",id:"geohash",level:3},{value:"QuadKey",id:"quadkey",level:3}],p={toc:d},u="wrapper";function m(t){let{components:e,...l}=t;return(0,r.kt)(u,(0,n.Z)({},p,l,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"discrete-global-grids"},"Discrete Global Grids"),(0,r.kt)("p",null,"Discrete global grid systems are powerful tools that enables us to convert geospatial data into a common, easy-to-analyze form."),(0,r.kt)("h2",{id:"why-dggs-in-mathgl"},"Why DGGS in math.gl"),(0,r.kt)("p",null,"Today there are multiple DGGS grid systems, and it is not unusual for an application to have to work with\nmore than one DGGS. This can require working with a set of independent DGGS libraries with large API surfaces and subtly different API conventions, which can be taxing for implementors and maintainers."),(0,r.kt)("p",null,"We found that there is a value in having a common set of small, easy-to-use DGGS libraries that work with common API conventions."),(0,r.kt)("h2",{id:"goals"},"Goals"),(0,r.kt)("p",null,"The DGGS support in math.gl is currently focused on decoding cell indexes or tokens into center points (lng/lat) or cell boundary polygons."),(0,r.kt)("p",null,"Encoding (lng/lat to cell index) and advanced operations (child/neighbor calculation, polygon fills etc) are not currently included. Some basic encoding may be included in the future, however it is a goal to keep these libraries fairly small, and the intention is not to eventually fully duplicate large existing DGGS libraries."),(0,r.kt)("h2",{id:"supported-grid-systems"},"Supported Grid Systems"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"DGGS"),(0,r.kt)("th",{parentName:"tr",align:null},"Module"),(0,r.kt)("th",{parentName:"tr",align:null},"Functionality"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{alt:"GeoHash",src:a(81).Z,title:"GeoHash",width:"1268",height:"628"})),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"@math.gl/dggs-geohash")),(0,r.kt)("td",{parentName:"tr",align:null},"Get geometry of GeoHash tokens.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{alt:"QuadKey",src:a(4749).Z,title:"QuadKey",width:"1252",height:"636"})),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"@math.gl/dggs-quadkey")),(0,r.kt)("td",{parentName:"tr",align:null},"Get geometry of QuadKey tokens")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{alt:"S2",src:a(8477).Z,title:"S2",width:"1124",height:"588"})),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"@math.gl/dggs-s2")),(0,r.kt)("td",{parentName:"tr",align:null},"Get geometry of S2 tokens.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{alt:"H3",src:a(8085).Z,title:"H3",width:"1296",height:"726"})),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"h3-js")," ","*"),(0,r.kt)("td",{parentName:"tr",align:null},"Get geometry of H3 tokens.")))),(0,r.kt)("p",null,"Note that ",(0,r.kt)("inlineCode",{parentName:"p"},"h3-js")," is not a ",(0,r.kt)("inlineCode",{parentName:"p"},"math.gl")," library. For H3 it is recommended to work directly with the H3 JavaScript bindings."),(0,r.kt)("h2",{id:"h3-api-conventions"},"H3 API Conventions"),(0,r.kt)("p",null,"In terms of API design and nomenclature, the golden standard for DGGS systems at this time is arguably ",(0,r.kt)("a",{parentName:"p",href:"https://h3geo.org"},"H3"),", in terms of functionality, number of languages and platforms supported, community activity etc.  "),(0,r.kt)("p",null,"Rather than expose the original function names as in the existing JavaScript libraries for each DGGS, math.gl applies API naming convention based on the H3 API."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Function"),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"H3")),(0,r.kt)("th",{parentName:"tr",align:null},"S2"),(0,r.kt)("th",{parentName:"tr",align:null},"QuadKey"),(0,r.kt)("th",{parentName:"tr",align:null},"GeoHash"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Get cell center"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"getH3LngLat"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getS2LngLat")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getQuadKeyLngLat")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getGeoHashLngLat"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Get cell boundary"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"getH3Boundary"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getS2Boundary")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getQuadKeyBoundary")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getGeoHashBoundary"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Get cell boundary flat"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"getH3BoundaryFlat"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getS2BoundaryFlat")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getQuadKeyBoundaryFlat")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getGeoHashBoundaryFlat"))))),(0,r.kt)("h2",{id:"comparison-of-dggs-systems"},"Comparison of DGGS Systems"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Characteristic"),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"H3")),(0,r.kt)("th",{parentName:"tr",align:null},"S2"),(0,r.kt)("th",{parentName:"tr",align:null},"QuadKey"),(0,r.kt)("th",{parentName:"tr",align:null},"GeoHash"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Cell shape"),(0,r.kt)("td",{parentName:"tr",align:null},"Hexagon"),(0,r.kt)("td",{parentName:"tr",align:null},'"square"'),(0,r.kt)("td",{parentName:"tr",align:null},"square"),(0,r.kt)("td",{parentName:"tr",align:null},"square")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Cell area"),(0,r.kt)("td",{parentName:"tr",align:null},'"constant"'),(0,r.kt)("td",{parentName:"tr",align:null},"varies"),(0,r.kt)("td",{parentName:"tr",align:null},"varies"),(0,r.kt)("td",{parentName:"tr",align:null},"varies")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Neighbor distance"),(0,r.kt)("td",{parentName:"tr",align:null},'"constant"'),(0,r.kt)("td",{parentName:"tr",align:null},"1 or 1.4..."),(0,r.kt)("td",{parentName:"tr",align:null},"1 or 1.4..."),(0,r.kt)("td",{parentName:"tr",align:null},"1 or 1.4...")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Child cells"),(0,r.kt)("td",{parentName:"tr",align:null},"7"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Exact hierarchy"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,r.kt)("h3",{id:"h3"},"H3"),(0,r.kt)("p",null,"H3 is now widely used across the geospatial industry (it was initially developed at Uber).\nWhile not directly supported by math.gl, H3 is in fact the DGGS we would recommend for most applications."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Extensive, optimized, evolving API."),(0,r.kt)("li",{parentName:"ul"},"Superb cross-language support."),(0,r.kt)("li",{parentName:"ul"},"Equal distance between neighboring cells"),(0,r.kt)("li",{parentName:"ul"},"Similar size between all cells."),(0,r.kt)("li",{parentName:"ul"},"K-ring formation for filtering and convolutions")),(0,r.kt)("p",null,"Downsides:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"More complex projection math.")),(0,r.kt)("h3",{id:"s2"},"S2"),(0,r.kt)("p",null,"S2 works well when exact aggregation and subdivision are needed but has some disadvantages when e.g. neighbor cell calculations are important"),(0,r.kt)("h3",{id:"geohash"},"GeoHash"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/Geohash"},"Geohash")," is common choice in the open source word."),(0,r.kt)("p",null,"Good cross-language support."),(0,r.kt)("h3",{id:"quadkey"},"QuadKey"),(0,r.kt)("p",null,"Bing Maps uses a ",(0,r.kt)("a",{parentName:"p",href:"http://msdn.microsoft.com/en-us/library/bb259689.aspx."},"quadkey")," structure as their tiling scheme. Here is an overview of the concept "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Quadtrees are more predictable in that each level spans a square (at least in terms of coordinates), whereas in geohash representation sometimes squares sometimes rectangles are spanned.")))}m.isMDXComponent=!0},81:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/geohash-c0e3daa00779237f6b20605b7db6da44.png"},8085:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/h3-fa04935dd44b5e557644e742b6b64d7e.png"},4749:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/quadkey-d0a4bf1a3af21e75bf2379d445f0b851.png"},8477:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/s2-7622e8f72c519d9a2bccfc8db662f445.png"}}]);